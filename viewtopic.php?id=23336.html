<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to install package without internet connection</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p101358">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">miguipda</div>
					<div class="post-datetime">
						25 Jan 2010, 17:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I found how to install the .trx on a router. But if this router can not access internet and then it&#039;s not possible to install package via internet.</p><p>As the USB storage is not supported how can I install some packages on it ?</p><p>Sincerely thanks and have a nice day.</p><p>Miguipda ;=)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101359">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MVV</div>
					<div class="post-datetime">
						25 Jan 2010, 17:45					</div>
				</div>
				<div class="post-content content">
					<p>you could download the packages from the internet to your PC , install a webserver , place the packages in the local webserver , edit the opkg.conf to point to your local webserver , okpg update and then run as usual</p><p>That&#039;s what i did and worked fine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101360">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Kapac</div>
					<div class="post-datetime">
						25 Jan 2010, 17:51					</div>
				</div>
				<div class="post-content content">
					<p>Precompiled firmware includes openvpn?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101362">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">miguipda</div>
					<div class="post-datetime">
						25 Jan 2010, 18:16					</div>
				</div>
				<div class="post-content content">
					<p>@MMV</p><p>does it means it can simply work if I put the ipkg files in the htdocs folder used by xampp on my computer (by example) ? And simply give the router the path to this virtual wbserver ?</p><p>Another thing, my modem use pppoa (ADSL2+) and get automatically an IP, DNS IP but the router is automatically configured to get automatically IP that it well receive. But it doesn&#039;t go to internet. What&#039;s wrong ?!</p><p>As the modem get all the needed IPs and give it well to the router I presume the router doesn&#039;t need to be configure as pppoa (just pppoe available in the config). For me as it receive IP it doesn&quot;t need anything else to get working.</p><p>Sincerely thanks and have a nice day.</p><p>@kapac</p><p>it is the standard default brcm .trx file (8.09.2).</p><p>Sincerely thanks and have a nice day.</p><p>Miguipda ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101364">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">zorxd</div>
					<div class="post-datetime">
						25 Jan 2010, 19:09					</div>
				</div>
				<div class="post-content content">
					<p>you can transfer .ipk files via ssh with scp to a local computer</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101373">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						25 Jan 2010, 20:26					</div>
				</div>
				<div class="post-content content">
					<p>Download the packages to your PC, transfer them to your /tmp on your router (scp),&nbsp; and then &quot;ipkg install filename&quot; or &quot;opkg install filename&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101378">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">lukky</div>
					<div class="post-datetime">
						25 Jan 2010, 22:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Kapac wrote:</cite><blockquote><p>Precompiled firmware includes openvpn?</p></blockquote></div><div class="codebox"><pre><code>opkg list_installed | grep -i vpn</code></pre></div><p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102150">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">MVV</div>
					<div class="post-datetime">
						4 Feb 2010, 19:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>miguipda wrote:</cite><blockquote><p>@MMV</p><p>does it means it can simply work if I put the ipkg files in the htdocs folder used by xampp on my computer (by example) ? And simply give the router the path to this virtual wbserver ?</p><p>Another thing, my modem use pppoa (ADSL2+) and get automatically an IP, DNS IP but the router is automatically configured to get automatically IP that it well receive. But it doesn&#039;t go to internet. What&#039;s wrong ?!</p><p>As the modem get all the needed IPs and give it well to the router I presume the router doesn&#039;t need to be configure as pppoa (just pppoe available in the config). For me as it receive IP it doesn&quot;t need anything else to get working.</p><p>Sincerely thanks and have a nice day.</p></blockquote></div><p>Sorry for the late reply , got kinda busy with trunk compiling </p><p>If you have , say , your local comp with a local ip of 192.168.0.2 , your router adsl as 192.168.0.1 , then you just put the ip of the eth0 interface as </p><p>ifconfig eth0 192.168.0.10 up </p><p>and then</p><p>route add default gw 192.168.0.1</p><p>vi /etc/resolv.conf and replace the line<br />nameserver 127.0.0.1<br />with <br />nameserver 8.8.8.8</p><p>and you are good to go arround the net</p><p>If you have your web server up and ready , you could , with this setup , be capable of downloading anything from your local pc with something along the lines of</p><p>Opewrt:/tmp# wget <a href="http://192.168.0.1/package.ipk">http://192.168.0.1/package.ipk</a></p><p>from the /tmp directory and then </p><p>Opewrt:/tmp# opkg install package.ipk</p><p>easy as pie <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p156636">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">berih</div>
					<div class="post-datetime">
						8 Feb 2012, 00:30					</div>
				</div>
				<div class="post-content content">
					<p>i have this error i need help please!<br />ot found<br />root@OpenWrt:~#&nbsp; * satisfy_dependencies_for: Cannot satisfy the following dependencies for luci-app-ahcp:<br />-ash: lu.ipk: not found<br />root@OpenWrt:~#&nbsp; *&nbsp; &nbsp; &nbsp; ahcpd *<br />-ash: lu.ipk: not found<br />root@OpenWrt:~#&nbsp; * opkg_install_cmd: Cannot install package luci-app-ahcp.<br />-ash: lu.ipk: not found<br />root@OpenWrt:~# root@OpenWrt:~# opkg install luci.ipk<br />-ash: root@OpenWrt:~#: not found<br />root@OpenWrt:~# Installing luci (trunk+svn8219-1) to root...<br />-ash: syntax error: unexpected &quot;(&quot;<br />root@OpenWrt:~# Collected errors:<br />-ash: Collected: not found<br />root@OpenWrt:~#&nbsp; * satisfy_dependencies_for: Cannot satisfy the following dependencies for luci:<br />-ash: lu.ipk: not found<br />root@OpenWrt:~#&nbsp; *&nbsp; &nbsp; &nbsp; uhttpd *&nbsp; &nbsp; &nbsp; &nbsp; luci-mod-admin-full *&nbsp; &nbsp;luci-theme-openwrt *&nbsp; &nbsp; luci-app-firewall *&nbsp; &nbsp; &nbsp;luci-proto-co<br />re *&nbsp; &nbsp; &nbsp; &nbsp;luci-proto-ppp *&nbsp; &nbsp; &nbsp;libiwinfo-lua *<br />-ash: lu.ipk: not found<br />root@OpenWrt:~#&nbsp; * opkg_install_cmd: Cannot install package luci.<br />-ash: lu.ipk: not found</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157922">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">berih</div>
					<div class="post-datetime">
						19 Feb 2012, 05:59					</div>
				</div>
				<div class="post-content content">
					<p>hallo , i have succeffuly installed LUCI using APACHE SERVER and TERA TERM , WIN SCP... i have downloaded packages to my computer and changed the value downloads.open.... to http://localhost.....<br />i want just to ask if it&#039;s possible to return to the original firmware ( i have the firmware.bin) and how ?<br />thanks</p>											<p class="post-edited">(Last edited by <strong>berih</strong> on 19 Feb 2012, 05:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p165976">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">stroj</div>
					<div class="post-datetime">
						28 Apr 2012, 02:18					</div>
				</div>
				<div class="post-content content">
					<p>Hello!</p><p>I have been trying to install luci without having internet connection. Already managed to install XAMPP, downloaded the packages to the localhost folder and changed the opkg.conf file to point to the local host. But I&#039;m stuck with a wget error. When I write the opkg update command I get:</p><p>Downloading http://localhost/Packages.gz.<br />wget: can&#039;t connect to remote host (127.0.0.1): Connection refused<br />Collected errors:<br /> * opkg_download: Failed to download http://localhost/Packages.gz, wget returned 1.</p><br /><p>I read that wget is used to download the files, also read that the default wget in the openwrt doens&#039;t support ssl. This was the far that I went.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p165988">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Lennong</div>
					<div class="post-datetime">
						28 Apr 2012, 09:35					</div>
				</div>
				<div class="post-content content">
					<p>It seems you are over complicating things. Simply use a local FTP server and point to your IP (not localhost) in opkg.conf then run opkg update...simple as that. I use BabyFTP, its a standalone executable with anonomous access, just click and run and share the downloaded trunk directory.<br /><a href="http://www.pablosoftwaresolutions.com/html/baby_ftp_server.html">http://www.pablosoftwaresolutions.com/h â€¦ erver.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166006">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">stroj</div>
					<div class="post-datetime">
						28 Apr 2012, 14:47					</div>
				</div>
				<div class="post-content content">
					<p>thanx for the answer, but still no luck with baby ftp</p><p>wget can&#039;t connect.</p><p>I&#039;m new in this, so the solution can be simple.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166008">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">bazilxp</div>
					<div class="post-datetime">
						28 Apr 2012, 14:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stroj wrote:</cite><blockquote><p>thanx for the answer, but still no luck with baby ftp</p><p>wget can&#039;t connect.</p><p>I&#039;m new in this, so the solution can be simple.</p></blockquote></div><p>very simple how you can do ...</p><br /><p>for example you have Windows Based PC&nbsp; &nbsp; 192.168.0.25&nbsp; (make it manual)<br />Wifi-router&nbsp; 192.168.0.1</p><p>you can setup on windows computer http proxy server <br /><a href="http://www.privoxy.org">http://www.privoxy.org</a>/&nbsp; &nbsp;</p><p><a href="http://www.privoxy.org/user-manual/config.html">http://www.privoxy.org/user-manual/config.html</a>&nbsp; &nbsp; </p><p>modify for in privoxy config<br /> listen-address&nbsp; 192.168.0.25:3128</p><p>As result you got web proxy ..</p><p>on your wifi router make this way:</p><p>#&nbsp; export http_proxy=&quot;http://192.168.0.25:3128&quot;<br /># opkg update<br /># opkg&nbsp; install what_you_need</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166017">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">stroj</div>
					<div class="post-datetime">
						28 Apr 2012, 19:52					</div>
				</div>
				<div class="post-content content">
					<p>thanx, obrigado</p><p>luci is running!!!</p><p>didn&#039;t understand very well what I did. I suppose that privoxy works like the communication interface.</p><p>have to check out privoxy when I have the time, it seems to be a good tool against advertising.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p179754">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">monden</div>
					<div class="post-datetime">
						29 Sep 2012, 18:11					</div>
				</div>
				<div class="post-content content">
					<p>I have tplink 741nd upgraded with OpenWrt but without internet connection.I have downloaded LUCI packages.gz and I have it available on local FTPBaby server on 127.0.0.1.I don&#039;t know how to download luci from my local server to tp-link 741nd.As I told , I have no internet connection on my desktop.Only wireless on my notebook</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>