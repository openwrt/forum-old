<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Crashes on ar71xx using stable (compiled from source) and trunk</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p89257">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">simone78</div>
					<div class="post-datetime">
						4 Jun 2009, 02:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi, </p><p>since some weeks I&#039;m facing crashes using kamikaze 8.09 stable compiled from source and trunk versions. This does not happen when using pre built binaries downloaded from openwrt web site.<br />The devices are ar71xx based (RB433 and RB411). The minipci is a atheros 5212 based (R52 from Mikrotik). I noted that the crash happens only after some seconds later I have connected to the wifi network and I started to generate traffic.<br />I tried to send the log to a remote machine but the error is never logged. Using a while loop on dmesg I could capture something which likely is the error or part of it<br /></p><div class="codebox"><pre><code>mm/memory.c:127: bad pgd 72006c18</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89274">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						4 Jun 2009, 09:58					</div>
				</div>
				<div class="post-content content">
					<p>you can create a <a href="https://dev.openwrt.org/newticket">ticket</a> providing as much information as possible</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89280">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dajhard</div>
					<div class="post-datetime">
						4 Jun 2009, 11:54					</div>
				</div>
				<div class="post-content content">
					<p>I got some problems too... don&#039;t know where to put it...</p><p>I was testing throughput over my wireless link: Linux -&gt; LAN -&gt; Kamikaze 8.09 -&gt; Wireless SuperA -&gt; Linux<br />I finished TCP test (netperf from Linux to Linux) then started the UDP test (also in netperf). <br />Then, I lost my Putty connection, no ping reply, no SSID broadcast anymore, nothing.<br />As my Routerboard (RB433AH) is on remote location, I still have not locally been there.<br />I was using the board for over 1 month with no problems.</p><p>The other thing is, AR71xx and IXP4xx boards, 1 wireless link works good, second and third link don&#039;t work. Signal levels 20dBm lower than should be.</p><p>Kamikaze 8.09 2.6.26.5 on AR71xx board, 8.09 2.6.26.5 on IXP4xx board.</p><p>So, if I can help with any other info, will be very glad to do so.</p><p>Regards to all.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89305">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">simone78</div>
					<div class="post-datetime">
						4 Jun 2009, 18:56					</div>
				</div>
				<div class="post-content content">
					<p>I opened a ticket. I tried to compile stable version from sources using kernel 2.6.26.5, the same as the one used in the prebuilt images, but the crash still occurs. The error message which I can see now is <br /> </p><div class="codebox"><pre><code>CPU 0 Unable to handle kernel paging request at virtual address 61006454, epc == c00b9ad8, ra == c00bb9c4</code></pre></div><p>The error is clearly related to memory management system. I get crashes also using a different wireless card using ath9k drivers. Also in this case it happens when I start to generate traffic on the wifi network.</p>											<p class="post-edited">(Last edited by <strong>simone78</strong> on 4 Jun 2009, 19:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89557">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">anovak</div>
					<div class="post-datetime">
						9 Jun 2009, 13:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>simone78 wrote:</cite><blockquote><p>The error is clearly related to memory management system. I get crashes also using a different wireless card using ath9k drivers. Also in this case it happens when I start to generate traffic on the wifi network.</p></blockquote></div><p>I have similar problem with kamikaze 8.09.1 and the last release from svn branch 8.09 on rb433 platform with r52 wifi card (madwifi driver). The last working release is release 16037 from svn branch 8.09. Maybe this can help in debugging.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89580">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">simone78</div>
					<div class="post-datetime">
						9 Jun 2009, 20:21					</div>
				</div>
				<div class="post-content content">
					<p>This is quite a bad news because I was about to give new version a try! As a remark I point out that also in the working 8.09 version prebuilt I&#039;m experiencing a warning about packet queueing on ath0 device. This didn&#039;t lead to real problems until now. I got a crash on prebuilt stable using wds between two rb433 with r52 after some hours of usage. The error was related to NETDEV WATCHDOG being timed out. I can&#039;t get any reference to this problems nor in this forum neither googling around.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89584">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">dajhard</div>
					<div class="post-datetime">
						9 Jun 2009, 21:28					</div>
				</div>
				<div class="post-content content">
					<p>What is the latest stable ... better if I say ... &quot;tested, used and working stable&quot; for using a RB433AH (AR71xx) with MadWifi (r52 cards)??</p><p>I tried precompiled 8.09 from download.openwrt.org, tried to compile from svn and tried from trunk 3 days ago... and none of them is working for me. <br />I have 3 R52 cards, 1 connects and works good (but not perfectly) and the other two don&#039;t connect at all.</p><p>Almost forgot... same problems on Intel IXP4xx.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89588">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">simone78</div>
					<div class="post-datetime">
						9 Jun 2009, 22:02					</div>
				</div>
				<div class="post-content content">
					<p>The problem of rb433 with just only one minipci wireless device working have already been reported by someone else, I can&#039;t remember where I read it. I also can&#039;t remember which trunk versions were working so far, if I&#039;m not wrong RC1 and RC2 were working with rb433 + SR71 from ubiquiti and ath9k drivers. It would be nice if someone with more deep knownledge of the ar71xx status could clarify this questions.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89789">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">dajhard</div>
					<div class="post-datetime">
						12 Jun 2009, 18:53					</div>
				</div>
				<div class="post-content content">
					<p>After way too much time spent on playing with my routerboard, I finally have a working system...</p><p>- RB433AH<br />- 3 x R52 miniPCI Atheros wireless card<br />- KAMIKAZE (8.09, r14511)<br />- madwifi (2.6.27.24)<br />- quagga-unstable 0.99.10</p><p>As I can&#039;t remember anymore where I compiled what, downloaded, edited, etc. I am unable to compile ntpclient. But I can live without it as long as I don&#039;t have to mess with OpenWRT ... for a while (years would be good <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> ) at least.</p><p>The transfer on wireless interface is &quot;a bit&quot; lower than I had on newer OpenWRT versions (max 5.5 MB/s per interface, had 8 MB/s with latest trunk, but only 1 interface was working), but al least everythig is working stable now.</p><p>Next step making IXP4xx working with 2 wireless cards...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89856">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">dajhard</div>
					<div class="post-datetime">
						14 Jun 2009, 10:01					</div>
				</div>
				<div class="post-content content">
					<p>Seems I still didn&#039;t make it. <br />After 2 days I realized wireless link are down. After reboot, everything works fine again for some time, but then links go down again.<br />This is the 4th kernel version I have tried so far. I really don&#039;t know what to do now.</p><p>Does anyone have a AR71xx based system running OpenWRT with 2 or 3 wireless links that is working stable? Anyone?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89886">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						15 Jun 2009, 10:43					</div>
				</div>
				<div class="post-content content">
					<p>you can try disabling the compression on the wifi cards. I had major stability issues with the compression enabled. at some point this option was set to on by default.&nbsp; check r15949 &amp; r16421</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89994">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">dajhard</div>
					<div class="post-datetime">
						16 Jun 2009, 19:29					</div>
				</div>
				<div class="post-content content">
					<p>I got some info on my crashes ... Well, system is working, atheros cards are not... This is what i get on dmesg...</p><p>How to disable compression?<br />And how/where to download r15949 &amp; r16421?</p><div class="codebox"><pre><code>wifi0: ath_chan_set: Unable to reset channel 3 (2422 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 152 (5760 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 42 (5210 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 157 (5785 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 2 (2417 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 161 (5805 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 4 (2427 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 160 (5800 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 6 (2437 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 2 (2417 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 7 (2442 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 4 (2427 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 9 (2452 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 6 (2437 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 11 (2462 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 7 (2442 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 40 (5200 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 9 (2452 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 42 (5210 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 11 (2462 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 48 (5240 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 40 (5200 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 50 (5250 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 42 (5210 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 42 (5210 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 48 (5240 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 50 (5250 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 56 (5280 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 58 (5290 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 64 (5320 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 104 (5520 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 108 (5540 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 116 (5580 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p90148">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">dajhard</div>
					<div class="post-datetime">
						20 Jun 2009, 17:24					</div>
				</div>
				<div class="post-content content">
					<p>Disabled compression. Same problem again, after cca 18 hours of working normally.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p90230">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						22 Jun 2009, 18:52					</div>
				</div>
				<div class="post-content content">
					<p>are you using the same openwrt/madwifi version / platform on both ends of the wifi link?&nbsp; on what mode does the crash occur AP or station?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p90275">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">dajhard</div>
					<div class="post-datetime">
						23 Jun 2009, 11:31					</div>
				</div>
				<div class="post-content content">
					<p>On the other end are: Mandrake and Debian, both 2.6.18 with MadWifi 0.9.2.</p><p>I was testing the same RB with the same Atheros card running Kamikaze 7.09 round New year, maybe November. I asked you for a binary of Quagga-Unstable at that time. It was working for more than 2 months with 1 wireless link. After that I put it in use with 3 links. 2 links are running as I mentioned above, the 3rd link isn&#039;t running at all.</p><p>All 3 cards are in station mode. Will try to put them in AP mode now and test again. I had the 3rd card in AP mode, but could&#039;t find it in my scan from the other side (it&#039;s a x86 arch running Mikrotik, i think 2.9.27).</p><p>I must say that I tested the links with different platforms, and had all the links working (Tik 2.9.27 @ x86, Tik 3.13 @ PPC (RB600) , Tik 3.20 @ PPC (RB600), Debian 2.6.18 @ x86, Ubuntu 2.6.24 @ x86_64, Kamikaze 7.09 @ AR71xx (RB433AH), Kamikaze 8.09 @ AR71xx (RB433AH), Kamikaze 8.09 @ IXP4xx (SparkLan WAPD-170AG) ).<br />Only problem is when running OpenWRT with 2 or more wifi cards (AR71xx and IXP4xx).</p><p>Will try it in AP mode, let u know in a few days (when it crashes).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p90277">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">freezer2k</div>
					<div class="post-datetime">
						23 Jun 2009, 12:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dajhard wrote:</cite><blockquote><p>I got some info on my crashes ... Well, system is working, atheros cards are not... This is what i get on dmesg...</p><p>How to disable compression?<br />And how/where to download r15949 &amp; r16421?</p><div class="codebox"><pre><code>wifi0: ath_chan_set: Unable to reset channel 3 (2422 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 152 (5760 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 42 (5210 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 157 (5785 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 2 (2417 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 161 (5805 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 4 (2427 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 160 (5800 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 6 (2437 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 2 (2417 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 7 (2442 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 4 (2427 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 9 (2452 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 6 (2437 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 11 (2462 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 7 (2442 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 40 (5200 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 9 (2452 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 42 (5210 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 11 (2462 MHz) flags 0xc0 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 48 (5240 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 40 (5200 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 50 (5250 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 42 (5210 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi0: ath_chan_set: Unable to reset channel 42 (5210 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 48 (5240 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 50 (5250 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 56 (5280 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 58 (5290 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 64 (5320 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 104 (5520 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 108 (5540 MHz) flags 0x150 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)
wifi1: ath_chan_set: Unable to reset channel 116 (5580 MHz) flags 0x140 &#039;Hardware didn&#039;t respond as expected&#039; (HAL status 3)</code></pre></div></blockquote></div><p>Interesting,</p><p>I got those errors too with another Atheros 5212 a/b/g card. Thought it was defective, because a 5212 with b/g only worked like a charm (Im running a Ubiquiti RouterStation).</p><br /><p>But now, since it was brand new, i think it might be related to this bug.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p90281">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">dajhard</div>
					<div class="post-datetime">
						23 Jun 2009, 14:13					</div>
				</div>
				<div class="post-content content">
					<p>I suppose the driver is seeing the card as &quot;up&quot;. So it tries to scan, but gets this error. If I try to &quot;ifconfig ath0 down; sleep 2; ifconfig ath0 up&quot; it doesn&#039;t help. After reboot (madwifi reloading, or some kernel related event, dont know) it&#039;s working again.</p><p>Now, I put ath0 and ath1 in &quot;AP&quot; mode. The link is working as we speak (5.5 MB/s, not as it should and it should be 7 MB/s).<br />Also I put ath2 in &quot;STA&quot; mode, but it&#039;s not connected. In scan I cant find anything (beside the 2 ath cards in the same RB in AP mode @ -38dBm and -40dBm, which is OK, I think).</p><p>If it dosn&#039;t crash in 2 days, seems something is wrong with the STA mode.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p90340">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">dajhard</div>
					<div class="post-datetime">
						24 Jun 2009, 18:03					</div>
				</div>
				<div class="post-content content">
					<p>OK, I&#039;m back. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>It was ... <br />- ath0 in AP mode, connected, working<br />- ath1 in AP mode, connected, working<br />- ath2 in Sta mode, not connected, could not find SSID in scan</p><p>Uptime: up 1 day,&nbsp; 5:37</p><p>Simptoms:</p><p>Links unconnected.</p><p>I logged in my Linux boxes (others sides of the 2 previously working links), found the SSIDs in scan, was able to ping the other side (ath0 and ath1 cards in RB). After a few packets pinged over the link, everything started to work again. OSPF got through the links, and now its all working again.</p><p>Dmesg in Openwrt has no info (no new lines after it booted).</p><div class="codebox"><pre><code>wifi2: turboA rates: 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
wifi2: turboG rates: 6Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps
wifi2: H/W encryption support: WEP AES AES_CCM TKIP
ath_pci: wifi2: Atheros 5212: mem=0x10020000, irq=34
ar71xx: pll_reg 0xb8050014: 0x1099
eth0: link up (100Mbps/Full duplex)
ar71xx-wdt: enabling watchdog timer</code></pre></div><p>So, everything is working now with no intervention on the OpenWRT. I kind of don&#039;t get it... at all!</p><p>Any ideas?</p><p>Thx!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95224">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">mobius2000</div>
					<div class="post-datetime">
						2 Oct 2009, 08:08					</div>
				</div>
				<div class="post-content content">
					<p>I have a very similar problem.i am running the Ubiquiti Routerstation and&nbsp; one SR71-A radio. This all works fine until i install the kmod-ath9k 2.6.30.7+2009-08-20-2 package. i&#039;ve looked al over the forums on openwrt, x-wrt, and ubnt.com. Finding a solution tothis problem that i can understand is proving to be near impossible. Any help is appreciated; i just want it to work <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />Here is my current kernel log<br /></p><div class="codebox"><pre><code>Linux version 2.6.30.7 (buildbot@localhost.localdomain) (gcc version 4.1.2) #2 Tue Sep 29 08:18:10 CDT 2009
prom: fw_arg0=00000002, fw_arg1=80050028, fw_arg2=80050000, fw_arg3=00000001
MyLoader: sysp=00000000, boardp=00000000, parts=ace50014
console [early0] enabled
CPU revision is: 00019374 (MIPS 24Kc)
Atheros AR7161 rev 2, CPU:680.000 MHz, AHB:170.000 MHz, DDR:340.000 MHz
Determined physical RAM map:
 memory: 04000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00004000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00004000
On node 0 totalpages: 16384
free_area_init_node: node 0, pgdat 80290270, node_mem_map 81000000
  Normal zone: 128 pages used for memmap
  Normal zone: 0 pages reserved
  Normal zone: 16256 pages, LIFO batch:3
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 board=UBNT-RS board=Ubiquiti AR71xx-based board ethaddr=00.15.6d.c1.22.63
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00040002
Readback ErrCtl register=00040002
NR_IRQS:56
PID hash table entries: 256 (order: 8, 1024 bytes)
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 62040k/65536k available (1891k kernel code, 3424k reserved, 355k data, 136k init, 0k highmem)
SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Calibrating delay loop... 452.19 BogoMIPS (lpj=2260992)
Mount-cache hash table entries: 512
net_namespace: 528 bytes
NET: Registered protocol family 16
MIPS: machine is Ubiquiti RouterStation
registering PCI controller with io_map_base unset
bio: create slab &lt;bio-0&gt; at 0
pci 0000:00:00.0: reg 10 32bit mmio: [0x000000-0xfffffff]
pci 0000:00:00.0: reg 14 io port: [0x00-0xff]
pci 0000:00:00.0: supports D1 D2
pci 0000:00:00.0: PME# supported from D0 D1 D2 D3hot
pci 0000:00:00.0: PME# disabled
pci 0000:00:11.0: reg 10 32bit mmio: [0x000000-0x00ffff]
pci 0000:00:11.0: PME# supported from D0 D3hot
pci 0000:00:11.0: PME# disabled
PCI: mapping irq 48 to pin1@0000:00:11.0
NET: Registered protocol family 2
Switched to high resolution mode on CPU 0
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 2048 (order: 2, 16384 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
yaffs Sep 29 2009 07:54:43 Installing. 
msgmni has been set to 121
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
eth0: connected to PHY at 0:14 [uid=03026071, driver=Generic PHY]
eth1: Atheros AG71xx at 0xba000000, irq 5
eth1: connected to 4 PHYs
Atheros AR71xx SPI Controller driver version 0.2.4
m25p80 spi0.0: mx25l128 (16384 Kbytes)
Searching for RedBoot partition table in spi0.0 at offset 0xfe0000
Searching for RedBoot partition table in spi0.0 at offset 0xff0000
5 RedBoot partitions found on MTD device spi0.0
Creating 5 MTD partitions on &quot;spi0.0&quot;:
0x000000000000-0x000000030000 : &quot;RedBoot&quot;
0x000000030000-0x000000100000 : &quot;kernel&quot;
0x000000100000-0x000000ff0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=220000, len=DD0000 
0x000000220000-0x000000ff0000 : &quot;rootfs_data&quot;
0x000000ff0000-0x000000fff000 : &quot;FIS directory&quot;
0x000000fff000-0x000001000000 : &quot;RedBoot config&quot;
Atheros AR71xx hardware watchdog driver version 0.1.0
ar71xx-wdt: timeout=15 secs (max=25)
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 136k freed
Please be patient, while OpenWrt loads ...
Registered led device: ubnt:green:rf
gpio-buttons driver version 0.1.1
input: gpio-buttons as /devices/platform/gpio-buttons/input/input0
Button Hotplug driver version 0.3.1
mini_fo: using base directory: /
mini_fo: using storage directory: /jffs
ar71xx: pll_reg 0xb8050014: 0x1099
eth1: link up (100Mbps/Full duplex)
device eth1 entered promiscuous mode
br-lan: port 1(eth1) entering forwarding state
cbc: Unknown symbol blkcipher_walk_done
cbc: Unknown symbol blkcipher_walk_virt
cbc: Unknown symbol crypto_blkcipher_type
ecb: Unknown symbol blkcipher_walk_done
ecb: Unknown symbol blkcipher_walk_virt
ecb: Unknown symbol crypto_blkcipher_type
cfg80211: Using static regulatory domain info
cfg80211: Regulatory domain: US
    (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
    (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm)
    (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm)
cfg80211: Calling CRDA for country: US
ar71xx: pll_reg 0xb8050010: 0x1099
eth0: link up (100Mbps/Full duplex)
PCI: Enabling device 0000:00:11.0 (0000 -&gt; 0002)
ath: EEPROM regdomain: 0x0
ath: EEPROM indicates default country code should be used
ath: doing EEPROM country-&gt;regdmn map search
ath: country maps to regdmn code: 0x3a
ath: Country alpha2 being used: US
ath: Regpair used: 0x3a
CPU 0 Unable to handle kernel paging request at virtual address 00000060, epc == 80073ed0, ra == 80071178
Oops[#1]:
Cpu 0
$ 0   : 00000000 00000064 ffffffe0 00020000
$ 4   : 00000060 00000f20 00000060 00000002
$ 8   : 00000010 800643e0 00000008 81078c00
$12   : 00080000 00000001 00004e20 00000003
$16   : 00000060 83a38180 83a84914 00000000
$20   : 83a84a38 00000000 b0000000 00000002
$24   : 00000000 80072df4                  
$28   : 83a80000 83a81cb0 7fd1aa50 80071178
Hi    : 00000001
Lo    : 00000002
epc   : 80073ed0 0x80073ed0
    Not tainted
ra    : 80071178 0x80071178
Status: 1000f403    KERNEL EXL IE 
Cause : 00800008
BadVA : 00000060
PrId  : 00019374 (MIPS 24Kc)
Modules linked in: ath9k(+) ath mac80211 cfg80211 crc_ccitt arc4 aes_generic deflate button_hotplug gpio_buttons input_polldev input_core leds_gpio
Process insmod (pid: 528, threadinfo=83a80000, task=83817a80, tls=00000000)
Stack : 83a84914 00000000 83c60000 83a84914 83c60000 83c1aeac 83a84920 83b6e8b0
        83a840c0 83b6ea34 00000200 00000001 83a84920 83a84914 83be8000 00000000
        83a841c0 83c1804c 83a841c0 83bc1324 83812c00 00000000 00000000 00000002
        00000000 00000000 00000000 00000008 83c3c278 83a84914 83a841c0 83c3c190
        83812c00 83c20c9c 0000000e 1ad29352 83b08ba0 83b08c00 83812c00 80189408
        ...
Call Trace:[&lt;83c1aeac&gt;] 0x83c1aeac
[&lt;83b6e8b0&gt;] 0x83b6e8b0
[&lt;83c1804c&gt;] 0x83c1804c
[&lt;83bc1324&gt;] 0x83bc1324
[&lt;83c20c9c&gt;] 0x83c20c9c
[&lt;80189408&gt;] 0x80189408
[&lt;80110850&gt;] 0x80110850
[&lt;80171c14&gt;] 0x80171c14
[&lt;8018c878&gt;] 0x8018c878
[&lt;8018c9f8&gt;] 0x8018c9f8
[&lt;801585d0&gt;] 0x801585d0
[&lt;801e1150&gt;] 0x801e1150
[&lt;8018cb20&gt;] 0x8018cb20
[&lt;801897ec&gt;] 0x801897ec
[&lt;80158354&gt;] 0x80158354
[&lt;8018cab0&gt;] 0x8018cab0
[&lt;8018bcc8&gt;] 0x8018bcc8
[&lt;80158b70&gt;] 0x80158b70
[&lt;80159468&gt;] 0x80159468
[&lt;8018c340&gt;] 0x8018c340
[&lt;8018c31c&gt;] 0x8018c31c
[&lt;800ac8a4&gt;] 0x800ac8a4
[&lt;83c3f000&gt;] 0x83c3f000
[&lt;8018cecc&gt;] 0x8018cecc
[&lt;83c3f000&gt;] 0x83c3f000
[&lt;80172020&gt;] 0x80172020
[&lt;83c3f000&gt;] 0x83c3f000
[&lt;83bccf78&gt;] 0x83bccf78
[&lt;83c3f040&gt;] 0x83c3f040
[&lt;80069a44&gt;] 0x80069a44
[&lt;80094d58&gt;] 0x80094d58
[&lt;800a1908&gt;] 0x800a1908
[&lt;800cba6c&gt;] 0x800cba6c
[&lt;80062504&gt;] 0x80062504
[&lt;80062504&gt;] 0x80062504


Code: 03200008  00000000  00823024 &lt;bcd50000&gt; 00851021  2403ffe0  2442ffff  00431024  bc550000 
Disabling lock debugging due to kernel taint
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
NET: Registered protocol family 24
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use
nf_conntrack.acct=1 kernel paramater, acct=1 nf_conntrack module option or
sysctl net.netfilter.nf_conntrack_acct=1 to enable it.
ar71xx-wdt: enabling watchdog timer
device br-lan entered promiscuous mode</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95529">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">crodler</div>
					<div class="post-datetime">
						7 Oct 2009, 19:19					</div>
				</div>
				<div class="post-content content">
					<p>Same problem here with RB411. We have several RB411 with CM9 working for months with R12983. <br />After update to 8.09 / 8.09.1 board reboots with traffic on wireless after 10-20 sec.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127963">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">savitrinegi</div>
					<div class="post-datetime">
						11 Feb 2011, 09:09					</div>
				</div>
				<div class="post-content content">
					<p>hi<br />seems people in this discussion have been using RB433ah + R52 along with kamikaze8.09.<br />Iam using the same ,but Iam struck even with single R52 on mini PCI.the system detects the wificard iam able to change the wifi settings and when i do <br />#iwlist ath0 scan my devices are able to see each other too<br />but when i ping it wont work <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> <br />Iam trying this with key off ,I tried almost everything including channel,rate ,etc...<br />i &#039;ve read on some forum that by default ping is disabled on kamikaze which i enabled but still it doesn&#039;t work<br />anyone any idea what am I missing?<br />savitri negi</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127964">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">savitrinegi</div>
					<div class="post-datetime">
						11 Feb 2011, 09:10					</div>
				</div>
				<div class="post-content content">
					<p>forgot to mention iam doing all this in adhoc mode</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>