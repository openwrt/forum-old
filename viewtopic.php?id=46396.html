<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WN2000RPTv2 unlocking and database by a beginner, help appreciated</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 9 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p212919">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">H2L29</div>
					<div class="post-datetime">
						21 Sep 2013, 18:14					</div>
				</div>
				<div class="post-content content">
					<p>/!\ IN WORK /!\</p><p>hello, i&#039;m a french beginner so please be gentle</p><p>product page<br /><a href="http://support.netgear.com/product/WN2000RPTv2">http://support.netgear.com/product/WN2000RPTv2</a><br />source code page<br /><a href="http://kb.netgear.com/app/answers/detail/a_id/2649">http://kb.netgear.com/app/answers/detail/a_id/2649</a><br />source code download<br /><a href="http://www.downloads.netgear.com/files/GPL/WN2000RPTv2_V1.1.0.12_gpl_src.zip">http://www.downloads.netgear.com/files/ … pl_src.zip</a><br />based on OpenWRT Kamikaze</p><p>i tried build source code without success if anybody get compile it please refer me how to</p><div class="codebox"><pre><code>U-Boot 1.1.4-g406c8790 (Apr 26 2011 - 18:36:53)

WN2000RPTv2 (ar7241) U-boot dni11 V0.8
DRAM:  
sri
ar7240_ddr_initial_config(139): virian ddr1 init
#### TAP VALUE 1 = 0x2, 2 = 0x2 [0xa653eb5b: 0xcef57ac5]
32 MB
Top of RAM usable for U-Boot at: 82000000
Reserving 276k for U-Boot at: 81fb8000
Reserving 192k for malloc() at: 81f88000
Reserving 44 Bytes for Board Info at: 81f87fd4
Reserving 36 Bytes for Global Data at: 81f87fb0
Reserving 128k for boot params() at: 81f67fb0
Stack Pointer at: 81f67f98
Now running in RAM - U-Boot at: 81fb8000
id read 0x100000ff
sector count = 64
Flash:  4 MB
In:    serial
Out:   serial
Err:   serial
Misc:  force GPIO1 output high
Net:   ag7240_enet_initialize...
Fetching MAC Address from 0x81fe9390
Fetching MAC Address from 0x81fe9390
Virian MDC CFG Value ==&gt; 4
: cfg1 0xf cfg2 0x7014
eth0: 10:0d:7f:5d:55:ce
eth0 up
Virian MDC CFG Value ==&gt; 4
: cfg1 0xf cfg2 0x7214
eth1: 10:0d:7f:5d:55:cd
ATHRS26: resetting s26
ATHRS26: s26 reset done
eth1 up
eth0, eth1
Trying eth1
dup 1 speed 1000

 Client starts...[Listening] for ADVERTISE...TTT
Retry count exceeded; boot the image as usual

 nmrp server is stopped or failed !
Hit any key to stop autoboot:  0 
   Verifying Checksum ... OK
### SQUASHFS loading &#039;image/uImage&#039; to 0x80800000
### SQUASHFS load complete: 577676 bytes loaded to 0x80800000
## Booting image at 80800000 ...
   Image Name:   Linux Kernel Image
   Created:      2011-08-29  11:37:43 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    577612 Bytes = 564.1 kB
   Load Address: 80002000
   Entry Point:  80197000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80197000) ...
## Giving linux memsize in bytes, 33554432

Starting kernel ...

Booting AR7240(Python)...
Linux version 2.6.15 (root@anderson-server) (gcc version 3.4.4 (OpenWrt-2.0)) #1 Mon Aug 29 19:37:37 CST 2011
flash_size passed from bootloader = 4
CPU revision is: 00019374
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Built 1 zonelists
Kernel command line: console=ttyS0,115200 root=31:08 rootfstype=squashfs init=/etc/preinit mtdparts=ar7240-nor0:256k(u-boot),64k(u-boot-env),3392k(rootfs),64k(config),128k(language_table),64k(pot),64k(traffic_meter),64k(ART),3473344@327744(mount_fs)
Primary instruction cache 64kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
PID hash table entries: 256 (order: 8, 4096 bytes)
Using 180.000 MHz high precision timer.
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 30608k/32768k available (1327k kernel code, 2144k reserved, 288k data, 96k init, 0k highmem)
Mount-cache hash table entries: 512
Checking for &#039;wait&#039; instruction...  available.
NET: Registered protocol family 16
PCI init:ar7240_pcibios_init
ar7240_pcibios_init(295): PCI CMD write: 0x356
Returning IRQ 48
AR7240 GPIOC major 0
Initializing usb led semaphore
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Initializing Cryptographic API
io scheduler noop registered
io scheduler deadline registered
Serial: 8250/16550 driver $Revision: #2 $ 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x0 (irq = 19) is a 16550A
9 cmdlinepart partitions found on MTD device ar7240-nor0
Creating 9 MTD partitions on &quot;ar7240-nor0&quot;:
0x00000000-0x00040000 : &quot;u-boot&quot;
0x00040000-0x00050000 : &quot;u-boot-env&quot;
0x00050000-0x003a0000 : &quot;rootfs&quot;
0x003a0000-0x003b0000 : &quot;config&quot;
0x003b0000-0x003d0000 : &quot;language_table&quot;
0x003d0000-0x003e0000 : &quot;pot&quot;
0x003e0000-0x003f0000 : &quot;traffic_meter&quot;
0x003f0000-0x00400000 : &quot;ART&quot;
0x00050040-0x003a0000 : &quot;mount_fs&quot;
mtd: partition &quot;mount_fs&quot; doesn&#039;t start on an erase block boundary -- force read-only
NET: Registered protocol family 2
IP route cache hash table entries: 512 (order: -1, 2048 bytes)
TCP established hash table entries: 2048 (order: 1, 8192 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
TCP bic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
arch/mips/ar7240/gpio.c (ar7240_simple_config_init) JUMPSTART_GPIO: 12
ar7240wdt_init: Registering WDT success
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 96k freed
Algorithmics/MIPS FPU Emulator v1.5
- init -
init started:  BusyBox v1.4.2 (2011-08-29 19:30:34 CST) multi-call binary
Loading data from /dev/mtd/3 ...
The data configuration is Valid
The data center is Running ...
POT is Running...
The POT-(Get/Set) Demo is Running ...
SN: 2U712B59002A4
WAN MAC: 10:0D:7F:5D:55:CE
checksum = 0xB7, len = 131072
There is not language table in flash or language table was broken!
The region number is: 0x0002
REGION: WW
Saving Data... Done!
insmod: dni-qos.ko: no module by that name found
ag7240_mod: no version for &quot;struct_module&quot; found: kernel tainted.
AG7240: Length per segment 1536
AG7240: Max segments per packet 1
AG7240: Max tx descriptor count    40
AG7240: Max rx descriptor count    252
AG7240: fifo cfg 3 01f00140
AG7240CHH: Mac address for unit 0
AG7240CHH: 10:0d:7f:5d:55:ce 
AG7240CHH: Mac address for unit 1
AG7240CHH: 10:0d:7f:5d:55:cd 
device eth1 entered promiscuous mode
ag7240_ring_alloc Allocated 640 at 0x802f2400
ag7240_ring_alloc Allocated 4032 at 0x813e0000
Virian MDC CFG Value ==&gt; 4
ATHRS26: resetting s26
ATHRS26: s26 reset done
enabling the header of S26
Setting PHY...
udhcp client (v0.9.8) started
The attached devices demo is Running ...
killall: utelnetd: no process killed
killall: telnetenable: no process killed
The telnetenable is running ...
/etc/rc.common: eval: 13: cannot create /proc/dhcp_bl: Directory nonexistent
AG7240: enet unit:1 phy:3 is up...Mii 100Mbps full duplex
AG7240: done cfg2 0x7205 ifctl 0x0 miictrl  
Sending discover...
br0: port 1(eth1) entering learning state
br0: topology change detected, propagating
br0: port 1(eth1) entering forwarding state
Sending discover...
Sending discover...
lo        no wireless extensions.

br0       no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

Args: 1
ath_hal: module license &#039;Proprietary&#039; taints kernel.
ath_hal: 0.9.17.1 (AR5416, REGOPS_FUNC, WRITE_EEPROM, 11D)
wlan: 0.8.4.2 (Atheros/multi-bss)
ath_rate_atheros: Copyright (c) 2001-2005 Atheros Communications, Inc, All Rights Reserved
ath_dev: Copyright (c) 2001-2007 Atheros Communications, Inc, All Rights Reserved
ath_pci: 0.9.4.5 (Atheros/multi-bss)
wifi0: Atheros 9287: mem=0x10000000, irq=48 hw_base=0xb0000000
wlan: mac acl policy registered
wlan_me: Version 0.1
Copyright (c) 2008 Atheros Communications, Inc. All Rights Reserved
Creating ap for NETGEAR_EXT on
Added ath0 mode master
Enabling ATH NEW IND 
Interface doesn&#039;t accept private ioctl...
HALDbg (8BE0): Operation not permitted
killall: udhcpd: no process killed
AG7240:unit 1: phy 3 not up carrier 1
br0: port 1(eth1) entering disabled state
cat: /tmp/link_status: No such file or directory
udhcp server (v0.9.8) started
Saving Data... Done!
No lease, forking to background.
Created ath0 mode ap for NETGEAR_EXT
lo        no wireless extensions.

br0       no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

wifi0     no wireless extensions.

Modules already loaded
Creating sta for 12345678NETGEAR on
Added ath1 mode managed
Enabling ATH NEW IND 
Interface doesn&#039;t accept private ioctl...
HALDbg (8BE0): Operation not permitted
sh: 11na: unknown operand
Error for wireless request &quot;Set Frequency&quot; (8B04) :
    too few arguments.
Created ath1 mode sta for 12345678NETGEAR
client bridge loaded
lo        no wireless extensions.

br0       no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

wifi0     no wireless extensions.

Country ie is DE 
device ath0 entered promiscuous mode
br0: port 2(ath0) entering learning state
br0: topology change detected, propagating
br0: port 2(ath0) entering forwarding state
AG7240: enet unit:1 phy:3 is up...Mii 100Mbps full duplex
AG7240: done cfg2 0x7205 ifctl 0x0 miictrl  
br0: port 1(eth1) entering learning state
br0: topology change detected, propagating
br0: port 1(eth1) entering forwarding state
ARPING to 192.168.1.250 from 192.168.1.250 via br0
Sent 1 probe(s) (1 broadcast(s))
Received 0 reply (0 request(s), 0 broadcast(s))
&gt;&gt;&gt;&gt;&gt; WPS MODE, 1
&gt;&gt;&gt;&gt;&gt; WPS ENABLED, PSK
cat: /etc/wpa2/WSC_ath0.conf: No such file or directory
&gt;&gt;&gt;&gt;&gt; WPS Translate, Index:0
lo        no wireless extensions.

br0       no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

wifi0     no wireless extensions.

device ath1 entered promiscuous mode
br0: port 3(ath1) entering learning state
br0: topology change detected, propagating
br0: port 3(ath1) entering forwarding state
ARPING to 192.168.1.250 from 192.168.1.250 via br0
Sent 1 probe(s) (1 broadcast(s))
Received 0 reply (0 request(s), 0 broadcast(s))
&gt;&gt;&gt;&gt;&gt; WPS MODE, 1
&gt;&gt;&gt;&gt;&gt; WPS ENABLED, PSK
SCANNING DISABLED BY USER
The extender led demo is Running ...
Making Topology File . . .
Reading topology file /var/run/topology.conf ...
Reading bss configuration file /etc/wpa2/WSC_ath0.conf ...

Too much delay 230865199 -2499549
br0: port 2(ath0) entering disabled state
Could not connect to kernel drivCountry ie is DE 
er.
Using interbr0: port 2(ath0) entering learning state
face ath0 with hbr0: topology change detected, propagating
waddr 16:0d:7f:5br0: port 2(ath0) entering forwarding state
d:55:cd and ssid &#039;NETGEAR_EXT&#039;
upnp_wps_device_init called
l2_packet_receive - recvfrom: Network is down
Reading topology file /var/run/topology.conf ...
Station ath1 config file /etc/wpa2/WSC_sta.conf
l2_packet_init: new: own_addr is not NULL
l2_packet_init: new: own_addr is not NULL
Defaulted uuid based on mac addr 10:0d:7f:5d:55:cd
Too much delay 230865202 662951
/etc/rc.common: eval: 13: Syntax error:  &lt;&lt; 0
/etc/rc.common: eval: 13: /www/cgi-bin/firewall_function.sh: not found
killall: ntpclient: no process killed
/etc/rc.common: eval: 13: /usr/sbin/ntpclient: not found
Jan  1 00:00:27 crond[1296]: crond 2.3.2 dillon, started, log level 8

Start utelnetd by telnetenable
System startup completed!
Boot up procedure is Finished!!!
[coldplug]: Coldplug exec (&#039;/sbin/udevtrigger&#039;) failed: No such file or directory.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
[remove_child_by_pid]: Invalid child list passed (NULL).

Please press Enter to activate this console. Performing a DHCP renew
Sending discover...
Sending discover...
Sending discover...
Saving Data... Done!
upnp_wps_device M-SEARCH parse failure
upnp_wps_device M-SEARCH parse failure
upnp_wps_device M-SEARCH parse failure
upnp_wps_device M-SEARCH parse failure
Malformed netlink message: len=300 left=256 plen=284
256 extra bytes in the end of netlink message
Malformed netlink message: len=300 left=256 plen=284
256 extra bytes in the end of netlink message
Malformed netlink message: len=304 left=256 plen=288
256 extra bytes in the end of netlink message
Malformed netlink message: len=276 left=256 plen=260
256 extra bytes in the end of netlink message
Malformed netlink message: len=276 left=256 plen=260
256 extra bytes in the end of netlink message
Sending discover...
Sending discover...
Sending discover...
Saving Data... Done!</code></pre></div><div class="codebox"><pre><code>Hit any key to stop autoboot:  0 
ar7240&gt; printenv
bootargs=console=ttyS0,115200 root=31:02 rootfstype=jffs2 init=/sbin/init mtdparts=ar7240-nor0:256k(u-boot),64k(u-boot-env),2752k(rootfs),896k(uImage),64k(NVRAM),64k(ART) REVISIONID
bootdelay=4
baudrate=115200
ethaddr=0x00:0xaa:0xbb:0xcc:0xdd:0xee
magic_number=32303033
filesize=3b68c
fileaddr=80800000
ipaddr=10.12.0.129
serverip=10.12.0.44
bootcmd=fsload 80800000 image/uImage;bootm 80800000
stdin=serial
stdout=serial
stderr=serial
ethact=eth1

Environment size: 447/65532 bytes
ar7240&gt;</code></pre></div><div class="codebox"><pre><code>root@WN2000RPTv2:/# cat /proc/cpuinfo 
system type        : Atheros AR7240 (Python)
processor        : 0
cpu model        : MIPS 24K V7.4
BogoMIPS        : 238.59
wait instruction    : yes
microsecond timers    : yes
tlb_entries        : 16
extra interrupt vector    : yes
hardware watchpoint    : yes
ASEs implemented    : mips16
VCED exceptions        : not available
VCEI exceptions        : not available</code></pre></div><p>to access on telnet activate it on port serie by executing telnetenable and use the script telnetenable.py. the service isn&#039;t permanent and can&#039;t update passwd</p><p>some pics<br /><a href="http://81.220.173.112/tmp/Netgear/IMG_20130921_174829.jpg">http://81.220.173.112/tmp/Netgear/IMG_2 … 174829.jpg</a><br /><a href="http://81.220.173.112/tmp/Netgear/IMG_20130921_175502.jpg">http://81.220.173.112/tmp/Netgear/IMG_2 … 175502.jpg</a><br /><a href="http://81.220.173.112/tmp/Netgear/IMG_20130921_175538.jpg">http://81.220.173.112/tmp/Netgear/IMG_2 … 175538.jpg</a></p>											<p class="post-edited">(Last edited by <strong>H2L29</strong> on 22 Sep 2013, 08:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212922">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						21 Sep 2013, 19:40					</div>
				</div>
				<div class="post-content content">
					<p>In order for developers to create a patch some more info might be needed. &quot;printenv&quot; in bootloader/uboot and nvram output (when booted) if there is one </p><div class="codebox"><pre><code>Hit any key to stop autoboot:  0 </code></pre></div><p>Just hit pressing some button (not 0-9; 4 normally enters uboot) when booting </p><p>wikidevi says it&#039;s similar to a Netgear wnr2000v3 - that device is already supported in trunk</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212923">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">H2L29</div>
					<div class="post-datetime">
						21 Sep 2013, 20:12					</div>
				</div>
				<div class="post-content content">
					<p>thank for reply, yes i know is very similar at WNR2000v3, i&#039;ve read the wikipage and the forum thread. i&#039;ve updated the first post with the printenv information, if more other information is or needed ask me <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212928">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						21 Sep 2013, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>output of /proc/cpuinfo would be helpful i think because of machine name detection</p><div class="codebox"><pre><code>#target/linux/ar71xx/base-files/lib/ar71xx.sh
# add a 3rd case with magic?
    &quot;32303033&quot;)
        machine=&quot;NETGEAR WN2000RPTv2&quot;
        ;;
    esac

# target/linux/ar71xx/image/Makefile
# from your flash layout - some partitions could possibly be reclaimed for more storage - dont know about naming rules

wn2000rptv2_mtdlayout=mtdparts=spi0.0:256k(u-boot)ro,64k(u-boot-env)ro,1024k(kernel),2368k(rootfs),64k(config)ro,128k(lang)ro,64k(pot)ro,64k(traffic)ro,64k(art)ro,3392k@0x50000(firmware)</code></pre></div><p>I haven&#039;t fully understood image creation in that Makefile</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212930">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">H2L29</div>
					<div class="post-datetime">
						22 Sep 2013, 00:27					</div>
				</div>
				<div class="post-content content">
					<p>ok, first post updated</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>