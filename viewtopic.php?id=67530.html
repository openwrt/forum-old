<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TL-WA850RE V2 serial connection</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p338117">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">webtron</div>
					<div class="post-datetime">
						13 Sep 2016, 03:42					</div>
				</div>
				<div class="post-content content">
					<p>Trying to get a console on this device but it appears to have TX and RX disconnected on the board. Can I just solder these links permanently or do they need resistors?&nbsp; <br /><span class="postimg"><img src="https://s12.postimg.org/udl77s5kt/850_RE_V2.jpg" alt="https://s12.postimg.org/udl77s5kt/850_RE_V2.jpg" /></span></p>											<p class="post-edited">(Last edited by <strong>webtron</strong> on 13 Sep 2016, 08:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338131">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">webtron</div>
					<div class="post-datetime">
						13 Sep 2016, 08:36					</div>
				</div>
				<div class="post-content content">
					<p>Update on this. I ended up getting impatient and soldered the two bridges on the board and it worked.<br />Boot log factory firmware:<br /></p><div class="quotebox"><blockquote><p>U-Boot 1.1.4 (Dec 23 2015 - 17:10:56)</p><p>ap143 - Honey Bee 2.0</p><p>DRAM:&nbsp; 32 MB<br />Flash Manuf Id 0xef, DeviceId0 0x40, DeviceId1 0x16<br />flash size 4MB, sector count = 64<br />Flash:&nbsp; 4 MB<br />Using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ath_gmac_enet_initialize...<br />ath_gmac_enet_initialize: reset mask:c02200<br />Scorpion ----&gt;S27 PHY*<br />S27 reg init<br />GMAC: cfg1 0x800c0000 cfg2 0x7114<br />eth0: ba:be:fa:ce:08:41<br />athrs27_phy_setup ATHR_PHY_CONTROL 4 :0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 4 :0x10<br />eth0 up<br />Honey Bee ----&gt;&nbsp; MAC 1 S27 PHY *<br />S27 reg init<br />ATHRS27: resetting s27<br />ATHRS27: s27 reset done<br />GMAC: cfg1 0x800c0000 cfg2 0x7214<br />eth1: ba:be:fa:ce:08:41<br />athrs27_phy_setup ATHR_PHY_CONTROL 0 :0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 0 :0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 1 :0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 1 :0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 2 :0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 2 :0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 3 :0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 3 :0x10<br />eth1 up<br />eth0, eth1<br />Setting 0x181162c0 to 0x60c1a100<br />Autobooting in 1 seconds<br />## Booting image at 9f020000 ...<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK</p><p>Starting kernel ...</p><p>Booting QCA953x<br />Linux version 2.6.31--LSDK-9.2.0_U5.508 (canjchen@ubuntu2ccj) (gcc version 4.3.3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(GCC) ) #1 Wed Dec 23 17:14:45 CST 2015<br />flash_size passed from bootloader = 4<br />Ram size passed from bootloader =33554432<br />CPU revision is: 00019374 (MIPS 24Kc)<br />ath_sys_frequency: cpu apb ddr apb cpu 550 ddr 395 ahb 197<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0: 0x00000000 -&gt; 0x00002000<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />Kernel command line: console=ttyS0,115200 root=31:2 rootfstype=squashfs init=/sb&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; in/init mtdparts=ath-nor0:128k(u-boot),768k(kernel),2880k(rootfs),256k(config),6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4k(art) mem=32M<br />PID hash table entries: 128 (order: 7, 512 bytes)<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />Writing ErrCtl register=00000000<br />Readback ErrCtl register=00000000<br />Memory: 30360k/32768k available (1554k kernel code, 2408k reserved, 374k data, 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 08k init, 0k highmem)<br />NR_IRQS:128<br />plat_time_init: plat time init done<br />Calibrating delay loop... 365.56 BogoMIPS (lpj=731136)<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />gpio init: JUMP_START: 16, RST_DFT: 17<br />bio: create slab &lt;bio-0&gt; at 0<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />NET: Registered protocol family 1<br />ATH GPIOC major 0<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />msgmni has been set to 59<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />serial8250.0: ttyS0 at MMIO 0xb8020000 (irq = 19) is a 16550A<br />console [ttyS0] enabled<br />PPP generic driver version 2.4.2<br />NET: Registered protocol family 24<br />5 cmdlinepart partitions found on MTD device ath-nor0<br />Creating 5 MTD partitions on &quot;ath-nor0&quot;:<br />0x000000000000-0x000000020000 : &quot;u-boot&quot;<br />0x000000020000-0x0000000e0000 : &quot;kernel&quot;<br />0x0000000e0000-0x0000003b0000 : &quot;rootfs&quot;<br />0x0000003b0000-0x0000003f0000 : &quot;config&quot;<br />0x0000003f0000-0x000000400000 : &quot;art&quot;<br />TCP cubic registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />athwdt_init: Registering WDT success<br />VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />Freeing unused kernel memory: 108k freed<br />init started: BusyBox v1.19.4 (2015-12-23 17:19:14 CST)<br />starting pid 93, tty &#039;&#039;: &#039;/etc/rc.d/rcS&#039;<br />This Board use 2.6.31<br />Lan Domain: tplinkrepeater.net<br />Lan Domain: <a href="http://www.tplinkrepeater.net">www.tplinkrepeater.net</a><br />tp_dhcp_hook: module license &#039;unspecified&#039; taints kernel.<br />Disabling lock debugging due to kernel taint<br />qca_soc_gmac: Length per segment 1536<br />953x_GMAC: qca953x_gmac_attach<br /> Link poll&nbsp; Enabled<br />qca953x_set_gmac_caps&nbsp; CHECK DMA STATUS<br />mac:1 Registering S27....<br />qca_soc_gmac: RX TASKLET - Pkts per Intr:32<br />qca_soc_gmac: Max segments per packet :&nbsp; &nbsp;1<br />qca_soc_gmac: Max tx descriptor count :&nbsp; &nbsp;512<br />qca_soc_gmac: Max rx descriptor count :&nbsp; &nbsp;128<br />qca_soc_gmac: Mac capability flags&nbsp; &nbsp; :&nbsp; &nbsp;2B83<br />953x_GMAC: qca953x_gmac_attach<br /> Link poll&nbsp; Enabled<br />qca953x_set_gmac_caps&nbsp; CHECK DMA STATUS<br />mac:0 Registering S27....<br />qca_soc_gmac: RX TASKLET - Pkts per Intr:32<br />qca_soc_gmac: Max segments per packet :&nbsp; &nbsp;1<br />qca_soc_gmac: Max tx descriptor count :&nbsp; &nbsp;512<br />qca_soc_gmac: Max rx descriptor count :&nbsp; &nbsp;128<br />qca_soc_gmac: Mac capability flags&nbsp; &nbsp; :&nbsp; &nbsp;2383<br />Device eth1 port type is 4096<br />device eth1 entered promiscuous mode<br />[ucEthernet_init:128]ERROR product_id= 08500200</p><p>====&gt;&gt;&gt;&gt;default mac is 18-a6-f7-30-05-a3<br />====&gt;&gt;&gt;&gt;default mac is 18-a6-f7-30-05-a3<br />[daemonize:258]recv a pipe message.</p><p>[main:446]send a pipe message.</p><p>httpMudCreate: MUD 0x4a6ed0 was created<br />httpServerCreate: try to add port 80<br />athr_gmac_ring_alloc Allocated 8192 at 0x81588000<br />athr_gmac_ring_alloc Allocated 2048 at 0x8159f800<br />HONEYBEE ----&gt; S27 PHY MDIO<br />Setting Drop CRC Errors, Pause Frames and Length Error frames<br />starting pid 170, tty &#039;&#039;: &#039;/sbin/getty ttyS0 115200&#039;</p><p> TL-WA850RE mips #1 Wed Dec 23 17:14:45 CST 2015 (none)<br />TL-WA850RE login: ath_hal: 0.9.17.1 (AR5416, AR9380, REGOPS_FUNC, WRITE_EEPROM, TX_DATA_SWAP, RX_DATA_SWAP, 11D)<br />ath_rate_atheros: Copyright (c) 2001-2005 Atheros Communications, Inc, All Rights Reserved<br />ath_dev: Copyright (c) 2001-2007 Atheros Communications, Inc, All Rights Reserved<br />ath_ahb: 10.2-00082-4 (Atheros/multi-bss)<br />__ath_attach: Set global_scn[0]<br />*** All the minfree values should be &lt;= ATH_TXBUF-32, otherwise default value will be used instead ***<br />ACBKMinfree = 48<br />ACBEMinfree = 32<br />ACVIMinfree = 16<br />ACVOMinfree = 0<br />CABMinfree = 48<br />UAPSDMinfree = 0<br />ATH_TXBUF=512<br />ATH_SUPPORT_SKB=1000<br />[ath_hal_attach:334]devid:0x3d<br />Enterprise mode: 0x03fc0000<br />Restoring Cal data from Flash<br />ar9300_eeprom_restore_from_flash: eeprom_version = 2, template_version = 2<br />Green-AP : Green-AP : Attached</p><p>ath_get_caps[6185] rx chainmask mismatch actual 3 sc_chainmak 0<br />ath_get_caps[6160] tx chainmask mismatch actual 3 sc_chainmak 0<br />osif_wrap_attach:753 osif wrap attached<br />osif_wrap_devt_init:709 osif wrap dev table init done<br />ATH_RESERVED_TXBUF = 800<br />ath_tx_paprd_init sc 81788000 PAPRD disabled in HAL<br />wifi0: Atheros 953X: devID = 0x3d, mem=0xb8100000, irq=2<br />wlan_vap_create : enter. devhandle=0x816782c0, opmode=IEEE80211_M_HOSTAP, flags=0x401<br />ieee80211_extap_mac_add:18:a6:f7:30:05:a3<br />wlan_vap_create : exit. devhandle=0x816782c0, opmode=IEEE80211_M_HOSTAP, flags=0x401.<br />VAP device ath0 created</p><p> DES SSID SET=TP-LINK_Extender_3005A3 ssid.len:23<br /> ieee80211_ioctl_siwmode: imr.ifm_active=131712, new mode=3, valid=1<br />Device ath0 port type is 4097<br />device ath0 entered promiscuous mode<br />br0: port 2(ath0) entering forwarding state<br />VAP device ath2 created<br />osif_wrap_dev_add:183 Adding ath2 to the list mat<br />Device ath2 port type is 4101<br />device ath2 entered promiscuous mode<br /> ieee80211_ioctl_siwmode: imr.ifm_active=917632, new mode=2, valid=1<br />[wlan_scan_start:67]scan channel num:13<br />[wlan_scan_start:70]scan channel[0]:2412<br />[wlan_scan_start:70]scan channel[1]:2417<br />[wlan_scan_start:70]scan channel[2]:2422<br />[wlan_scan_start:70]scan channel[3]:2427<br />[wlan_scan_start:70]scan channel[4]:2432<br />[wlan_scan_start:70]scan channel[5]:2437<br />[wlan_scan_start:70]scan channel[6]:2442<br />[wlan_scan_start:70]scan channel[7]:2447<br />[wlan_scan_start:70]scan channel[8]:2452<br />[wlan_scan_start:70]scan channel[9]:2457<br />[wlan_scan_start:70]scan channel[10]:2462<br />[wlan_scan_start:70]scan channel[11]:2467<br />[wlan_scan_start:70]scan channel[12]:2472<br />br0: port 3(ath2) entering forwarding state<br />Scan in progress.. Cancelling it: 0<br />br0: port 2(ath0) entering disabled state<br /> ieee80211_ioctl_siwmode: imr.ifm_active=918144, new mode=3, valid=1<br /> DEVICE IS DOWN ifname=ath0<br /> DEVICE IS DOWN ifname=ath0<br />[wlan_scan_start:67]scan channel num:13<br />[wlan_scan_start:70]scan channel[0]:2412<br />[wlan_scan_start:70]scan channel[1]:2417<br />[wlan_scan_start:70]scan channel[2]:2422<br />[wlan_scan_start:70]scan channel[3]:2427<br />[wlan_scan_start:70]scan channel[4]:2432<br />[wlan_scan_start:70]scan channel[5]:2437<br />[wlan_scan_start:70]scan channel[6]:2442<br />[wlan_scan_start:70]scan channel[7]:2447<br />[wlan_scan_start:70]scan channel[8]:2452<br />[wlan_scan_start:70]scan channel[9]:2457<br />[wlan_scan_start:70]scan channel[10]:2462<br />[wlan_scan_start:70]scan channel[11]:2467<br />[wlan_scan_start:70]scan channel[12]:2472<br />br0: port 2(ath0) entering forwarding state<br />ath0:ath1:eth1<br />mlme_create_infra_bss : Overriding HT40 channel with HT20 channel<br />**** drop_caches_sysctl_handler: all done timer added ...****</p></blockquote></div><br /><p>Boot log Openwrt:<br /></p><div class="quotebox"><blockquote><p>U-Boot 1.1.4 (Dec 23 2015 - 17:10:56)</p><p>ap143 - Honey Bee 2.0</p><p>DRAM:&nbsp; 32 MB<br />Flash Manuf Id 0xef, DeviceId0 0x40, DeviceId1 0x16<br />flash size 4MB, sector count = 64<br />Flash:&nbsp; 4 MB<br />Using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ath_gmac_enet_initialize...<br />ath_gmac_enet_initialize: reset mask:c02200<br />Scorpion ----&gt;S27 PHY*<br />S27 reg init<br />GMAC: cfg1 0x800c0000 cfg2 0x7114<br />eth0: ba:be:fa:ce:08:41<br />athrs27_phy_setup ATHR_PHY_CONTROL 4 :0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 4 :0x10<br />eth0 up<br />Honey Bee ----&gt;&nbsp; MAC 1 S27 PHY *<br />S27 reg init<br />ATHRS27: resetting s27<br />ATHRS27: s27 reset done<br />GMAC: cfg1 0x800c0000 cfg2 0x7214<br />eth1: ba:be:fa:ce:08:41<br />athrs27_phy_setup ATHR_PHY_CONTROL 0 :0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 0 :0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 1 :0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 1 :0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 2 :0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 2 :0x10<br />athrs27_phy_setup ATHR_PHY_CONTROL 3 :0x1000<br />athrs27_phy_setup ATHR_PHY_SPEC_STAUS 3 :0x10<br />eth1 up<br />eth0, eth1<br />Setting 0x181162c0 to 0x60c1a100<br />Autobooting in 1 seconds<br />## Booting image at 9f020000 ...<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK</p><p>Starting kernel ...</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.18.23 (buildbot@builder1) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r47269) ) #1 Sun Jan 31 18:39:35 CET 2016<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU0 revision is: 00019374 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Qualcomm Atheros QCA9533 ver 2 rev 0<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;[mem 0x00000000-0x01ffffff]<br />[&nbsp; &nbsp; 0.000000] Movable zone start for each node<br />[&nbsp; &nbsp; 0.000000] Early memory node ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x00000000-0x01ffffff]<br />[&nbsp; &nbsp; 0.000000] Initmem setup node 0 [mem 0x00000000-0x01ffffff]<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; board=TL-WR841N-v9&nbsp; console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 28324K/32768K available (2586K kernel code, 128K rwdata, 540K rodata, 256K init, 193K bss, 4444K reserved)<br />[&nbsp; &nbsp; 0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:550.000MHz, DDR:390.844MHz, AHB:195.422MHz, Ref:25.000MHz<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 366.18 BogoMIPS (lpj=1830912)<br />[&nbsp; &nbsp; 0.060000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.060000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.070000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.080000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.080000] MIPS: machine is TP-LINK TL-WR841N/ND v9<br />[&nbsp; &nbsp; 0.530000] Switched to clocksource MIPS<br />[&nbsp; &nbsp; 0.540000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.540000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.540000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.550000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.550000] TCP: reno registered<br />[&nbsp; &nbsp; 0.560000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.560000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.570000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.570000] futex hash table entries: 256 (order: -1, 3072 bytes)<br />[&nbsp; &nbsp; 0.600000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.610000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.620000] msgmni has been set to 55<br />[&nbsp; &nbsp; 0.620000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.630000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.630000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled<br />Ãª[&nbsp; &nbsp; 0.660000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11, base_baud = 1562500) is a 16550A<br />[&nbsp; &nbsp; 0.670000] console [ttyS0] enabled<br />[&nbsp; &nbsp; 0.670000] console [ttyS0] enabled<br />[&nbsp; &nbsp; 0.680000] bootconsole [early0] disabled<br />[&nbsp; &nbsp; 0.680000] bootconsole [early0] disabled<br />[&nbsp; &nbsp; 0.690000] m25p80 spi0.0: found w25q32, expected m25p80<br />[&nbsp; &nbsp; 0.700000] m25p80 spi0.0: w25q32 (4096 Kbytes)<br />[&nbsp; &nbsp; 0.710000] 5 tp-link partitions found on MTD device spi0.0<br />[&nbsp; &nbsp; 0.710000] Creating 5 MTD partitions on &quot;spi0.0&quot;:<br />[&nbsp; &nbsp; 0.720000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.720000] 0x000000020000-0x00000013f620 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.730000] 0x00000013f620-0x0000003f0000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 0.730000] mtd: device 2 (rootfs) set to be root filesystem<br />[&nbsp; &nbsp; 0.740000] 1 squashfs-split partitions found on MTD device rootfs<br />[&nbsp; &nbsp; 0.750000] 0x000000360000-0x0000003f0000 : &quot;rootfs_data&quot;<br />[&nbsp; &nbsp; 0.750000] 0x0000003f0000-0x000000400000 : &quot;art&quot;<br />[&nbsp; &nbsp; 0.760000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 0.790000] libphy: ag71xx_mdio: probed<br />[&nbsp; &nbsp; 1.380000] ag71xx-mdio.1: Found an AR934X built-in switch<br />[&nbsp; &nbsp; 1.420000] eth0: Atheros AG71xx at 0xba000000, irq 5, mode:GMII<br />[&nbsp; &nbsp; 2.020000] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.1:04 [uid=004dd042, driver=Generic PHY]<br />[&nbsp; &nbsp; 2.030000] eth1: Atheros AG71xx at 0xb9000000, irq 4, mode:MII<br />[&nbsp; &nbsp; 2.040000] TCP: cubic registered<br />[&nbsp; &nbsp; 2.040000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 2.040000] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.<br />[&nbsp; &nbsp; 2.060000] Bridge firewalling registered<br />[&nbsp; &nbsp; 2.060000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 2.080000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />[&nbsp; &nbsp; 2.080000] Freeing unused kernel memory: 256K (80390000 - 803d0000)<br />[&nbsp; &nbsp; 3.230000] init: Console is alive<br />[&nbsp; &nbsp; 3.230000] init: - watchdog -<br />[&nbsp; &nbsp; 5.240000] init: - preinit -<br />[&nbsp; &nbsp; 5.870000] random: procd urandom read with 9 bits of entropy available<br />Press the [f] key and hit [enter] to enter failsafe mode<br />Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level<br />[&nbsp; &nbsp; 9.160000] mount_root: jffs2 not ready yet, using temporary tmpfs overlay<br />[&nbsp; &nbsp; 9.210000] procd: - early -<br />[&nbsp; &nbsp; 9.220000] procd: - watchdog -<br />[&nbsp; &nbsp;10.020000] procd: - ubus -<br />[&nbsp; &nbsp;11.030000] procd: - init -<br />Please press Enter to activate this console.<br />[&nbsp; &nbsp;11.830000] NET: Registered protocol family 10<br />[&nbsp; &nbsp;11.850000] ip6_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp;11.860000] Loading modules backported from Linux version master-2015-03-09-0-g141f155<br />[&nbsp; &nbsp;11.870000] Backport generated by backports.git backports-20150129-0-gdd4a670<br />[&nbsp; &nbsp;11.880000] ip_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp;11.900000] nf_conntrack version 0.5.0 (446 buckets, 1784 max)<br />[&nbsp; &nbsp;11.950000] xt_time: kernel timezone is -0000<br />[&nbsp; &nbsp;11.980000] cfg80211: Calling CRDA to update world regulatory domain<br />[&nbsp; &nbsp;12.010000] cfg80211: World regulatory domain updated:<br />[&nbsp; &nbsp;12.010000] cfg80211:&nbsp; DFS Master region: unset<br />[&nbsp; &nbsp;12.020000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)<br />[&nbsp; &nbsp;12.030000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;12.030000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz, 92000 KHz AUTO), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;12.040000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;12.050000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;12.060000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (0 s)<br />[&nbsp; &nbsp;12.070000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)<br />[&nbsp; &nbsp;12.080000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)<br />[&nbsp; &nbsp;12.090000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)<br />[&nbsp; &nbsp;12.160000] PPP generic driver version 2.4.2<br />[&nbsp; &nbsp;12.160000] NET: Registered protocol family 24<br />[&nbsp; &nbsp;12.240000] ieee80211 phy0: Atheros AR9531 Rev:2 mem=0xb8100000, irq=2<br />[&nbsp; &nbsp;12.280000] cfg80211: Calling CRDA for country: US<br />[&nbsp; &nbsp;12.280000] cfg80211: Regulatory domain changed to country: US<br />[&nbsp; &nbsp;12.290000] cfg80211:&nbsp; DFS Master region: FCC<br />[&nbsp; &nbsp;12.290000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)<br />[&nbsp; &nbsp;12.300000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)<br />[&nbsp; &nbsp;12.310000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2300 mBm), (N/A)<br />[&nbsp; &nbsp;12.320000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2300 mBm), (0 s)<br />[&nbsp; &nbsp;12.330000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2300 mBm), (0 s)<br />[&nbsp; &nbsp;12.340000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)<br />[&nbsp; &nbsp;12.350000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm), (N/A)<br />[&nbsp; &nbsp;20.490000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0<br />[&nbsp; &nbsp;20.500000] jffs2_build_filesystem(): unlocking the mtd device... done.<br />[&nbsp; &nbsp;20.510000] jffs2_build_filesystem(): erasing all blocks after the end marker... done.<br />[&nbsp; &nbsp;22.810000] jffs2: notice: (985) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.<br />[&nbsp; &nbsp;23.460000] device eth0 entered promiscuous mode<br />[&nbsp; &nbsp;23.460000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready<br />[&nbsp; &nbsp;23.540000] IPv6: ADDRCONF(NETDEV_UP): eth1: link is not ready<br />[&nbsp; &nbsp;25.590000] eth1: link up (100Mbps/Full duplex)<br />[&nbsp; &nbsp;25.590000] IPv6: ADDRCONF(NETDEV_CHANGE): eth1: link becomes ready<br />[&nbsp; &nbsp;77.530000] random: nonblocking pool is initialized</p></blockquote></div><p>I&#039;ve managed to get firmware for the wr841nd v10 on via tftp but no wifi as yet.</p><p>Edit<br />To get wifi working I had to assign the original mac address to the wifi interface. Mac addresses seem to be random on every boot for the lan port too so firmware mustn&#039;t be able to detect the correct mac address which is causing the wifi to not start.</p>											<p class="post-edited">(Last edited by <strong>webtron</strong> on 13 Sep 2016, 09:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p340446">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">moccolo</div>
					<div class="post-datetime">
						6 Oct 2016, 20:41					</div>
				</div>
				<div class="post-content content">
					<p>any progress with that hardware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p340460">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">webtron</div>
					<div class="post-datetime">
						6 Oct 2016, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>A little I managed to find out the tftp flashing wiped a section of the uboot mtd which lost the mac which was needed to get the wifi working. <a href="https://forum.openwrt.org/viewtopic.php?id=67548">https://forum.openwrt.org/viewtopic.php?id=67548</a> In the end I managed to write those values back in to uboot which fixed the wifi.<br />I can&#039;t get it to flash via the web interface though which kind of makes it pointless when they are so welded together i have to damage the case and do so much soldering to get Openwrt on it.<br /> <a href="https://forum.openwrt.org/viewtopic.php?id=67690">https://forum.openwrt.org/viewtopic.php?id=67690</a><br />With the oem firmware the console is password protected after initial boot so it&#039;s difficult to get around the checksum error. I&#039;ve also had a lot of other work to do so have left it there until I have more time. Mine is an AU version btw.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341242">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">moccolo</div>
					<div class="post-datetime">
						16 Oct 2016, 12:54					</div>
				</div>
				<div class="post-content content">
					<p>just to let everybody know.... on us tp-link site under 850re repeater, they added V.3 so we will have a new version soon...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p374657">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">frankie.b</div>
					<div class="post-datetime">
						29 Mar 2018, 04:16					</div>
				</div>
				<div class="post-content content">
					<p>webtron,</p><p>Any tips on bridging those tx and rx breaks? I just tried for a few hours and get nothing on my serial console. You just connected gnd, tx, and rx, right?</p><p>How did you bridge those tiny gaps? Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p374658">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">webtron</div>
					<div class="post-datetime">
						29 Mar 2018, 04:32					</div>
				</div>
				<div class="post-content content">
					<p>I just soldered them together with a pointy soldering iron and magnifying goggles. Not easy but it is possible. Yes from memory just gnd, tx and rx</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>