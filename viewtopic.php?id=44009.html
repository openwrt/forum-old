<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Buffalo WZR-300hp / WZR-G300NH2 supported?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p200867">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">damavox</div>
					<div class="post-datetime">
						6 May 2013, 08:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi i am hoping to be able to put open-wrt on a buffalo WZR-300HP.<br />I am not very technically inclined however i do know enough to wreck something.<br />I was wondering if there is a openwrt version that can go on this router? by simply doing a &quot;firmware upgrade&quot; from the webgui. </p><p>I have this one download:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;openwrt-ar71xx-generic-wzr-hp-g300nh2-squashfs-tftp.bin</p><p>However when i trade to do a firmware upgrade, it said it was sucessful however the origanal firmware remained and i could not telnet to 192.168.1.1. only 192.168.11.1 (dd-wrt router router default). Which mean it was not sucessful.</p><p>I tried reading the wiki but found it a little confusing and it made me kind of nervous for fear of bricking my device.</p><p>Any and all help would be appreciated!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p217811">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">beckolamuffin</div>
					<div class="post-datetime">
						17 Nov 2013, 21:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi.&nbsp; Wanted to let folks know that I tried to install OpenWrt (attitude adjustment, pulled from nightly build section on 16 November 2013) on a WZR-300HP, revision B0A1. Seems that I bricked it. I first tried to load the image via TFTP.&nbsp; Despite trying several times with and without a switch, I couldn&#039;t get that to work.&nbsp; I eventually used the MTD method; I was able to telnet into the router with the stock firmware. The MTD method seemed to work until I rebooted, then it was a brick.&nbsp; I plan to open the case on this thing to see what I can learn from its innards, and how it might be different from the B0A0, which I understand will work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219065">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">keyboardgnome</div>
					<div class="post-datetime">
						3 Dec 2013, 04:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>beckolamuffin wrote:</cite><blockquote><p>Hi.&nbsp; Wanted to let folks know that I tried to install OpenWrt (attitude adjustment, pulled from nightly build section on 16 November 2013) on a WZR-300HP, revision B0A1. Seems that I bricked it. I first tried to load the image via TFTP.&nbsp; Despite trying several times with and without a switch, I couldn&#039;t get that to work.&nbsp; I eventually used the MTD method; I was able to telnet into the router with the stock firmware. The MTD method seemed to work until I rebooted, then it was a brick.&nbsp; I plan to open the case on this thing to see what I can learn from its innards, and how it might be different from the B0A0, which I understand will work.</p></blockquote></div><p>I&#039;m in the exact same boat. Did you have any progress?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219067">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">beckolamuffin</div>
					<div class="post-datetime">
						3 Dec 2013, 04:57					</div>
				</div>
				<div class="post-content content">
					<p>Not much yet.&nbsp; Got the cover off and am planning on attaching a serial cable. Markings on the board are a little different than earlier models. </p><p>PCB is marked:<br />WZR-HP-G302HV2<br />21514 W302HV21A3 Rev:A3</p><p>To get off the cover, you need a T10 &quot;tamper proof&quot; torx bit, the kind with the little hole in the center.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219141">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">keyboardgnome</div>
					<div class="post-datetime">
						4 Dec 2013, 02:24					</div>
				</div>
				<div class="post-content content">
					<p>Same markings on mine; i was able to recover mine back to the stock dd-wrt firmware today without having to serial port the router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219143">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">erpadmin</div>
					<div class="post-datetime">
						4 Dec 2013, 02:43					</div>
				</div>
				<div class="post-content content">
					<p>Just picked one of these up.&nbsp; This is my 3rd one and they are all different revisions lol.</p><p>Its good that it flashed back to stock keyboardgnome.&nbsp; </p><p>beckolamuffin are you actually adding the port so you can see what failed in the boot process; maybe driver issue or something?&nbsp; Interested in seeing that output and please update this thread on any progress.</p>											<p class="post-edited">(Last edited by <strong>erpadmin</strong> on 4 Dec 2013, 03:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219145">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">keyboardgnome</div>
					<div class="post-datetime">
						4 Dec 2013, 04:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>erpadmin wrote:</cite><blockquote><p>Its good that it flashed back to stock keyboardgnome.</p></blockquote></div><p>Two tricks:<br />First trick was not using windows or the linksys util, but linux and tftp. In windows, it would get up to, oh, about 70-75 percent reflashed, then bomb out. In linux, smooth and silk. (<a href="http://g300nh.blogspot.com/2010/06/firmware-flash-and-brick-recovery.html">http://g300nh.blogspot.com/2010/06/firm … overy.html</a>)</p><p>Second trick was making sure that the switch for router mode (auto/on/off) was set to ON, and not the others.</p><br /><p>Here&#039;s the obligatory bootlog on the new one</p><p>&lt;5&gt;[&nbsp; &nbsp; 0.000000] Linux version 3.2.21 (root@dd-wrt) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #226 Mon Jul 9 09:28:28 CEST 2012<br />&lt;4&gt;[&nbsp; &nbsp; 0.000000] flash_size passed from bootloader = 32<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] CPU revision is: 00019374 (MIPS 24Kc)<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000]&nbsp; memory: 04000000 @ 00000000 (usable)<br />&lt;4&gt;[&nbsp; &nbsp; 0.000000] Zone PFN ranges:<br />&lt;4&gt;[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00004000<br />&lt;4&gt;[&nbsp; &nbsp; 0.000000] Movable zone start PFN for each node<br />&lt;4&gt;[&nbsp; &nbsp; 0.000000] early_node_map[1] active PFN ranges<br />&lt;4&gt;[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;0: 0x00000000 -&gt; 0x00004000<br />&lt;7&gt;[&nbsp; &nbsp; 0.000000] On node 0 totalpages: 16384<br />&lt;7&gt;[&nbsp; &nbsp; 0.000000] free_area_init_node: node 0, pgdat 80327e80, node_mem_map 81000000<br />&lt;7&gt;[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 128 pages used for memmap<br />&lt;7&gt;[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 0 pages reserved<br />&lt;7&gt;[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 16256 pages, LIFO batch:3<br />&lt;7&gt;[&nbsp; &nbsp; 0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768<br />&lt;7&gt;[&nbsp; &nbsp; 0.000000] pcpu-alloc: [0] 0 <br />&lt;4&gt;[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 16256<br />&lt;5&gt;[&nbsp; &nbsp; 0.000000] Kernel command line: console=ttyS0,115200 root=1f02 rootfstype=squashfs noinitrd init=/sbin/init<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />&lt;4&gt;[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />&lt;4&gt;[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] Memory: 61264k/65536k available (2367k kernel code, 4272k reserved, 857k data, 164k init, 0k highmem)<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] NR_IRQS:80<br />&lt;6&gt;[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />&lt;6&gt;[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />&lt;6&gt;[&nbsp; &nbsp; 0.080000] Mount-cache hash table entries: 512<br />&lt;6&gt;[&nbsp; &nbsp; 0.090000] NET: Registered protocol family 16<br />&lt;6&gt;[&nbsp; &nbsp; 0.090000] found calibration data for slot 0 on 0xBF051000<br />&lt;4&gt;[&nbsp; &nbsp; 0.300000] registering PCI controller with io_map_base unset<br />&lt;6&gt;[&nbsp; &nbsp; 0.320000] bio: create slab &lt;bio-0&gt; at 0<br />&lt;6&gt;[&nbsp; &nbsp; 0.320000] usbcore: registered new interface driver usbfs<br />&lt;6&gt;[&nbsp; &nbsp; 0.330000] usbcore: registered new interface driver hub<br />&lt;6&gt;[&nbsp; &nbsp; 0.330000] usbcore: registered new device driver usb<br />&lt;7&gt;[&nbsp; &nbsp; 0.340000] pci 0000:00:00.0: [168c:ff1c] type 0 class 0x000200<br />&lt;6&gt;[&nbsp; &nbsp; 0.340000] pci 0000:00:00.0: fixup device configuration<br />&lt;0&gt;[&nbsp; &nbsp; 0.340000] bootstrap returns device 168C:2A<br />&lt;7&gt;[&nbsp; &nbsp; 0.350000] pci 0000:00:00.0: reg 10: [mem 0x00000000-0x0000ffff 64bit]<br />&lt;7&gt;[&nbsp; &nbsp; 0.350000] pci 0000:00:00.0: supports D1<br />&lt;7&gt;[&nbsp; &nbsp; 0.350000] pci 0000:00:00.0: PME# supported from D0 D1 D3hot<br />&lt;7&gt;[&nbsp; &nbsp; 0.350000] pci 0000:00:00.0: PME# disabled<br />&lt;6&gt;[&nbsp; &nbsp; 0.350000] pci 0000:00:00.0: BAR 0: assigned [mem 0x10000000-0x1000ffff 64bit]<br />&lt;6&gt;[&nbsp; &nbsp; 0.350000] pci 0000:00:00.0: BAR 0: set to [mem 0x10000000-0x1000ffff 64bit] (PCI address [0x10000000-0x1000ffff])<br />&lt;6&gt;[&nbsp; &nbsp; 0.360000] PCI: mapping irq 72 to pin1@0000:00:00.0<br />&lt;6&gt;[&nbsp; &nbsp; 0.360000] Switching to clocksource MIPS<br />&lt;6&gt;[&nbsp; &nbsp; 0.370000] NET: Registered protocol family 2<br />&lt;6&gt;[&nbsp; &nbsp; 0.370000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />&lt;6&gt;[&nbsp; &nbsp; 0.380000] TCP established hash table entries: 2048 (order: 2, 16384 bytes)<br />&lt;6&gt;[&nbsp; &nbsp; 0.390000] TCP bind hash table entries: 2048 (order: 1, 8192 bytes)<br />&lt;6&gt;[&nbsp; &nbsp; 0.390000] TCP: Hash tables configured (established 2048 bind 2048)<br />&lt;6&gt;[&nbsp; &nbsp; 0.400000] TCP reno registered<br />&lt;6&gt;[&nbsp; &nbsp; 0.400000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />&lt;6&gt;[&nbsp; &nbsp; 0.410000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />&lt;6&gt;[&nbsp; &nbsp; 0.420000] NET: Registered protocol family 1<br />&lt;7&gt;[&nbsp; &nbsp; 0.420000] PCI: CLS 0 bytes, default 32<br />&lt;5&gt;[&nbsp; &nbsp; 0.420000] gpio_proc: module loaded and /proc/gpio/ created<br />&lt;5&gt;[&nbsp; &nbsp; 0.430000] wl0gpio_proc: module loaded and /proc/wl0gpio/ created<br />&lt;6&gt;[&nbsp; &nbsp; 0.440000] squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />&lt;6&gt;[&nbsp; &nbsp; 0.440000] msgmni has been set to 119<br />&lt;6&gt;[&nbsp; &nbsp; 0.450000] alg: No test for stdrng (krng)<br />&lt;6&gt;[&nbsp; &nbsp; 0.450000] io scheduler noop registered<br />&lt;6&gt;[&nbsp; &nbsp; 0.460000] io scheduler deadline registered (default)<br />&lt;6&gt;[&nbsp; &nbsp; 0.460000] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled<br />&lt;6&gt;[&nbsp; &nbsp; 0.490000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A<br />&lt;6&gt;[&nbsp; &nbsp; 0.500000] console [ttyS0] enabled, bootconsole disabled<br />&lt;4&gt;[&nbsp; &nbsp; 0.510000] check spi banks 2<br />&lt;4&gt;[&nbsp; &nbsp; 0.510000] 0000 : C2 20 18<br />&lt;4&gt;[&nbsp; &nbsp; 0.520000] found MX25L128-45E device on bank#0<br />&lt;4&gt;[&nbsp; &nbsp; 0.520000] 0000 : C2 20 18<br />&lt;4&gt;[&nbsp; &nbsp; 0.520000] found MX25L128-45E device on bank#1<br />&lt;4&gt;[&nbsp; &nbsp; 0.530000] SPI flash size total:32 Mbytes<br />&lt;0&gt;[&nbsp; &nbsp; 0.610000] <br />&lt;0&gt;[&nbsp; &nbsp; 0.610000] found squashfs at 182000<br />&lt;5&gt;[&nbsp; &nbsp; 0.610000] Creating 9 MTD partitions on &quot;ar7240-nor0&quot;:<br />&lt;5&gt;[&nbsp; &nbsp; 0.620000] 0x000000000000-0x000000050000 : &quot;RedBoot&quot;<br />&lt;5&gt;[&nbsp; &nbsp; 0.630000] 0x000000060000-0x000001fe0000 : &quot;linux&quot;<br />&lt;5&gt;[&nbsp; &nbsp; 0.630000] 0x000000182000-0x000000d50000 : &quot;rootfs&quot;<br />&lt;4&gt;[&nbsp; &nbsp; 0.640000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only<br />&lt;5&gt;[&nbsp; &nbsp; 0.650000] mtd: partition &quot;rootfs&quot; set to be root filesystem<br />&lt;5&gt;[&nbsp; &nbsp; 0.660000] 0x000000d50000-0x000001fe0000 : &quot;ddwrt&quot;<br />&lt;5&gt;[&nbsp; &nbsp; 0.660000] 0x000001fe0000-0x000001ff0000 : &quot;nvram&quot;<br />&lt;5&gt;[&nbsp; &nbsp; 0.670000] 0x000001ff0000-0x000002000000 : &quot;FIS directory&quot;<br />&lt;5&gt;[&nbsp; &nbsp; 0.680000] 0x000001ff0000-0x000002000000 : &quot;board_config&quot;<br />&lt;5&gt;[&nbsp; &nbsp; 0.680000] 0x000000000000-0x000002000000 : &quot;fullflash&quot;<br />&lt;5&gt;[&nbsp; &nbsp; 0.690000] 0x000000040000-0x000000050000 : &quot;uboot-env&quot;<br />&lt;6&gt;[&nbsp; &nbsp; 0.700000] tun: Universal TUN/TAP device driver, 1.6<br />&lt;6&gt;[&nbsp; &nbsp; 0.700000] tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;<br />&lt;7&gt;[&nbsp; &nbsp; 0.710000] ar71xx: pll_reg 0xb805002c: 0x62000000<br />&lt;6&gt;[&nbsp; &nbsp; 0.820000] ag71xx_mdio: probed<br />&lt;6&gt;[&nbsp; &nbsp; 1.020000] eth0: Atheros AG71xx at 0xb9000000, irq 4<br />&lt;6&gt;[&nbsp; &nbsp; 1.680000] eth0: AR8316 switch driver attached.<br />&lt;6&gt;[&nbsp; &nbsp; 1.690000] ar8316: Using port 4 as switch port<br />&lt;6&gt;[&nbsp; &nbsp; 2.170000] ag71xx ag71xx.0: eth0: connected to PHY at ag71xx-mdio.0:00 [uid=004dd041, driver=Atheros AR8216/AR8236/AR8316]<br />&lt;6&gt;[&nbsp; &nbsp; 2.180000] PPP generic driver version 2.4.2<br />&lt;6&gt;[&nbsp; &nbsp; 2.180000] PPP BSD Compression module registered<br />&lt;6&gt;[&nbsp; &nbsp; 2.190000] PPP Deflate Compression module registered<br />&lt;6&gt;[&nbsp; &nbsp; 2.190000] PPP MPPE Compression module registered<br />&lt;6&gt;[&nbsp; &nbsp; 2.200000] NET: Registered protocol family 24<br />&lt;6&gt;[&nbsp; &nbsp; 2.200000] Software Watchdog Timer: 0.07 initialized. soft_noboot=0 soft_margin=60 sec soft_panic=0 (nowayout= 0)<br />&lt;7&gt;[&nbsp; &nbsp; 2.210000] Registered led device: generic_0<br />&lt;7&gt;[&nbsp; &nbsp; 2.210000] Registered led device: generic_1<br />&lt;7&gt;[&nbsp; &nbsp; 2.210000] Registered led device: generic_2<br />&lt;7&gt;[&nbsp; &nbsp; 2.210000] Registered led device: generic_3<br />&lt;7&gt;[&nbsp; &nbsp; 2.210000] Registered led device: generic_4<br />&lt;7&gt;[&nbsp; &nbsp; 2.210000] Registered led device: generic_5<br />&lt;7&gt;[&nbsp; &nbsp; 2.210000] Registered led device: generic_6<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_7<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_8<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_9<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_10<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_11<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_12<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_13<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_14<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_15<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_16<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_17<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_18<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_19<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_20<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_21<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_22<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_23<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_24<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_25<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_26<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_27<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_28<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_29<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_30<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: generic_31<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: wireless_generic_0<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: wireless_generic_1<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: wireless_generic_2<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: wireless_generic_3<br />&lt;7&gt;[&nbsp; &nbsp; 2.220000] Registered led device: wireless_generic_4<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_5<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_6<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_7<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_8<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_9<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_10<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_11<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_12<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_13<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_14<br />&lt;7&gt;[&nbsp; &nbsp; 2.230000] Registered led device: wireless_generic_15<br />&lt;6&gt;[&nbsp; &nbsp; 2.230000] u32 classifier<br />&lt;6&gt;[&nbsp; &nbsp; 2.230000]&nbsp; &nbsp; &nbsp;input device check on<br />&lt;6&gt;[&nbsp; &nbsp; 2.240000]&nbsp; &nbsp; &nbsp;Actions configured<br />&lt;6&gt;[&nbsp; &nbsp; 2.240000] Netfilter messages via NETLINK v0.30.<br />&lt;6&gt;[&nbsp; &nbsp; 2.240000] nf_conntrack version 0.5.0 (957 buckets, 3828 max)<br />&lt;4&gt;[&nbsp; &nbsp; 2.250000] nf_conntrack_rtsp v0.6.21 loading<br />&lt;4&gt;[&nbsp; &nbsp; 2.250000] nf_nat_rtsp v0.6.21 loading<br />&lt;6&gt;[&nbsp; &nbsp; 2.260000] ip_tables: (C) 2000-2006 Netfilter Core Team<br />&lt;6&gt;[&nbsp; &nbsp; 2.260000] IPP2P v0.8.2 loading<br />&lt;6&gt;[&nbsp; &nbsp; 2.270000] TCP westwood registered<br />&lt;6&gt;[&nbsp; &nbsp; 2.270000] TCP hybla registered<br />&lt;6&gt;[&nbsp; &nbsp; 2.270000] TCP vegas registered<br />&lt;6&gt;[&nbsp; &nbsp; 2.280000] NET: Registered protocol family 17<br />&lt;5&gt;[&nbsp; &nbsp; 2.280000] Bridge firewalling registered<br />&lt;6&gt;[&nbsp; &nbsp; 2.290000] 8021q: 802.1Q VLAN Support v1.8<br />&lt;6&gt;[&nbsp; &nbsp; 2.290000] searching for nvram<br />&lt;6&gt;[&nbsp; &nbsp; 2.290000] nvram size = -2144485110<br />&lt;6&gt;[&nbsp; &nbsp; 2.370000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />&lt;6&gt;[&nbsp; &nbsp; 2.380000] Freeing unused kernel memory: 164k freed<br />&lt;6&gt;[&nbsp; &nbsp; 6.640000] Compat-wireless backport release: compat-wireless-2012-04-13-1-r31296<br />&lt;6&gt;[&nbsp; &nbsp; 6.650000] Backport based on wireless-testing.git master-2012-04-13<br />&lt;6&gt;[&nbsp; &nbsp; 6.820000] cfg80211: Calling CRDA to update world regulatory domain<br />&lt;6&gt;[&nbsp; &nbsp; 7.160000] cfg80211: World regulatory domain updated:<br />&lt;6&gt;[&nbsp; &nbsp; 7.160000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />&lt;6&gt;[&nbsp; &nbsp; 7.170000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp; 7.180000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp; 7.190000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp; 7.200000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp; 7.200000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;7&gt;[&nbsp; &nbsp; 7.430000] PCI: Setting latency timer of device 0000:00:00.0 to 64<br />&lt;7&gt;[&nbsp; &nbsp; 7.430000] ath: EEPROM regdomain: 0x0<br />&lt;7&gt;[&nbsp; &nbsp; 7.430000] ath: EEPROM indicates default country code should be used<br />&lt;7&gt;[&nbsp; &nbsp; 7.430000] ath: doing EEPROM country-&gt;regdmn map search<br />&lt;7&gt;[&nbsp; &nbsp; 7.430000] ath: country maps to regdmn code: 0x3a<br />&lt;7&gt;[&nbsp; &nbsp; 7.430000] ath: Country alpha2 being used: US<br />&lt;7&gt;[&nbsp; &nbsp; 7.430000] ath: Regpair used: 0x3a<br />&lt;7&gt;[&nbsp; &nbsp; 7.440000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;<br />&lt;7&gt;[&nbsp; &nbsp; 7.440000] Registered led device: ath9k-phy0<br />&lt;6&gt;[&nbsp; &nbsp; 7.440000] ieee80211 phy0: Atheros AR9280 Rev:2 mem=0xb0000000, irq=72<br />&lt;6&gt;[&nbsp; &nbsp; 7.450000] cfg80211: Calling CRDA for country: US<br />&lt;6&gt;[&nbsp; &nbsp; 7.560000] cfg80211: Regulatory domain changed to country: US<br />&lt;6&gt;[&nbsp; &nbsp; 7.560000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />&lt;6&gt;[&nbsp; &nbsp; 7.570000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)<br />&lt;6&gt;[&nbsp; &nbsp; 7.580000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)<br />&lt;6&gt;[&nbsp; &nbsp; 7.590000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp; 7.600000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp; 7.600000] cfg80211:&nbsp; &nbsp;(5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp; 7.610000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp; 8.240000] eth0: link up (1000Mbps/Full duplex)<br />&lt;6&gt;[&nbsp; &nbsp; 9.960000] device vlan1 entered promiscuous mode<br />&lt;6&gt;[&nbsp; &nbsp; 9.970000] device eth0 entered promiscuous mode<br />&lt;6&gt;[&nbsp; &nbsp; 9.990000] br0: port 1(vlan1) entering forwarding state<br />&lt;6&gt;[&nbsp; &nbsp; 9.990000] br0: port 1(vlan1) entering forwarding state<br />&lt;6&gt;[&nbsp; &nbsp;10.070000] cfg80211: Calling CRDA to update world regulatory domain<br />&lt;6&gt;[&nbsp; &nbsp;10.110000] cfg80211: World regulatory domain updated:<br />&lt;6&gt;[&nbsp; &nbsp;10.110000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />&lt;6&gt;[&nbsp; &nbsp;10.120000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;10.130000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;10.140000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;10.140000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;10.150000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;10.160000] cfg80211: Calling CRDA for country: US<br />&lt;6&gt;[&nbsp; &nbsp;10.180000] cfg80211: Regulatory domain changed to country: US<br />&lt;6&gt;[&nbsp; &nbsp;10.190000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />&lt;6&gt;[&nbsp; &nbsp;10.200000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;10.200000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;10.210000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;10.220000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;10.230000] cfg80211:&nbsp; &nbsp;(5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;10.230000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)<br />&lt;6&gt;[&nbsp; &nbsp;11.990000] br0: port 1(vlan1) entering forwarding state<br />&lt;6&gt;[&nbsp; &nbsp;17.640000] device ath0 entered promiscuous mode<br />&lt;6&gt;[&nbsp; &nbsp;17.960000] br0: port 2(ath0) entering forwarding state<br />&lt;6&gt;[&nbsp; &nbsp;17.960000] br0: port 2(ath0) entering forwarding state<br />&lt;6&gt;[&nbsp; &nbsp;19.320000] device vlan2 entered promiscuous mode<br />&lt;6&gt;[&nbsp; &nbsp;19.350000] device vlan2 left promiscuous mode<br />&lt;6&gt;[&nbsp; &nbsp;19.960000] br0: port 2(ath0) entering forwarding state<br />&lt;6&gt;[&nbsp; &nbsp;20.850000] etherip: Ethernet over IPv4 tunneling driver</p>											<p class="post-edited">(Last edited by <strong>keyboardgnome</strong> on 4 Dec 2013, 04:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219235">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">keyboardgnome</div>
					<div class="post-datetime">
						5 Dec 2013, 01:08					</div>
				</div>
				<div class="post-content content">
					<p>I got it to boot using the tftp in linux and the latest beta firmware. The red diagnostic LED will flash, but it&#039;s booted.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219236">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">erpadmin</div>
					<div class="post-datetime">
						5 Dec 2013, 01:20					</div>
				</div>
				<div class="post-content content">
					<p>by beta I assume that you mean Openwrt trunk? more specifically, <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-wzr-hp-g300nh2-squashfs-tftp.bin">http://downloads.openwrt.org/snapshots/ … s-tftp.bin</a> ?</p><p>These are the steps I do right after flashing trunk to make configuration easier, in case you might find this useful.&nbsp; I assume this is still applicable since my last upgrade some months ago:</p><p>## POST FIRMWARE UPGRADE FIXUPS<br />opkg update<br />opkg install luci<br />ln -s&nbsp; /etc/init.d/uhttpd /etc/rc.d/S50uhttpd<br />/etc/init.d/uhttpd start</p><p>in luci i think there&#039;s a section regading LED configuration (IIRC)</p>											<p class="post-edited">(Last edited by <strong>erpadmin</strong> on 5 Dec 2013, 02:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219453">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">erpadmin</div>
					<div class="post-datetime">
						8 Dec 2013, 18:46					</div>
				</div>
				<div class="post-content content">
					<p>@keyboardgnome Do you mind updating the thread on what you&#039;ve achieved so far?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219739">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">rmccask</div>
					<div class="post-datetime">
						11 Dec 2013, 21:18					</div>
				</div>
				<div class="post-content content">
					<p>I also picked up one of these WZR-300HP routers and got revision B0A1.&nbsp; I flashed the trunk build (revision 38999).&nbsp; I then applied your &quot;Post Firmware Upgrade Fixups&quot; and it all seems to be working for me.&nbsp; It still detects it as a WZR-HP-G300NH2 but I am not sure how you could tell the difference between them in software yet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219765">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">beckolamuffin</div>
					<div class="post-datetime">
						12 Dec 2013, 03:38					</div>
				</div>
				<div class="post-content content">
					<p>Yes, I want to put on the serial port to find out what is going on, and wrong, with the boot process.&nbsp; I am also hoping I can coax the boot loader into loading a different firmware image.&nbsp; I just got the parts I needed today from DigiKey.&nbsp; I hope to do the soldering sometime this weekend.&nbsp; I will report back.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221980">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">lorenzen</div>
					<div class="post-datetime">
						7 Jan 2014, 22:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I have a Buffalo wzr-300hp BO A1</p><p>I first tried openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-tftp.bin - but that was a mistake - it paniced</p><p>Then I tried to flash<br /><a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-wzr-hp-g300nh2-squashfs-tftp.bin">http://downloads.openwrt.org/snapshots/ … s-tftp.bin</a></p><p>and it seems to work, I get this result on the serial console:<br />=====<br />BUFFALO U-BOOT Ver 1.08<br />&nbsp; == CPU:400MHz, DDR:400MHz, AHB:200MHz ==<br />PB93 (ar7241 - Virian) U-boot<br />DRAM:&nbsp; 64 MB<br />WAN port disabling: done<br />Top of RAM usable for U-Boot at: 84000000<br />Reserving 266k for U-Boot at: 83fbc000<br />Reserving 192k for malloc() at: 83f8c000<br />Reserving 44 Bytes for Board Info at: 83f8bfd4<br />Reserving 36 Bytes for Global Data at: 83f8bfb0<br />Reserving 128k for boot params() at: 83f6bfb0<br />Stack Pointer at: 83f6bf98<br />Now running in RAM - U-Boot at: 83fbc000<br />flash bank #0 found 16 MB flash [MX25L128-45E, blk:0x10000, sectors:256]<br />flash bank #1 found 16 MB flash [MX25L128-45E, blk:0x10000, sectors:256]<br />Flash: 32 MB<br />In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Memory Test<br />uboot use&nbsp; 83F6BFB0 - 84000000<br />Memory Test start(80000000) end(83F00000) size(03F00000)<br />Pattern 00000000&nbsp; Writing...&nbsp; Reading...<br />Memory Test OK<br />### buf_ver=[1.08] U-Boot Ver.=[1.08]<br />### build_date(env)=[Sep 26 2011 - 00:19:46] build_date(bin)=[Sep 26 2011 - 00:19:46]<br />ag7240_enet_initialize...<br />Reading MAC Address from ENV(0x83f8c2ef)<br />No valid address in Flash. Using fixed address<br />Virian MDC CFG Value ==&gt; 4<br />: cfg1 0x7 cfg2 0x7014<br />eth0: 02:aa:bb:cc:dd:1a<br />eth0 up<br />Virian MDC CFG Value ==&gt; 4<br />: cfg1 0xf cfg2 0x7214<br />eth1: 00:03:7f:09:0b:ad<br />ATHRS26: resetting s26<br />ATHRS26: s26 reset done<br />eth1 up<br />eth0&nbsp; 02:AA:BB:CC:DD:1A<br />, eth1&nbsp; 00:03:7F:09:0B:AD</p><p>dup 1 speed 1000</p><p>tftp server(receive) go, waiting:4[sec]<br />Load address: 0x81f00000<br />$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$<br />tftp server done<br />Bytes transferred = 2883620 (2c0024 hex)</p><p>Airstation Public header<br />Recv fw image [2883588] bytes, now writing...</p><p>flash-addr 0xBF060000 - 0xBF32FFFF<br />search sector 0xbf060000 - 0xbf32ffff<br />BANK #1 (6 : 50)<br />&nbsp; 000&nbsp; PPPP.Poooooooooooooooooooooooooo<br />&nbsp; 032&nbsp; ooooooooooooooooooo.............<br />&nbsp; 064&nbsp; ................................<br />&nbsp; 096&nbsp; ................................<br />&nbsp; 128&nbsp; ................................<br />&nbsp; 160&nbsp; ................................<br />&nbsp; 192&nbsp; ................................<br />&nbsp; 224&nbsp; ................................<br />BANK #2 (-1 : -1)<br />&nbsp; 000&nbsp; ................................<br />&nbsp; 032&nbsp; ................................<br />&nbsp; 064&nbsp; ................................<br />&nbsp; 096&nbsp; ................................<br />&nbsp; 128&nbsp; ................................<br />&nbsp; 160&nbsp; ................................<br />&nbsp; 192&nbsp; ................................<br />&nbsp; 224&nbsp; ................................</p><p>First 0x6 last 0x32 sector size 0x10000<br />&nbsp; 50<br />Erased 45 sectors<br />Copy to Flash... <br /> Copy 2883588 byte to Flash...<br />write data: 81f00020 --&gt; bf060000&nbsp; (len:2c0004)<br />done<br />change bootargs<br />console=ttyS0,115200 root=31:03 rootfstype=jffs2 init=/sbin/init mtdparts=ar7240-nor0:256k(u-boot),64k(u-boot-env),1152k<br />@384k(uImage),6592k@1536k(rootfs),64k@320k(ART),64k@8128k(properties) mem=64M product_rev=1 UART=1<br />## Booting image at bf060000 ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;MIPS OpenWrt Linux-3.10.24<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2014-01-06&nbsp; 20:44:32 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 1067176 Bytes =&nbsp; 1 MB<br />&nbsp; &nbsp;Load Address: 80060000<br />&nbsp; &nbsp;Entry Point:&nbsp; 80060000<br />&nbsp; &nbsp;Verifying Checksum ... crc32_fw: bf060040 - bf1648e7 (len:001048a8) calc...<br />crc32_fw: range1 bf060040 - bf1648e7<br />OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK<br />No initrd<br />## Transferring control to Linux (at address 80060000) ...<br />## Giving linux memsize in bytes, 67108864</p><p>Starting kernel ...</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.10.24 (thepeople@trabant) (gcc version 4.6.4 (OpenWrt/Linaro GCC 4.6-2013.05 r39203) ) #1<br /> Mon Jan 6 21:40:09 CET 2014<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 00019374 (MIPS 24Kc)<br />[&nbsp; &nbsp; 0.000000] SoC: Atheros AR7242 rev 1<br />[&nbsp; &nbsp; 0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:5.000MHz<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 04000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;[mem 0x00000000-0x03ffffff]<br />[&nbsp; &nbsp; 0.000000] Movable zone start for each node<br />[&nbsp; &nbsp; 0.000000] Early memory node ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x00000000-0x03ffffff]<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 16256<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; board=WZR-HP-G300NH2 console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Writing ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Readback ErrCtl register=00000000<br />[&nbsp; &nbsp; 0.000000] Memory: 61132k/65536k available (2323k kernel code, 4404k reserved, 610k data, 264k init, 0k highmem)<br />[&nbsp; &nbsp; 0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:51<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)<br />[&nbsp; &nbsp; 0.080000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.080000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.090000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.100000] MIPS: machine is Buffalo WZR-HP-G300NH2<br />[&nbsp; &nbsp; 0.340000] registering PCI controller with io_map_base unset<br />[&nbsp; &nbsp; 0.350000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.360000] PCI host bridge to bus 0000:00<br />[&nbsp; &nbsp; 0.360000] pci_bus 0000:00: root bus resource [mem 0x10000000-0x13ffffff]<br />[&nbsp; &nbsp; 0.370000] pci_bus 0000:00: root bus resource [io&nbsp; 0x0000]<br />[&nbsp; &nbsp; 0.370000] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]<br />[&nbsp; &nbsp; 0.380000] pci 0000:00:00.0: fixup device configuration<br />[&nbsp; &nbsp; 0.380000] pci 0000:00:00.0: BAR 0: assigned [mem 0x10000000-0x1000ffff 64bit]<br />[&nbsp; &nbsp; 0.390000] pci 0000:00:00.0: using irq 40 for pin 1<br />[&nbsp; &nbsp; 0.390000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.400000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.400000] TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.410000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />[&nbsp; &nbsp; 0.420000] TCP: Hash tables configured (established 512 bind 512)<br />[&nbsp; &nbsp; 0.420000] TCP: reno registered<br />[&nbsp; &nbsp; 0.430000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.430000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.440000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.460000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.470000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />[&nbsp; &nbsp; 0.480000] msgmni has been set to 119<br />[&nbsp; &nbsp; 0.480000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.490000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.490000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled<br />[&nbsp; &nbsp; 0.530000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A<br />[&nbsp; &nbsp; 0.530000] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.530000] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.550000] ath79-spi ath79-spi: master is unqueued, this is deprecated<br />[&nbsp; &nbsp; 0.550000] m25p80 spi0.0: found mx25l12805d, expected m25p80<br />[&nbsp; &nbsp; 0.560000] m25p80 spi0.0: mx25l12805d (16384 Kbytes)<br />[&nbsp; &nbsp; 0.570000] m25p80 spi0.1: found mx25l12805d, expected m25p80<br />[&nbsp; &nbsp; 0.570000] m25p80 spi0.1: mx25l12805d (16384 Kbytes)<br />[&nbsp; &nbsp; 0.580000] Concatenating MTD devices:<br />[&nbsp; &nbsp; 0.590000] (0): &quot;spi0.0&quot;<br />[&nbsp; &nbsp; 0.590000] (1): &quot;spi0.1&quot;<br />[&nbsp; &nbsp; 0.590000] into device &quot;flash&quot;<br />[&nbsp; &nbsp; 0.600000] Creating 5 MTD partitions on &quot;flash&quot;:<br />[&nbsp; &nbsp; 0.600000] 0x000000000000-0x000000040000 : &quot;u-boot&quot;<br />[&nbsp; &nbsp; 0.610000] 0x000000040000-0x000000050000 : &quot;u-boot-env&quot;<br />[&nbsp; &nbsp; 0.620000] 0x000000050000-0x000000060000 : &quot;art&quot;<br />[&nbsp; &nbsp; 0.630000] 0x000000060000-0x000001ff0000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 0.650000] switch0: Atheros AR8316 rev. 1 switch registered on ag71xx-mdio.0<br />[&nbsp; &nbsp; 0.650000] libphy: ag71xx_mdio: probed<br />[&nbsp; &nbsp; 1.240000] 2 uimage-fw partitions found on MTD device firmware<br />[&nbsp; &nbsp; 1.240000] 0x000000060000-0x0000001648e8 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 1.250000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase bloc<br />k -- forcing read-only<br />[&nbsp; &nbsp; 1.260000] 0x0000001648e8-0x000001ff0000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 1.270000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase bloc<br />k -- forcing read-only<br />[&nbsp; &nbsp; 1.280000] mtd: device 7 (rootfs) set to be root filesystem<br />[&nbsp; &nbsp; 1.290000] 1 squashfs-split partitions found on MTD device rootfs<br />[&nbsp; &nbsp; 1.300000] 0x000000320000-0x000001ff0000 : &quot;rootfs_data&quot;<br />[&nbsp; &nbsp; 1.300000] 0x000001ff0000-0x000002000000 : &quot;user_property&quot;<br />[&nbsp; &nbsp; 1.310000] ar8316: Using port 4 as switch port<br />[&nbsp; &nbsp; 1.470000] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.0:00 [uid=004dd041, driver=Atheros AR8216/AR8236/AR8316]<br />[&nbsp; &nbsp; 1.480000] eth0: Atheros AG71xx at 0xb9000000, irq 4, mode:RGMII<br />[&nbsp; &nbsp; 1.490000] TCP: cubic registered<br />[&nbsp; &nbsp; 1.490000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 1.490000] Bridge firewalling registered<br />[&nbsp; &nbsp; 1.500000] can: controller area network core (rev 20120528 abi 9)<br />[&nbsp; &nbsp; 1.510000] NET: Registered protocol family 29<br />[&nbsp; &nbsp; 1.510000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 1.520000] VFS: Mounted root (squashfs filesystem) readonly on device 31:7.<br />[&nbsp; &nbsp; 1.530000] Freeing unused kernel memory: 264K (8033e000 - 80380000)<br />procd: Console is alive<br />procd: - watchdog -<br />procd: - preinit -<br />Press the [f] key and hit [enter] to enter failsafe mode<br />Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level<br />[&nbsp; &nbsp; 4.940000] usbcore: registered new interface driver usbfs<br />[&nbsp; &nbsp; 4.940000] usbcore: registered new interface driver hub<br />[&nbsp; &nbsp; 4.950000] usbcore: registered new device driver usb<br />[&nbsp; &nbsp; 4.960000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br />[&nbsp; &nbsp; 4.970000] ehci-platform: EHCI generic platform driver<br />[&nbsp; &nbsp; 4.970000] ehci-platform ehci-platform: EHCI Host Controller<br />[&nbsp; &nbsp; 4.980000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1<br />[&nbsp; &nbsp; 4.990000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000<br />[&nbsp; &nbsp; 5.010000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00<br />[&nbsp; &nbsp; 5.010000] hub 1-0:1.0: USB hub found<br />[&nbsp; &nbsp; 5.020000] hub 1-0:1.0: 1 port detected<br />[&nbsp; &nbsp; 5.030000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />[&nbsp; &nbsp; 5.510000] eth0: link up (1000Mbps/Full duplex)<br />mount_root: jffs2 is not ready - EOF marker found<br />[&nbsp; &nbsp; 7.190000] eth0: link down<br />procd: - early -<br />procd: - watchdog -<br />procd: - ubus -<br />procd: - init -<br />Please press Enter to activate this console.<br />[&nbsp; &nbsp; 8.130000] NET: Registered protocol family 10<br />[&nbsp; &nbsp; 8.150000] nf_conntrack version 0.5.0 (959 buckets, 3836 max)<br />[&nbsp; &nbsp; 8.160000] ip6_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp; 8.190000] Loading modules backported from Linux version master-2013-11-05-0-gafa3093<br />[&nbsp; &nbsp; 8.200000] Backport generated by backports.git backports-20130802-0-gdb67a3f<br />[&nbsp; &nbsp; 8.210000] ip_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp; 8.260000] xt_time: kernel timezone is -0000<br />[&nbsp; &nbsp; 8.330000] cfg80211: Calling CRDA to update world regulatory domain<br />[&nbsp; &nbsp; 8.330000] cfg80211: World regulatory domain updated:<br />[&nbsp; &nbsp; 8.340000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />[&nbsp; &nbsp; 8.350000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp; 8.350000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp; 8.360000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp; 8.370000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp; 8.380000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp; 8.390000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm)<br />[&nbsp; &nbsp; 8.420000] PPP generic driver version 2.4.2<br />[&nbsp; &nbsp; 8.420000] NET: Registered protocol family 24<br />[&nbsp; &nbsp; 8.510000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)<br />[&nbsp; &nbsp; 8.540000] ieee80211 phy0: Atheros AR9280 Rev:2 mem=0xb0000000, irq=40<br />[&nbsp; &nbsp; 8.550000] cfg80211: Calling CRDA for country: US<br />[&nbsp; &nbsp; 8.570000] cfg80211: Regulatory domain changed to country: US<br />[&nbsp; &nbsp; 8.580000] cfg80211:&nbsp; DFS Master region FCC<br />[&nbsp; &nbsp; 8.580000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />[&nbsp; &nbsp; 8.590000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)<br />[&nbsp; &nbsp; 8.600000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 80000 KHz), (300 mBi, 1700 mBm)<br />[&nbsp; &nbsp; 8.610000] cfg80211:&nbsp; &nbsp;(5250000 KHz - 5330000 KHz @ 80000 KHz), (300 mBi, 2400 mBm)<br />[&nbsp; &nbsp; 8.610000] cfg80211:&nbsp; &nbsp;(5490000 KHz - 5600000 KHz @ 80000 KHz), (300 mBi, 2400 mBm)<br />[&nbsp; &nbsp; 8.620000] cfg80211:&nbsp; &nbsp;(5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2400 mBm)<br />[&nbsp; &nbsp; 8.630000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 80000 KHz), (300 mBi, 3000 mBm)<br />[&nbsp; &nbsp; 8.640000] cfg80211:&nbsp; &nbsp;(57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm)<br />[&nbsp; &nbsp;14.880000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0<br />[&nbsp; &nbsp;14.910000] jffs2_build_filesystem(): unlocking the mtd device... done.<br />[&nbsp; &nbsp;14.910000] jffs2_build_filesystem(): erasing all blocks after the end marker... [&nbsp; &nbsp;18.020000] IPv6: ADDRCONF(NETDEV<br />_UP): eth0: link is not ready<br />[&nbsp; &nbsp;18.040000] IPv6: ADDRCONF(NETDEV_UP): eth0.1: link is not ready<br />[&nbsp; &nbsp;18.040000] device eth0.1 entered promiscuous mode<br />[&nbsp; &nbsp;18.050000] device eth0 entered promiscuous mode<br />[&nbsp; &nbsp;18.090000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready<br />[&nbsp; &nbsp;18.140000] IPv6: ADDRCONF(NETDEV_UP): eth0.2: link is not ready<br />[&nbsp; &nbsp;19.590000] eth0: link up (1000Mbps/Full duplex)<br />[&nbsp; &nbsp;19.630000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready<br />[&nbsp; &nbsp;19.630000] br-lan: port 1(eth0.1) entered forwarding state<br />[&nbsp; &nbsp;19.640000] br-lan: port 1(eth0.1) entered forwarding state<br />[&nbsp; &nbsp;19.640000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0.1: link becomes ready<br />[&nbsp; &nbsp;19.650000] IPv6: ADDRCONF(NETDEV_CHANGE): eth0.2: link becomes ready<br />[&nbsp; &nbsp;19.700000] IPv6: ADDRCONF(NETDEV_CHANGE): br-lan: link becomes ready</p><p>[&nbsp; &nbsp;21.640000] br-lan: port 1(eth0.1) entered forwarding state</p><br /><br /><p>BusyBox v1.19.4 (2014-01-06 21:28:37 CET) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> -----------------------------------------------------<br /> BARRIER BREAKER (Bleeding Edge, r39203)<br /> -----------------------------------------------------<br />&nbsp; * 1/2 oz Galliano&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pour all ingredients into<br />&nbsp; * 4 oz cold Coffee&nbsp; &nbsp; &nbsp; &nbsp; an irish coffee mug filled<br />&nbsp; * 1 1/2 oz Dark Rum&nbsp; &nbsp; &nbsp; &nbsp;with crushed ice. Stir.<br />&nbsp; * 2 tsp. Creme de Cacao<br /> -----------------------------------------------------<br />root@OpenWrt:/#</p>											<p class="post-edited">(Last edited by <strong>lorenzen</strong> on 7 Jan 2014, 23:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222114">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">beckolamuffin</div>
					<div class="post-datetime">
						8 Jan 2014, 23:03					</div>
				</div>
				<div class="post-content content">
					<p>Cool! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Thanks for posting!&nbsp; How did you flash it?&nbsp; Using TFTP?&nbsp; If so, what operating procedure?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222180">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">lorenzen</div>
					<div class="post-datetime">
						9 Jan 2014, 16:53					</div>
				</div>
				<div class="post-content content">
					<p>I flashed it from dd-wrt</p><p>cd /tmp<br />wget <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-wzr-hp-g300nh2-squashfs-tftp.bin">http://downloads.openwrt.org/snapshots/ … s-tftp.bin</a><br />mtd -r write openwrt-ar71xx-generic-wzr-hp-g300nh2-squashfs-tftp.bin linux</p><p>/Peter</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222489">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">erpadmin</div>
					<div class="post-datetime">
						12 Jan 2014, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>Was curious about different model references in the code.&nbsp; I haven&#039;t custom rolled openwrt before.</p><div class="codebox"><pre><code>for file in `find . -type f`; do if [ $(grep -c WZR-HP-G300NH2 $file) -gt 0 ]; then echo $file; grep -c WZR-HP-G300NH2 $file; fi; done

./target/linux/ar71xx/base-files/lib/ar71xx.sh
1
./target/linux/ar71xx/files/arch/mips/ath79/mach-wzr-hp-g300nh2.c
3
./target/linux/ar71xx/generic/profiles/buffalo.mk
2
./target/linux/ar71xx/image/Makefile
1
./target/linux/ar71xx/patches-3.10/610-MIPS-ath79-openwrt-machines.patch
2



$ for file in `find . -type f`; do if [ $(grep -c WZR-HP-G300NH2 $file) -gt 0 ] ; then echo $file; grep WZR-HP-G300NH2 $file; fi; done

./target/linux/ar71xx/base-files/lib/ar71xx.sh
        *WZR-HP-G300NH2)
./target/linux/ar71xx/files/arch/mips/ath79/mach-wzr-hp-g300nh2.c
 *  Buffalo WZR-HP-G300NH2 board support
MIPS_MACHINE(ATH79_MACH_WZR_HP_G300NH2, &quot;WZR-HP-G300NH2&quot;,
             &quot;Buffalo WZR-HP-G300NH2&quot;, wzrhpg300nh2_setup);
./target/linux/ar71xx/generic/profiles/buffalo.mk
        NAME:=Buffalo WZR-HP-G300NH2
        Package set optimized for the Buffalo WZR-HP-G300NH2
./target/linux/ar71xx/image/Makefile
$(eval $(call SingleProfile,WZRHP64K,64kraw,WZRHPG300NH2,wzr-hp-g300nh2,WZR-HP-G
300NH2,ttyS0,115200,WZR-HP-G300NH2))
./target/linux/ar71xx/patches-3.10/610-MIPS-ath79-openwrt-machines.patch
+       ATH79_MACH_WZR_HP_G300NH2,      /* Buffalo WZR-HP-G300NH2 */
+       bool &quot;Buffalo WZR-HP-G300NH2 board support&quot;</code></pre></div><br /><p>Lorenzen do you mind posting your `cat /proc/cpuinfo` while booted on openwrt?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222619">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">lorenzen</div>
					<div class="post-datetime">
						13 Jan 2014, 22:49					</div>
				</div>
				<div class="post-content content">
					<p>Here is openwrt_release, cpuinfo and u-boot-env</p><p>/Peter<br /></p><div class="quotebox"><blockquote><p>root@gbgw1:/# cat /etc/openwrt_release</p><p>DISTRIB_ID=&quot;OpenWrt&quot;<br />DISTRIB_RELEASE=&quot;Bleeding Edge&quot;<br />DISTRIB_REVISION=&quot;r39203&quot;<br />DISTRIB_CODENAME=&quot;barrier_breaker&quot;<br />DISTRIB_TARGET=&quot;ar71xx/generic&quot;<br />DISTRIB_DESCRIPTION=&quot;OpenWrt Barrier Breaker r39203&quot;</p><p>root@gbgw1:/# cat /proc/cpuinfo</p><p>system type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: Atheros AR7242 rev 1<br />machine&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: Buffalo WZR-HP-G300NH2<br />processor&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 0<br />cpu model&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: MIPS 24Kc V7.4<br />BogoMIPS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 265.42<br />wait instruction&nbsp; &nbsp; &nbsp; &nbsp; : yes<br />microsecond timers&nbsp; &nbsp; &nbsp; : yes<br />tlb_entries&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 16<br />extra interrupt vector&nbsp; : yes<br />hardware watchpoint&nbsp; &nbsp; &nbsp;: yes, count: 4, address/irw mask: [0x0000, 0x0930, 0x0e<br />78, 0x0db8]<br />isa&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: mips1 mips2 mips32r1 mips32r2<br />ASEs implemented&nbsp; &nbsp; &nbsp; &nbsp; : mips16<br />shadow register sets&nbsp; &nbsp; : 1<br />kscratch registers&nbsp; &nbsp; &nbsp; : 0<br />core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 0<br />VCED exceptions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: not available<br />VCEI exceptions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: not available</p><p>root@gbgw1:/# fw_printenv</p><p>bootargs=console=ttyS0,115200 root=31:03 rootfstype=jffs2 init=/sbin/init mtdparts=ar7240-nor0:256k(u-boot),64k(u-boot-env),1152k@384k(uImage),6592k@1536k(rootfs),64k@320k(ART),64k@8128k(properties)<br />bootcmd=bootm BF060000<br />baudrate=115200<br />ethaddr=02:AA:BB:CC:DD:1A<br />ipaddr=192.168.11.1<br />serverip=192.168.11.2<br />tmp_ram=81F00000<br />tmp_bottom=83F00000<br />fw_eaddr=BF060000 BEFFFFFF<br />uboot_eaddr=BF000000 BF03FFFF<br />u_fw=erase $fw_eaddr; cp.fw $fileaddr BF060000 $filesize; bootm BF060000;<br />ut_fw=tftp $tmp_ram firmware.bin; erase $fw_eaddr; cp.fw $fileaddr BF060000 $filesize; bootm BF060000;<br />ut_uboot=tftp $tmp_ram u-boot.bin; protect off $uboot_eaddr; erase $uboot_eaddr; cp.b $fileaddr BF000000 $filesize;<br />melco_id=RD_BB10085<br />tftp_wait=4<br />uboot_ethaddr=02:AA:BB:CC:DD:1A<br />DEF-p_wireless_ath0_11bg-authmode=psk<br />DEF-p_wireless_ath0_11bg-crypto=tkip+aes<br />DEF-p_wireless_ath0_11bg-authmode_ex=mixed-psk<br />buf_ver=1.08<br />hw_rev=4<br />custom_id=0<br />pincode=70714807<br />DEF-p_wireless_ath0_11bg-wpapsk=87033717<br />region=US<br />accept_open_rt_fmt=1<br />product_rev=1<br />build_date=Sep 26 2011 - 00:19:46<br />buf_crc=618051D5</p><p>root@gbgw1:/#</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>lorenzen</strong> on 13 Jan 2014, 23:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223753">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">beckolamuffin</div>
					<div class="post-datetime">
						25 Jan 2014, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>At long last, I was able to put on a serial header to my WZR-300HP, revision B0A1, that I thought I bricked. I had loaded Attitude Adjustment 12.09 via the MTD flash method, and it quit working.&nbsp; Here is the serial console output:</p><br /><div class="codebox"><pre><code>BUFFALO U-BOOT Ver 1.00
  == CPU:400MHz, DDR:400MHz, AHB:200MHz ==
PB93 (ar7241 - Virian) U-boot
DRAM:  64 MB
WAN port disabling: done
Top of RAM usable for U-Boot at: 84000000
Reserving 267k for U-Boot at: 83fbc000
Reserving 192k for malloc() at: 83f8c000
Reserving 44 Bytes for Board Info at: 83f8bfd4
Reserving 36 Bytes for Global Data at: 83f8bfb0
Reserving 128k for boot params() at: 83f6bfb0
Stack Pointer at: 83f6bf98
Now running in RAM - U-Boot at: 83fbc000
flash bank #0 found 16 MB flash [MX25L128-45E, blk:0x10000, sectors:256]
flash bank #1 found 16 MB flash [MX25L128-45E, blk:0x10000, sectors:256]
Flash: 32 MB
In:    serial
Out:   serial
Err:   serial
Memory Test
uboot use  83F6BFB0 - 84000000
Memory Test start(80000000) end(83F00000) size(03F00000)
Pattern 55555555  Writing...            Reading...Pattern AAAAAAAA  Writing...            Reading...Pattern 00000000  Writing...            Reading...
Memory Test OK
### buf_ver=[1.00] U-Boot Ver.=[1.00]
### build_date(env)=[May 21 2012 - 06:39:59] build_date(bin)=[May 21 2012 - 06:39:59]
ag7240_enet_initialize...
Reading MAC Address from ENV(0x83f8c2f8)
No valid address in Flash. Using fixed address
Virian MDC CFG Value ==&gt; 4
: cfg1 0x7 cfg2 0x7014
eth0: 02:aa:bb:cc:dd:1a
eth0 up
Virian MDC CFG Value ==&gt; 4
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
ATHRS26: resetting s26
ATHRS26: s26 reset done
eth1 up
eth0  02:AA:BB:CC:DD:1A
, eth1  00:03:7F:09:0B:AD

eth0 link down

tftp server(receive) go, waiting:4[sec]
eth0 link down
Load address: 0x81f00000

TftpServer Timeout;
no file was loaded.
change bootargs
console=ttyS0,115200 root=31:03 rootfstype=jffs2 init=/sbin/init mtdparts=ar7240-nor0:256k(u-boot),64k(u-boot-env),1152k@384k(uImage),6592k@1536k(rootfs),64k@320k(ART),64k@8128k(properties) mem=64M product_rev=1 UART=1
## Booting image at bf060000 ...
Bad Magic Number
 # LED(0x10000) Blink[2] (Please press &#039;Ctrl+c&#039; to stop)

Bad Header Checksum
 # LED(0x10000) Blink[2] (Please press &#039;Ctrl+c&#039; to stop)

   Image Name:   &#039;VqCÒPDï
   Created:      2031-11-21  22:34:22 UTC
   Image Type:   Invalid CPU Invalid OS Invalid Image (uncompressed)
   Data Size:    542143842 Bytes = 517 MB
   Load Address: 6c696320
   Entry Point:  466d7431
   Verifying Checksum ... crc32_fw: bf060040 - df5675a1 (len:20507562) calc...
crc32_fw: range1 bf060040 - bf04ffff, range2 bf060000 - df5775a1</code></pre></div>											<p class="post-edited">(Last edited by <strong>beckolamuffin</strong> on 26 Jan 2014, 04:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223770">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">beckolamuffin</div>
					<div class="post-datetime">
						26 Jan 2014, 03:04					</div>
				</div>
				<div class="post-content content">
					<p>I was able to flash openwrt-ar71xx-generic-wzr-hp-g300nh2-squashfs-tftp.bin from Barrier Breaker&#039;s snapshot directory (25 January 2014 {OpenWrt Barrier Breaker r39382 / LuCI Trunk (svn-r9951) }).&nbsp; The flash was accomplished using TFTP.&nbsp; Note that I used the LAN port furthest away from the WAN port to accomplish this. </p><p>I used the following settings on my Linux desktop (the TFTP server).</p><p>ifconfig em1: 192.168.11.2<br />arp -s 192.168.11.1 02:aa:bb:cc:dd:1a<br />tftp -m binary 192.168.11.1 -c put openwrt-ar71xx-generic-wzr-hp-g300nh2-squashfs-tftp.bin</p><p>Note that when setting up the serial terminal, I did the following:<br />*Soldered on a 4 pin header;<br />*Attached a cell phone data cable, in this case an old Radio Shack &quot;Mobile Phone Data Cable, Cable 22&quot; (part number 170-0762){might not be available any more};<br />*Connected pin 1 (VCC +3.3v) {left hand side pin, where all ethernet and USB ports are on the left} to nothing;<br />*Connected pin 2 (GND) to green;<br />*Connected pin 3 (TX) to white; <br />*Connected pin 4 (RX) to orange;</p><p>I did not have to short any resistors.</p>											<p class="post-edited">(Last edited by <strong>beckolamuffin</strong> on 26 Jan 2014, 03:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p258385">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">beckolamuffin</div>
					<div class="post-datetime">
						22 Dec 2014, 03:05					</div>
				</div>
				<div class="post-content content">
					<p>I was able to install the stable version of barrier breaker on this rig.</p><p>Note that I had best success using minicom on the serial port with hardware and software flow control both set to &#039;yes&#039;.</p><p>Also, the Linux laptop is the tftp client. I misspoke in the previous post.</p>											<p class="post-edited">(Last edited by <strong>beckolamuffin</strong> on 22 Dec 2014, 03:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261353">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">erpadmin</div>
					<div class="post-datetime">
						14 Jan 2015, 03:18					</div>
				</div>
				<div class="post-content content">
					<p>trunk (chaos calmer) is listed as supporting this model which i interpret as initial support given hardware variances are not known and also implies using the wzr-hp-g300nh2 image.&nbsp; i installed trunk on the older wzr-hp-g300nh (no 2) variant tonight and it is running well so far.</p><p>at some point i may try the mtd flash method if things seems safe.&nbsp; i really don&#039;t want to do the serial port mod.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>