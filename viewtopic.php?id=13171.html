<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> no space left</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p58111">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">skellam</div>
					<div class="post-datetime">
						27 Oct 2007, 16:54					</div>
				</div>
				<div class="post-content content">
					<p>I looked around but couldn&#039;t find an answer to this on the forums.&nbsp; Sorry if this is obvious.&nbsp; I recently upgraded to Kamikaze from White Russian.&nbsp; Every time I tried to make configuration changes after the upgrade I got the error - no space left on device.&nbsp; The only packages I installed were the ones to get my USB memory stick working.&nbsp; &nbsp; I am using an ASUS 500g router and had no problems with this on the white russian install.</p><br /><p>here is the output from df:</p><p>Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1k-blocks&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7152&nbsp; &nbsp; &nbsp; &nbsp; 52&nbsp; &nbsp; &nbsp; 7100&nbsp; &nbsp;1% /tmp<br />/dev/mtdblock/4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1920&nbsp; &nbsp; &nbsp; 1872&nbsp; &nbsp; &nbsp; &nbsp; 48&nbsp; 98% /jffs<br />/jffs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1344&nbsp; &nbsp; &nbsp; 1344&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /<br />/dev/scsi/host0/bus0/target0/lun0/part1&nbsp; &nbsp; 501280&nbsp; &nbsp; &nbsp;73168&nbsp; &nbsp; 428112&nbsp; 15% /mnt/usb</p><p>There appears to be a lot of space mounted to the tmp directory.&nbsp; Appreciate any help with this that anyone can offer.</p><p>Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58192">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">kajje</div>
					<div class="post-datetime">
						29 Oct 2007, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>Something which comes in my mind<br />Maybe it helps<br /><a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Asus/WL500GP#head-be3ab4773ff7a173ed005d6726a77c872ff37a8f">http://wiki.openwrt.org/OpenWrtDocs/Har … 872ff37a8f</a></p><p>Haven&#039;t tried it though, my wl500gp came with all ram enabled by default</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58203">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">basmevissen</div>
					<div class="post-datetime">
						29 Oct 2007, 19:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>skellam wrote:</cite><blockquote><p>here is the output from df:</p><p>Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1k-blocks&nbsp; &nbsp; &nbsp; Used&nbsp; &nbsp; &nbsp; Available&nbsp; &nbsp; &nbsp;Use%&nbsp; &nbsp; &nbsp; Mounted on<br />none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7152&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;52&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7100&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1%&nbsp; &nbsp; &nbsp; /tmp<br />/dev/mtdblock/4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1920&nbsp; &nbsp; &nbsp; &nbsp; 1872&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;48&nbsp; &nbsp; &nbsp; &nbsp; 98%&nbsp; &nbsp; &nbsp;/jffs<br /><strong>/jffs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1344&nbsp; &nbsp; &nbsp; &nbsp; 1344&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 100%&nbsp; &nbsp; &nbsp;/&nbsp; &nbsp;</strong><br />/dev/scsi/host0/bus0/target0/lun0/part1&nbsp; &nbsp; 501280&nbsp; &nbsp; &nbsp;73168&nbsp; &nbsp; 428112&nbsp; 15% /mnt/usb</p><p>There appears to be a lot of space mounted to the tmp directory.&nbsp; Appreciate any help with this that anyone can offer.<br />Thank you.</p></blockquote></div><p>Your flash memory (containing a jffs2 filesystem) is full. The only storage space left on the device is in the RAM. A sort of ramdisk (actually a tmpfs) is mounted to /tmp. So that is the free space you are seeing. But you cannot install applications there because they get lost after powering off the Asus.</p><p>The only thing you can do, is to uninstall applications from the Asus that you don&#039;t need to free up some flash space.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58253">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">skellam</div>
					<div class="post-datetime">
						30 Oct 2007, 15:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>basmevissen wrote:</cite><blockquote><div class="quotebox"><cite>skellam wrote:</cite><blockquote><p>here is the output from df:</p><p>Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1k-blocks&nbsp; &nbsp; &nbsp; Used&nbsp; &nbsp; &nbsp; Available&nbsp; &nbsp; &nbsp;Use%&nbsp; &nbsp; &nbsp; Mounted on<br />none&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7152&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;52&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7100&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1%&nbsp; &nbsp; &nbsp; /tmp<br />/dev/mtdblock/4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1920&nbsp; &nbsp; &nbsp; &nbsp; 1872&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;48&nbsp; &nbsp; &nbsp; &nbsp; 98%&nbsp; &nbsp; &nbsp;/jffs<br /><strong>/jffs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1344&nbsp; &nbsp; &nbsp; &nbsp; 1344&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 100%&nbsp; &nbsp; &nbsp;/&nbsp; &nbsp;</strong><br />/dev/scsi/host0/bus0/target0/lun0/part1&nbsp; &nbsp; 501280&nbsp; &nbsp; &nbsp;73168&nbsp; &nbsp; 428112&nbsp; 15% /mnt/usb</p><p>There appears to be a lot of space mounted to the tmp directory.&nbsp; Appreciate any help with this that anyone can offer.<br />Thank you.</p></blockquote></div><p>Your flash memory (containing a jffs2 filesystem) is full. The only storage space left on the device is in the RAM. A sort of ramdisk (actually a tmpfs) is mounted to /tmp. So that is the free space you are seeing. But you cannot install applications there because they get lost after powering off the Asus.</p><p>The only thing you can do, is to uninstall applications from the Asus that you don&#039;t need to free up some flash space.</p></blockquote></div><p>I did a clean install when I switched to Kamikaze and the only apps I installed were the packages required to use the USB key.&nbsp; I did this previously on White Russian with the same router and had plenty of space.&nbsp; Do you have any ideas why this would change in Kamikaze?&nbsp; &nbsp;I don&#039;t really need to be able to install more apps but I just want to be able to change my firewall settings in /etc/firewall.user.&nbsp; It won&#039;t let me do that because no space is available on th /jffs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61051">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">lvleph</div>
					<div class="post-datetime">
						30 Dec 2007, 23:56					</div>
				</div>
				<div class="post-content content">
					<p>I am having this exact same problem. I have uninstalled all unnecessary packages, but it still says the space is full. And because it is full the system is very unstable. I am constantly dropping my wireless and it is very annoying. XWRT ends up not responding either. Here are the packages I have installed. If someone could inform how to find out what is taking up so much space that would be great.</p><div class="codebox"><pre><code>base-files-brcm-2.4    10-9600    
bridge    1.0.6-1    
busybox    1.4.2-2    
dnsmasq    2.39-1    
dropbear    0.50-2    
fdisk    2.12r-2    
haserl    0.8.0-2    
ink    0.4.1-1    
iptables    1.3.7-1    
iptables-mod-extra    1.3.7-1    
kernel    2.4.34-brcm-1    
kmod-brcm-wl    2.4.34+4.80.53.0-1    
kmod-diag    2+2.4.34-brcm-1    
kmod-fs-vfat    2.4.34-brcm-1    
kmod-ipt-extra    2.4.34-brcm-1    
kmod-ipt-nathelper    2.4.34-brcm-1    
kmod-ppp    2.4.34-brcm-1    
kmod-pppoe    2.4.34-brcm-1    
kmod-scsi-core    2.4.34-brcm-1    
kmod-switch    2.4.34-brcm-1    
kmod-usb-core    2.4.34-brcm-1    
kmod-usb-printer    2.4.34-brcm-1    
kmod-usb-storage    2.4.34-brcm-1    
kmod-usb-uhci    2.4.34-brcm-1    
kmod-usb2    2.4.34-brcm-1    
kmod-wlcompat    2.4.34+brcm-6    
libgcc    3.4.6-10    
libmatrixssl    1.2.4-1    
libpopt    1.7-4    
libpthread    0.9.28-10    
matrixtunnel    0.2-1    
miniupnpd    1.0-RC6-2    
mtd    5    
nas    4.80.53.0-1    
nvram    1    
p910nd    0.7-3    
ppp    2.4.3-8    
ppp-mod-pppoe    2.4.3-8    
rsync    2.6.5-1    
samba-client    2.0.10-4    
samba-common    2.0.10-4    
samba-server    2.0.10-4    
uclibc    0.9.28-10    
vsftpd    2.0.5-2    
webif    0.3-8    
wireless-tools    29-1    
wlc    4.80.53.0-1</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61061">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">eleon216</div>
					<div class="post-datetime">
						31 Dec 2007, 13:41					</div>
				</div>
				<div class="post-content content">
					<p>hi, </p><p>it looks like you have only 4MB flash and so your jffs-filesystem has only 1,3MB. if your Router should have 8MB flash you have to figure out whatÂ´s your problem, but if you donÂ´t have a WL-500G Premium, you have just 4MB and I doubt that you had plenty of space in whiterussian, I guess you had luck to have just enough space. <br />But you can install the packages on your usbstick if it is permanently connected.<br />you have two options, you can put your root-filesystem on the usbstick, or you just install new packages on it.<br />check out <a href="http://wiki.openwrt.org/UsbStorageHowto">http://wiki.openwrt.org/UsbStorageHowto</a> for more info.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61076">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jbreeden</div>
					<div class="post-datetime">
						31 Dec 2007, 21:21					</div>
				</div>
				<div class="post-content content">
					<p>&gt;&gt;The only thing you can do, is to uninstall applications from the Asus that you don&#039;t need to free up some flash space.</p><br /><p>In the past, a &quot;feature&quot; of jffs2 was once it&#039;s full, at 100% you&#039;re screwed and can&#039;t do anything including uninstall packages. You need to reflash.</p><p>Has this changed recently?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62151">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hacim</div>
					<div class="post-datetime">
						23 Jan 2008, 21:25					</div>
				</div>
				<div class="post-content content">
					<p>That seems to be the case still. I&#039;m at 7.09 and I reached 100% and I can&#039;t remove files, I can&#039;t uninstall packages. I get Segmentation faults if I try and remove files by hand it gives an error and then when I try to interface with those inodes things hang until I reboot the router.</p><p>It seems the only hope is reflashing or cleaning the jffs partition through a mtd -r erase rootfs_data (which of course destroys any local changes made since original flash).</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>