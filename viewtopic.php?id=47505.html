<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Need help. Cant flash router Phicomm RT5350 with stock firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p218351">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sogoku_vn</div>
					<div class="post-datetime">
						24 Nov 2013, 18:25					</div>
				</div>
				<div class="post-content content">
					<p>My router bricked after electric power down:(&nbsp; <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> when I flashed it. So I made serial console it and flash it again by stock firmware. But not succeeded <br />My config<br />PC IP 192.168.0.2 / Router IP 192.168.0.1</p><p>Router got firmware.bin but nothing happened. I put it by CMD console </p><div class="codebox"><pre><code>tftp -i 192.168.0.1 put firmware.bin</code></pre></div><p>And firmware <a href="http://cn.phicomm.com/attachments/product/118/SOFTWARE/SW_FWR-614N_703001809_V1.0.6.bin">http://cn.phicomm.com/attachments/produ … V1.0.6.bin</a></p><p>And&nbsp; log<br /></p><div class="quotebox"><blockquote><p>U-Boot 1.1.3 (Mar 15 2012 - 11:03:21)</p><p>Board: Ralink APSoC DRAM:&nbsp; 16 MB<br />rt2880 uboot v0.00e04 05/25/2006<br />SERIAL_CLOCK_DIVISOR =16<br />kaiker,,CONFIG_BAUDRATE =57600<br />SDRAM SIZE:01000000<br />Top of RAM usable for U-Boot at: 81000000<br />Reserving 298k for U-Boot at: 80fb4000<br />Reserving 260k for malloc() at: 80f73000<br />Reserving 44 Bytes for Board Info at: 80f72fd4<br />Reserving 36 Bytes for Global Data at: 80f72fb0<br />Reserving 128k for boot params() at: 80f52fb0<br />Stack Pointer at: 80f52f98<br />relocate_code Pointer at: 80fb4000<br />******************************</p><p> Default 102c = 00031E46<br />******************************<br />******************************</p><p> Set 102c = 40031E46&nbsp; &nbsp;to Set LED OFF<br />******************************<br />******************************<br />Software System Reset Occurred<br />******************************<br />Now running in RAM - U-Boot at: 80fb4000</p><p> monitor_flash_len =106784<br />Command &quot;rf&quot;: 0x80202268 =&gt; 0x80fb6268<br />Command &quot;mdio&quot;: 0x80206988 =&gt; 0x80fba988<br />Command &quot;erase&quot;: 0x802082f0 =&gt; 0x80fbc2f0<br />Command &quot;cp&quot;: 0x802081c4 =&gt; 0x80fbc1c4<br />Command &quot;reset&quot;: 0x80214670 =&gt; 0x80fc8670<br />Command &quot;go&quot;: 0x802092e0 =&gt; 0x80fbd2e0<br />Command &quot;bootm&quot;: 0x80209abc =&gt; 0x80fbdabc<br />Command &quot;loadb&quot;: 0x8020a914 =&gt; 0x80fbe914<br />Command &quot;tftpboot&quot;: 0x8020af60 =&gt; 0x80fbef60<br />Command &quot;saveenv&quot;: 0x8020bfe8 =&gt; 0x80fbffe8<br />Command &quot;setenv&quot;: 0x8020be9c =&gt; 0x80fbfe9c<br />Command &quot;printenv&quot;: 0x8020b434 =&gt; 0x80fbf434<br />Command &quot;?&quot;: 0x8020c1a0 =&gt; 0x80fc01a0<br />Command &quot;help&quot;: 0x8020c1a0 =&gt; 0x80fc01a0<br />Command &quot;version&quot;: 0x8020c040 =&gt; 0x80fc0040<br />Command &quot;mw&quot;: 0x8020f118 =&gt; 0x80fc3118<br />Command &quot;nm&quot;: 0x8020f32c =&gt; 0x80fc332c<br />Command &quot;mm&quot;: 0x8020f374 =&gt; 0x80fc3374<br />Command &quot;md&quot;: 0x8020ee48 =&gt; 0x80fc2e48<br />spi_wait_nsec: 42<br />spi device id: c2 20 16 c2 20 (2016c220)<br />find flash: MX25L3205D<br />raspi_read: from:30000 len:1000<br />.raspi_read: from:30000 len:1000<br />.============================================<br />Ralink UBoot Version: 3.6.0.0<br />--------------------------------------------<br />ASIC 5350_MP (Port5&lt;-&gt;None)<br />DRAM_CONF_FROM: Boot-Strapping<br />DRAM_TYPE: SDRAM<br />DRAM_SIZE: 256 Mbits<br />DRAM_WIDTH: 16 bits<br />DRAM_TOTAL_WIDTH: 16 bits<br />TOTAL_MEMORY_SIZE: 32 MBytes<br />Flash component: SPI Flash<br />Date:Mar 15 2012&nbsp; Time:11:03:21<br />============================================<br />icache: sets:256, ways:4, linesz:32 ,total:32768<br />dcache: sets:128, ways:4, linesz:32 ,total:16384</p><p> ##### The CPU freq = 360 MHZ ####<br /> estimate memory size =16 Mbytes</p><p>Please choose the operation:<br />&nbsp; &nbsp;1: Load system code to SDRAM via TFTP.<br />&nbsp; &nbsp;2: Load system code then write to Flash via TFTP.<br />&nbsp; &nbsp;3: Boot system code via Flash (default).<br />&nbsp; &nbsp;4: Entr boot command line interface.<br />&nbsp; &nbsp;7: Load Boot Loader code then write to Flash via Serial.<br />&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4<br />You choosed 2<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p><br /><p>2: System Load Linux Kernel then write to Flash via TFTP.<br /> Warning!! Erase Linux in Flash then burn new one. Are you sure?(Y/N)<br /> Please Input new ones /or Ctrl-C to discard<br />&nbsp; &nbsp; &nbsp; &nbsp; Input device IP (192.168.0.1) ==:192.168.0.1<br />&nbsp; &nbsp; &nbsp; &nbsp; Input server IP (192.168.0.2) ==:192.168.0.2<br />&nbsp; &nbsp; &nbsp; &nbsp; Input Linux Kernel filename () ==:firmware.bin<br /> netboot_common, argc= 3</p><p> NetTxPacket = 0x80FE6440</p><p> KSEG1ADDR(NetTxPacket) = 0xA0FE6440</p><p> NetLoop,call eth_halt !</p><p> NetLoop,call eth_init !<br />Trying Eth0 (10/100-M)</p><p> Waitting for RX_DMA_BUSY status Start... done</p><br /><p> Header Payload scatter function is Disable !!</p><p> ETH_STATE_ACTIVE!!<br />Using Eth0 (10/100-M) device<br />TFTP from server 192.168.0.2; our IP address is 192.168.0.1<br />Filename &#039;firmware.bin&#039;.</p><p> TIMEOUT_COUNT=10,Load address: 0x80100000<br />Loading: checksum bad<br />checksum bad<br />Got ARP REQUEST, return our IP<br />checksum bad<br />Got ARP REQUEST, return our IP<br />Got ARP REQUEST, return our IP<br />checksum bad<br />checksum bad<br />checksum bad<br />Got ARP REPLY, set server/gtwy eth addr (00:1d:72:68:02:7f)<br />Got it<br />T T T T T T T T T T<br />Retry count exceeded; starting again<br />Trying Eth0 (10/100-M)</p><p> ETH_STATE_ACTIVE!!<br />Using Eth0 (10/100-M) device<br />TFTP from server 192.168.0.2; our IP address is 192.168.0.1<br />Filename &#039;firmware.bin&#039;.</p><p> TIMEOUT_COUNT=10,Load address: 0x80100000<br />Loading: Got ARP REPLY, set server/gtwy eth addr (00:1d:72:68:02:7f)<br />Got it<br />T T T T T T T T T T<br />Retry count exceeded; starting again<br />Trying Eth0 (10/100-M)</p><p> ETH_STATE_ACTIVE!!<br />Using Eth0 (10/100-M) device<br />TFTP from server 192.168.0.2; our IP address is 192.168.0.1<br />Filename &#039;firmware.bin&#039;.</p><p> TIMEOUT_COUNT=10,Load address: 0x80100000<br />Loading: Got ARP REPLY, set server/gtwy eth addr (00:1d:72:68:02:7f)<br />Got it<br />T T T T T T T T T T<br />Retry count exceeded; starting again<br />Trying Eth0 (10/100-M)</p><p> ETH_STATE_ACTIVE!!<br />Using Eth0 (10/100-M) device<br />TFTP from server 192.168.0.2; our IP address is 192.168.0.1<br />Filename &#039;firmware.bin&#039;.</p></blockquote></div><p>I need help to flash it again. Sorry my bad English. Thank</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218357">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">neryba</div>
					<div class="post-datetime">
						24 Nov 2013, 19:24					</div>
				</div>
				<div class="post-content content">
					<p>You need install TFTP-server on PC</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218383">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sogoku_vn</div>
					<div class="post-datetime">
						25 Nov 2013, 01:51					</div>
				</div>
				<div class="post-content content">
					<p>Off course, I installed Tftp. Router cpu rt5350 with 4MB flash/32 MB ram</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218395">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">neryba</div>
					<div class="post-datetime">
						25 Nov 2013, 08:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sogoku_vn wrote:</cite><blockquote><p>Router got firmware.bin but nothing happened. I put it by CMD console </p><div class="codebox"><pre><code>tftp -i 192.168.0.1 put firmware.bin</code></pre></div></blockquote></div><p>That means you have installed TFTP-client, but no TFTP-server.</p><div class="quotebox"><cite>sogoku_vn wrote:</cite><blockquote><p>And&nbsp; log<br /></p><div class="codebox"><pre><code> ETH_STATE_ACTIVE!!
Using Eth0 (10/100-M) device
TFTP from server 192.168.0.2; our IP address is 192.168.0.1
Filename &#039;firmware.bin&#039;.

 TIMEOUT_COUNT=10,Load address: 0x80100000
Loading: Got ARP REPLY, set server/gtwy eth addr (00:1d:72:68:02:7f)
Got it
T T T T T T T T T T</code></pre></div></blockquote></div><p>TTTTT means, router try download firmware, but unsuccessful. If it receive image it will print ######.<br />So install TFTP-server <a href="http://www.solarwinds.com/products/freetools/free_tftp_server.aspx">http://www.solarwinds.com/products/free … erver.aspx</a></p><p>And then run &quot;Load system code then write to Flash via TFTP&quot;</p>											<p class="post-edited">(Last edited by <strong>neryba</strong> on 25 Nov 2013, 08:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218446">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">sogoku_vn</div>
					<div class="post-datetime">
						25 Nov 2013, 17:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>neryba wrote:</cite><blockquote><div class="quotebox"><cite>sogoku_vn wrote:</cite><blockquote><p>Router got firmware.bin but nothing happened. I put it by CMD console </p><div class="codebox"><pre><code>tftp -i 192.168.0.1 put firmware.bin</code></pre></div></blockquote></div><p>That means you have installed TFTP-client, but no TFTP-server.</p><div class="quotebox"><cite>sogoku_vn wrote:</cite><blockquote><p>And&nbsp; log<br /></p><div class="codebox"><pre><code> ETH_STATE_ACTIVE!!
Using Eth0 (10/100-M) device
TFTP from server 192.168.0.2; our IP address is 192.168.0.1
Filename &#039;firmware.bin&#039;.

 TIMEOUT_COUNT=10,Load address: 0x80100000
Loading: Got ARP REPLY, set server/gtwy eth addr (00:1d:72:68:02:7f)
Got it
T T T T T T T T T T</code></pre></div></blockquote></div><p>TTTTT means, router try download firmware, but unsuccessful. If it receive image it will print ######.<br />So install TFTP-server <a href="http://www.solarwinds.com/products/freetools/free_tftp_server.aspx">http://www.solarwinds.com/products/free … erver.aspx</a></p><p>And then run &quot;Load system code then write to Flash via TFTP&quot;</p></blockquote></div><p>Yeahhhhhhhhhhh. You save my life. Thank so much <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>sogoku_vn</strong> on 25 Nov 2013, 17:19)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>