<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WHITERUSSIAN RC2</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 8 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p9694">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						19 Jul 2005, 03:10					</div>
				</div>
				<div class="post-content content">
					<p>WhiteRussian RC2 has just been released -<br /><a href="http://downloads.openwrt.org/whiterussian/">http://downloads.openwrt.org/whiterussian/</a></p><p>This is mostly a bugfix release; there&#039;s no new features but there are several important stability patches.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9697">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">wbx</div>
					<div class="post-datetime">
						19 Jul 2005, 03:24					</div>
				</div>
				<div class="post-content content">
					<p>hi,</p><p>just some more notes...</p><p>It would be really cool if you update your routers and test these images. Many bugs from rc1 are fixed.<br />WDS should work again. pppoe and pptp is now started via ifup.pppoe and ifup.pptp. Please add problem description and patches to this thread.</p><p>And all problems with the old v1.1 routers are fixed! thx nbd!</p><p>We will not any new features to white russian, so do not ask about. (feature freeze)</p><p>Developers of new packages should use cvs HEAD and provide patches for it.</p><br /><p>good luck<br />wbx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9724">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sophana</div>
					<div class="post-datetime">
						19 Jul 2005, 15:15					</div>
				</div>
				<div class="post-content content">
					<p>just some silly questions. <br />Are there big differences between today cvs head and white russian rc2?<br />I&#039;m actualy using a RC1 jffs version.<br />If I flash a new version, what will be updated? is the root jffs filesystem erased?<br />If I backup my old install, what do I need to upgrade, only the kernel modules?</p><p>Thanks for your great work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9729">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">wbx</div>
					<div class="post-datetime">
						19 Jul 2005, 15:41					</div>
				</div>
				<div class="post-content content">
					<p>all is answered here:<br /><a href="http://downloads.openwrt.org/whiterussian/00-README">http://downloads.openwrt.org/whiterussian/00-README</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9730">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">wbx</div>
					<div class="post-datetime">
						19 Jul 2005, 15:43					</div>
				</div>
				<div class="post-content content">
					<p>&gt;Are there big differences between today cvs head and white russian rc2?</p><p>sure. cvs HEAD is different. more packages, many changes in the buildsystem to build more then broadcom specific kernels, preliminary support for texas instruments based boards (ar7) like linksys wag54g...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9795">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">hutchman</div>
					<div class="post-datetime">
						20 Jul 2005, 19:32					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve been trying to get WDS and WPA-PSK working between a WRT54GS V1.1 and V2.0 box.&nbsp; This post details my progress <a href="http://forum.openwrt.org/viewtopic.php?pid=9711#p9711">http://forum.openwrt.org/viewtopic.php?pid=9711#p9711</a></p><p>I just installed whiterussian RC2 and I once again started with a clean slate by doing a mtd erase nvram.&nbsp; I then made all the settings necessary to get WDS working and I noticed that nvram get wl0_hwaddr still does not show the MAC address of the radio.&nbsp; From previous experience I noticed that wl0_hwaddr usually displayed the same MAC as that listed for eth1 device.&nbsp; Do I still have to set wds with the wl wds &lt;my other box MAC&gt; command or does nvram set_wl0_wds work?</p><p>I haven&#039;t actually tried to ping the other box yet as I&#039;m at work and haven&#039;t done much with RC2 other than flash it, clear nvram and make a few settings.&nbsp; I&#039;ll try to get WDS going today and report back on what I&#039;ve done.</p><p>Should I just try and get it going in the Linksys firmware first then load OpenWRT?&nbsp; I&#039;ve seen a post to that effect.&nbsp; I&#039;d like to hear from someone who has started from scratch like me.&nbsp; I think all these posts and instructions on the subject are leaving out key settings that I probably smoked when I did the erase nvram to go back to defaults.</p><p>Thanks in advance for advice &amp; info.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9796">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						20 Jul 2005, 19:35					</div>
				</div>
				<div class="post-content content">
					<p>Some advice: Ignore the unset nvram variables like wl0_hwaddr. Just grab the mac address from iwconfig or ifconfig.<br />For making WDS and WPA-PSK work, you need to install the nas package (just use ipkg update; ipkg install nas).<br />You also don&#039;t need the wl utility at all. Set up WPA as usual, then set the wl0_wds variable to the mac address of the other router. After that run /sbin/wifi or reboot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9799">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hutchman</div>
					<div class="post-datetime">
						20 Jul 2005, 20:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>Some advice: Ignore the unset nvram variables like wl0_hwaddr. Just grab the mac address from iwconfig or ifconfig.<br />For making WDS and WPA-PSK work, you need to install the nas package (just use ipkg update; ipkg install nas).<br />You also don&#039;t need the wl utility at all. Set up WPA as usual, then set the wl0_wds variable to the mac address of the other router. After that run /sbin/wifi or reboot.</p></blockquote></div><p>This is were I&#039;m getting into the weeds possibly.</p><p>The posts on the forum that I&#039;ve seen don&#039;t really mention the fact that nvram get wl0_hwaddr does nothing, they only say that nvram set wl0_wds is broke and say to use the wl wds command to do the same thing.&nbsp; I&#039;m only seeking the truth!&nbsp; Which is it and is RC2 still affected by these problems?</p><p>In the past I&#039;ve installed the nas 3.90.23-3 package.&nbsp; Is this still the one to be using with RC2 as I noticed a later package in the directory?</p><p>Are the hotplug, S41wpa, and nas sym links all OK in this package for use with RC2?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9800">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">tty56</div>
					<div class="post-datetime">
						20 Jul 2005, 20:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I installed the whiterussian rc2 on my WRT54g 2.2.<br />The problem is id does not work, I cannot ping the<br />device any more. I tried several times to install<br />the squashfs release (I did a reset to factory defaults<br />before, I upgraded from the Linksys firmware),<br />the same outcome, nothing works. Any idea?</p><p>Georg</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9801">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">hutchman</div>
					<div class="post-datetime">
						20 Jul 2005, 20:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tty56 wrote:</cite><blockquote><p>Hi,</p><p>I installed the whiterussian rc2 on my WRT54g 2.2.<br />The problem is id does not work, I cannot ping the<br />device any more. I tried several times to install<br />the squashfs release (I did a reset to factory defaults<br />before, I upgraded from the Linksys firmware),<br />the same outcome, nothing works. Any idea?</p><p>Georg</p></blockquote></div><p>I&#039;ve been using the jffs2 version of RC1 &amp; RC2 because I&#039;m lazy (or plain dumb) and like the fact I can do wget, ipkg install etc., and things happen like a normal linux box and I don&#039;t have to bother with killing symlinks etc. on the squash version.</p><p>About the only thing I haven&#039;t tried yet is to load the Linksys firmware and get everything working and then load RC1 or RC2 and see what the difference is in nvram settings from what I have now.&nbsp; It is making me pull my hair out and I don&#039;t have much to start with.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9809">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tty56</div>
					<div class="post-datetime">
						20 Jul 2005, 23:17					</div>
				</div>
				<div class="post-content content">
					<p>Thanks hutchman, I tried the jffs version and it works. Seems to be a squashfs or ididnotreadthemanualcarefullyenoughtousesquashfs problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9835">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">hutchman</div>
					<div class="post-datetime">
						21 Jul 2005, 19:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>Some advice: Ignore the unset nvram variables like wl0_hwaddr. Just grab the mac address from iwconfig or ifconfig.<br />For making WDS and WPA-PSK work, you need to install the nas package (just use ipkg update; ipkg install nas).<br />You also don&#039;t need the wl utility at all. Set up WPA as usual, then set the wl0_wds variable to the mac address of the other router. After that run /sbin/wifi or reboot.</p></blockquote></div><p>Update on my progress.</p><p>Just to clear up some confusion from other posts I&#039;ve read, I took your advice and set wl0_wds like you normally do on whiterussian RC2 and DID NOT use the wl wds command.</p><p>I was able to finally get WDS working with RC2!</p><p>Now I&#039;m on to trying to get WPA with aes going.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9887">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">hutchman</div>
					<div class="post-datetime">
						22 Jul 2005, 22:48					</div>
				</div>
				<div class="post-content content">
					<p>.... and there was much rejoicing!</p><p>I happy to report I have WDS WPA psk working with whiterussian RC2.&nbsp; I used the nas 3.90.37-2 package from the whiterussian non-free download directory.</p><p>I started off with a nvram clean slateby doing a mtd erase nvram.&nbsp; I set the nvram settings according to the links mentioned in my previous postings in case anyone else is having the same trouble I have had in the past and needs a roadmap to follow.</p><p>Great job guys!&nbsp; I&#039;d kiss you but I&#039;m not that kind of guy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9892">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">TcT</div>
					<div class="post-datetime">
						23 Jul 2005, 00:28					</div>
				</div>
				<div class="post-content content">
					<p>I flashed RC2 over an old version of openwrt from sometime last year and it works great on my WRT54GS</p><p>Very good work and really good welcome banner with useful information <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9900">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">olli</div>
					<div class="post-datetime">
						23 Jul 2005, 12:38					</div>
				</div>
				<div class="post-content content">
					<p>I flashed my Asus WL-500g Deluxe with openwrt-brcm-2.4-squashfs.trx image.<br />After flashing with mtd -e linux -r write /tmp/openwrt-brcm-2.4-squashfs.trx linux i get:<br /></p><div class="codebox"><pre><code>  1 All bugs added by David S. Miller &lt;davem@redhat.com&gt;         
  2 VFS: Mounted root (squashfs filesystem) readonly.   
  3 Mounted devfs on /dev                            
  4 Freeing unused kernel memory: 80k freed
  5 Algorithmics/MIPS FPU Emulator v1.5    
  6 Using /lib/modules/2.4.30/diag.o   
  7 diag boardtype: 00000000
  8 /sbin/mount_root: 24: nvram: not found
  9 Unlocking OpenWrt ...
 10 mount: Mounting none on /proc failed: Device or resource busy
 11 mount: Mounting none on /dev failed: Device or resource busy
 12 umount: /rom/proc: No such file or directory
 13 umount: /rom/dev: No such file or directory
 14 init started:  BusyBox v1.00 (2005.07.18-21:49+0000) multi-call binary
 15 BusyBox v1.00 (2005.07.18-21:49+0000) multi-call binary
 16 
 17 Usage: ipcalc [OPTION]... &lt;ADDRESS&gt;[[/]&lt;NETMASK&gt;] [NETMASK]
 18 
 19 Calculate IP network settings from a IP address
 20 
 21 Options:
 22         -b      --broadcast     Display calculated broadcast address.
 23         -n      --network       Display calculated network address.
 24         -m      --netmask       Display default netmask for IP.
 25         -p      --prefix        Display the prefix for IP/NETMASK.      -h      --hostname      Display first resolved host name.
 26         -s      --silent        Don&#039;t ever display error messages.
 27 
 28 
 29 Please press Enter to activate this console. jffs2.bbc: SIZE compression mode activated.
 30 eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.23.0                        
 31 PCI: Enabling device 01:03.0 (0004 -&gt; 0006)                     
 32 eth1: Broadcom BCM4320 802.11 Wireless Controller 3.90.37.0
 33 device eth0 entered promiscuous mode                       
 34 device eth1 entered promiscuous mode</code></pre></div><p>Errors found on line 8 and from line 16 to 28.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9933">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">soelknight</div>
					<div class="post-datetime">
						24 Jul 2005, 07:12					</div>
				</div>
				<div class="post-content content">
					<p>So I tried to upgrade my Motorola WR850G to the new RC2.<br />I wget the file from my server and it is in .bin format.</p><p>I convert the file to .trx<br />&nbsp; &nbsp; &nbsp;dd if=openwrt-motorola-squashfs.bin of=openwrt-motorola-squashfs.trx bs=32 skip=1</p><p>Output of command: <br />&nbsp; &nbsp; &nbsp;root@OpenWrt:~# dd if=openwrt-motorola-squashfs.bin of=openwrt-motorola-squashfs.trx bs=32 skip=1<br />47743+1 records in<br />47743+1 records out</p><p>I then:<br />&nbsp; &nbsp; &nbsp;mtd -r write openwrt-motorola-squashfs.bin linux</p><p>Output:<br />root@OpenWrt:~# mtd -r write openwrt-motorola-squashfs.trx linux<br />Bad trx header<br />If this is a firmware in bin format, like some of the<br />original firmware files are, use following command to convert to trx:<br />dd if=firmware.bin of=firmware.trx bs=32 skip=1</p><p>I then tried to TFTP and the TFTP times out everytime.<br />I have rebooted the Motorola manually and quickly, sowly, anyway I can think of... Still nothing, times out.<br />I have read all I could find on this process.</p><p>I am just at this point, Frustrated.<br />Is there a site with some good up to date information on the WR850G process.<br />I have RC1 running on the router currently, I just would like the new stuff.<br />Any suggestions?</p><p>Also I was looking for ways to forward ports to my lan from my wan, are there any good docs for the WR850G?</p><p>Thanks for all your help guys!!!!!!!<br />At this point I cannot even get back to the old Motorola firmware, I am sorta hosed. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9935">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						24 Jul 2005, 08:24					</div>
				</div>
				<div class="post-content content">
					<p>I should point out that all the binaries on the server are the exact same file, just with different headers.<br /></p><div class="codebox"><pre><code>motorola header + openwrt-brcm-2.4-squashfs.trx = openwrt-motorola-squashfs.bin
  wrt54g header + openwrt-brcm-2.4-squashfs.trx = openwrt-wrt54g-squashfs.bin
 wrt54gs header + openwrt-brcm-2.4-squashfs.trx = openwrt-wrt54gs-squashfs.bin</code></pre></div><p>and similarly for the jffs2 files.</p><p>The linksys bin header is 32 bytes, the motorola one isn&#039;t .. doesn&#039;t make any difference because you&#039;re wasting time using the bin anyways; just download the trx file.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9970">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">jeff</div>
					<div class="post-datetime">
						24 Jul 2005, 19:47					</div>
				</div>
				<div class="post-content content">
					<p>For the record, I believe I tftp&#039;d the firmware from the .bin file with no issues.</p><p>soelknight, did you mean to use this as a command? I see a .bin where I think you meant .trx .. but your &quot;output&quot; shows a .trx</p><div class="quotebox"><cite>soelknight wrote:</cite><blockquote><p>I then:<br />&nbsp; &nbsp; &nbsp;mtd -r write openwrt-motorola-squashfs.bin linux</p><p>Output:<br />root@OpenWrt:~# mtd -r write openwrt-motorola-squashfs.trx linux<br />Bad trx header</p></blockquote></div><p>Regarding tftp issues, make sure you are NOT hooked to your box via another switch. Connect directly to the box via ethernet and try hitting the tftp during different phases of the blinking light patterns.</p>											<p class="post-edited">(Last edited by <strong>jeff</strong> on 24 Jul 2005, 19:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10038">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">soelknight</div>
					<div class="post-datetime">
						26 Jul 2005, 00:02					</div>
				</div>
				<div class="post-content content">
					<p>I did mean the .trx and not the .bin, sorry about that.<br />I have tried multiple times trying to catch it, just not lucky I guess.</p><p>Should I be plugged into the WAN port of the Switch ports 1-4?<br />Cause I am in the switch ports right now... I will try soon here, I will let you know.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10046">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">soelknight</div>
					<div class="post-datetime">
						26 Jul 2005, 03:03					</div>
				</div>
				<div class="post-content content">
					<p>I did the tftp from my windows box from the WAN port and all the ports on the built in switch. Tried even doing it at many different times.</p><p>Command I am using is:<br />&nbsp; &nbsp; &nbsp; tftp -i 192.168.1.1 PUT &lt;firmware&gt;.trx</p><p>This did it....<br />I downloaded just the .trx did wget from my server for the .trx file.<br />Did the mtd -r write &lt;firmware name&gt;.trx linux and it now is up to RC2.<br />Maybe this could be added for some release notes for the Motorola WR850G.</p><p>Thanks guys for all the help!</p>											<p class="post-edited">(Last edited by <strong>soelknight</strong> on 26 Jul 2005, 03:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10048">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">killerbobjr</div>
					<div class="post-datetime">
						26 Jul 2005, 05:23					</div>
				</div>
				<div class="post-content content">
					<p>Re: Motorola WR850G</p><p>I went through quite a hair pulling trying to get everything sorted out on the WR850G last month with RC1.&nbsp; Here&#039;s the steps for debricking or updating or even reversing to the original Motorola firmware (yes, yes, I know -- it should go into the wiki.&nbsp; When I have time, when I have time).&nbsp; BTW, all my experimenting is done from Windows, so the intructions are Windows-centric:</p><br /><p><strong>!!Notes before flashing anything!!</strong></p><p>The Motorola WR850G defaults to 192.168.10.1 on its LAN IP at boot, <strong>EVEN IF &quot;lan_ipaddr&quot; IS SET TO SOMETHING ELSE!</strong>&nbsp; All your TFTP&#039;ing will have to be done from a 192.168.10.x address.</p><br /><p><strong><em>Updating a virgin WR850G:</em></strong></p><p>1. Follow the instructions in the wiki: <a href="http://wiki.openwrt.org/OpenWrtDocs/Installing#head-16e8d1f9495b84660425ea230a05e0305b71bdd1">http://wiki.openwrt.org/OpenWrtDocs/Ins â€¦ 305b71bdd1</a></p><br /><p><strong><em>Reverting an RC1 or RC2 WR850G to the original Motorola firmware:</em></strong></p><p>1. Open up a hex editor and load in the Motorola firmware (I use HHD).<br />2. Delete the first eight bytes (everything before &quot;HDR0&quot;) and save.<br />3. Make sure your &quot;boot_wait&quot; NVRAM value is set to &quot;on&quot; and saved (I use &quot;Putty&quot; for telneting/ssh).<br />4. Set your local machine&#039;s IP address to 192.168.10.5 (or anything between 192.168.10.2 and 192.168.10.254) and mask to 255.255.255.0.<br />5. Open up a console window and change to the directory the Motorola firmware is in.<br />6. Type in: &quot;TFTP -i 192.168.10.1 PUT filename.bin&quot; where &quot;filename.bin&quot; is your Motorola firmware.&nbsp; <strong>DON&#039;T HIT ENTER JUST YET!</strong><br />7. Unplug your WR850G, plug it back in and wait a second.<br />8. Now hit Enter in your console window.<br />9. Your TFTP transfer should finish in a few seconds.&nbsp; <strong>WAIT AT LEAST 60 SECONDS FOR THE FLASH TO PROGRAM!</strong><br />10. Unplug your WR850G and plug it back in.&nbsp; You now will have the old firmware.<br />11. Reset your local machine&#039;s IP address and mask back to where it was (DHCP on my machine).</p><br /><p><strong><em>Updating an RC1 WR850G to RC2:</em></strong></p><p>1. Download &quot;openwrt-brcm-2.4-squashfs.trx&quot; (<span class="bbu">NOT</span> &quot;openwrt-motorola-squashfs.bin&quot;!!).<br />2. Make sure your &quot;boot_wait&quot; NVRAM value is set to &quot;on&quot; and saved (I use &quot;Putty&quot; for telneting/ssh).<br />3. Set your local machine&#039;s IP address to 192.168.10.5 (or anything between 192.168.10.2 and 192.168.10.254) and mask to 255.255.255.0.<br />4. Open up a console window and change to the directory the RC2 firmware is in.<br />5. Type in: &quot;TFTP -i 192.168.10.1 PUT openwrt-brcm-2.4-squashfs.trx&quot;.&nbsp; <strong>DON&#039;T HIT ENTER JUST YET!</strong><br />6. Unplug your WR850G, plug it back in and wait a second.<br />7. Now hit Enter in your console window.<br />8. Your TFTP transfer should finish in a few seconds.&nbsp; <strong>WAIT AT LEAST 60 SECONDS FOR THE FLASH TO PROGRAM!</strong><br />9. Unplug your WR850G and plug it back in.&nbsp; You now will have the RC2 firmware.<br />10. Reset your local machine&#039;s IP address and mask back to where it was (DHCP on my machine).</p><br /><p><strong><em>Debricking a WR850G that has &quot;boot_wait&quot; set to &quot;on&quot;:</em></strong></p><p>1. Follow either one of the two intructions above.</p><br /><p><strong><em>Debricking a WR850G that did <span class="bbu">NOT</span> have &quot;boot_wait&quot; set to &quot;on&quot;:</em></strong></p><p>1. Unplug the Wr850G and open it up -- unscrew the one torx screw in the back (you can use a hex key driver if that&#039;s handy), then pop open the cover.&nbsp; You will have to CAREFULLY pry the top off with quite a bit of force.&nbsp; Use your fingers.&nbsp; If it feels like you&#039;re about to break it, don&#039;t worry, it&#039;s pretty tough -- just try to not bend the top, which will stress crack the plastic.<br />2. Locate the flash chip (right next to the internal antenna).&nbsp; On mine it&#039;s an Intel TE28F320.&nbsp; All the V3 WR850G&#039;s have this.&nbsp; If it&#039;s an older V2 or V1, it might have an AMD chip.<br />3. Set your local machine&#039;s IP address to 192.168.10.5 (or anything between 192.168.10.2 and 192.168.10.254) and mask to 255.255.255.0.<br />4. Open up a console window and change to the directory the firmware is in.<br />5. Type in: &quot;TFTP -i 192.168.10.1 PUT filename.bin&quot; where &quot;filename.bin&quot; is the firmware.&nbsp; <strong>DON&#039;T HIT ENTER JUST YET!</strong><br />6. Get a sewing needle or pin.&nbsp; Count down on the LEFT side (lettering on the chip should be upright) to lead 15.&nbsp; CAREFULLY insert the sewing needle between leads 15 and 16* -- it should NOT require any force.<br />7. Now plug in your WR850G while holding the needle in place.<br />8. Wait two to three seconds, then remove the needle.<br />9. Now hit Enter in your console window.<br />10. Your TFTP transfer should finish in a few seconds.&nbsp; <strong>WAIT AT LEAST 60 SECONDS FOR THE FLASH TO PROGRAM!</strong><br />11. Unplug your WR850G and plug it back in.&nbsp; You now will have debricked the WR850G.<br />12. Reset your local machine&#039;s IP address and mask back to where it was (DHCP on my machine).<br />13. If you have loaded the OpenWrt firmware, telnet in and change the &quot;lan_ipaddr&quot; NVRAM value to 192.168.1.1 and reboot your router.</p><p>*The reason we use leads 15-16 is because those address lines are right at the beginning of the kernel firmware area in the flash chip, and if the CFE/bootloader detects a corrupted kernel, it will automatically go into a TFTP receiving mode.</p><br /><p>For those of you who want to use a serial port and or JTAG adapter, I have some simple schematics/instructions that I will post later.&nbsp; You can get all the parts at Radio Shack for a few bucks and don&#039;t require any special skills to assemble other than soldering.&nbsp; (There are no ICs, only a couple of transistors, and everything can breadboarded).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10056">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">thierry_b</div>
					<div class="post-datetime">
						26 Jul 2005, 11:07					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />The JTAG cable permit to recover every linksys?</p><p>Thanks.</p><p>Bye</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10238">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">footrot</div>
					<div class="post-datetime">
						2 Aug 2005, 13:29					</div>
				</div>
				<div class="post-content content">
					<p>I am getting the following error messages (syslog) upon bootup of Whiterussian RC2:</p><p>&nbsp; Jan&nbsp; 1 00:00:31 (none) user.info : /etc/init.d/rcS: 11: /etc/init.d/S50pppoe: not found<br />&nbsp; Jan&nbsp; 1 00:00:31 (none) user.info : /etc/init.d/rcS: 11: /etc/init.d/S60ntpclient: not found</p><p>Although there are links in /etc/init.d<br />&nbsp; lrwxrwxrwx&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;24 Jan&nbsp; 1&nbsp; 2000 S50pppoe -&gt; /rom/etc/init.d/S50pppoe<br />&nbsp; lrwxrwxrwx&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;28 Jan&nbsp; 1&nbsp; 2000 S60ntpclient -&gt; /rom/etc/init.d/S60ntpclient</p><p>The actual files do not exist in /rom/etc/init.d</p><p>&nbsp; root@OpenWrt:/rom/etc/init.d# ls -la<br />&nbsp; -rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1049 Jul 16 03:09 S10boot<br />&nbsp; -rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 278 May 31 09:46 S40network<br />&nbsp; -rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2601 Jul 17 15:38 S45firewall<br />&nbsp; -rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 605 Jul 19 08:47 S50dnsmasq<br />&nbsp; -rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 333 Jul 19 08:47 S50dropbear<br />&nbsp; -rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;47 May 31 09:46 S50httpd<br />&nbsp; -rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;32 May 31 09:46 S50telnet<br />&nbsp; -rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;80 May&nbsp; 9 08:02 S99done<br />&nbsp; -rwxr-xr-x&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 258 Jul 17 15:37 rcS</p><p>Someone might want to fix this in the next release. </p><br /><p>Regards,<br />&nbsp; footrot</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10248">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						2 Aug 2005, 20:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>footrot wrote:</cite><blockquote><p>Someone might want to fix this in the next release.</p></blockquote></div><p>The jffs2 partition is not automatically nuked durring an upgrade; these links are left over from the last firmware. If you run firstboot it will create new links but unless you run firstboot from failsafe it won&#039;t delete anything.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10952">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">ken_i_m</div>
					<div class="post-datetime">
						17 Aug 2005, 23:28					</div>
				</div>
				<div class="post-content content">
					<p>cp /wrt54/openwrt/build_mipsel/nvram/*.so /wrt54/openwrt/staging_dir_mipsel/usr/lib<br />cp: cannot stat `/wrt54/openwrt/build_mipsel/nvram/*.so&#039;: No such file or directory<br />make[2]: *** [install-dev] Error 1</p><p>Run into this error with whiterussian rc2 and current dev cvs.<br />Even when running completely default settings.<br />Building on Red Hat 9</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>