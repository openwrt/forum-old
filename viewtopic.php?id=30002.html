<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> 3g ppp problem</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 13 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p135201">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sulacco</div>
					<div class="post-datetime">
						13 May 2011, 16:14					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m having a problem with IPCP negotiation and I hope someone could help,</p><p>I have a linksys wrt350n with OpenWRT Backfire 10.03 and I&#039;m trying to use a 3g usb dongle huawei E173 with italian &quot;tre&quot; provider.</p><p>E173 seems not to be officially supported but I&#039;ve followed some hints and now the modem connects, passes the CHAP phase but fails the IPCP negotiation so I suppose that the problem lies now in generic ppp configuration ... any idea ?</p><p>This is the log:<br /></p><div class="codebox"><pre><code>May 13 15:11:13 wrt350n daemon.notice pppd[4396]: pppd 2.4.4 started by root, uid 0
May 13 15:11:14 wrt350n local2.info chat[4403]: abort on (BUSY)
May 13 15:11:14 wrt350n local2.info chat[4403]: abort on (NO CARRIER)
May 13 15:11:14 wrt350n local2.info chat[4403]: abort on (ERROR)
May 13 15:11:14 wrt350n local2.info chat[4403]: report (CONNECT)
May 13 15:11:14 wrt350n local2.info chat[4403]: timeout set to 10 seconds
May 13 15:11:14 wrt350n local2.info chat[4403]: send (AT&amp;F^M)
May 13 15:11:14 wrt350n local2.info chat[4403]: expect (OK)
May 13 15:11:14 wrt350n local2.info chat[4403]: AT&amp;F^M^M
May 13 15:11:14 wrt350n local2.info chat[4403]: OK
May 13 15:11:14 wrt350n local2.info chat[4403]:  -- got it
May 13 15:11:14 wrt350n local2.info chat[4403]: send (ATE1^M)
May 13 15:11:14 wrt350n local2.info chat[4403]: expect (OK)
May 13 15:11:14 wrt350n local2.info chat[4403]: ^M
May 13 15:11:14 wrt350n local2.info chat[4403]: ATE1^M^M
May 13 15:11:14 wrt350n local2.info chat[4403]: OK
May 13 15:11:14 wrt350n local2.info chat[4403]:  -- got it
May 13 15:11:14 wrt350n local2.info chat[4403]: send (AT+CGDCONT=1,&quot;IP&quot;,&quot;datacard.tre.it&quot;^M)
May 13 15:11:15 wrt350n local2.info chat[4403]: timeout set to 30 seconds
May 13 15:11:15 wrt350n local2.info chat[4403]: expect (OK)
May 13 15:11:15 wrt350n local2.info chat[4403]: ^M
May 13 15:11:15 wrt350n local2.info chat[4403]: AT+CGDCONT=1,&quot;IP&quot;,&quot;datacard.tre.it&quot;^M^M
May 13 15:11:15 wrt350n local2.info chat[4403]: OK
May 13 15:11:15 wrt350n local2.info chat[4403]:  -- got it
May 13 15:11:15 wrt350n local2.info chat[4403]: send (ATD*99***1#^M)
May 13 15:11:15 wrt350n local2.info chat[4403]: expect (CONNECT)
May 13 15:11:15 wrt350n local2.info chat[4403]: ^M
May 13 15:11:15 wrt350n local2.info chat[4403]: ATD*99***1#^M^M
May 13 15:11:15 wrt350n local2.info chat[4403]: CONNECT
May 13 15:11:15 wrt350n local2.info chat[4403]:  -- got it
May 13 15:11:15 wrt350n local2.info chat[4403]: send ( ^M)
May 13 15:11:15 wrt350n daemon.info pppd[4396]: Serial connection established.
May 13 15:11:15 wrt350n daemon.debug pppd[4396]: using channel 24
May 13 15:11:15 wrt350n daemon.info pppd[4396]: Using interface ppp0
May 13 15:11:15 wrt350n daemon.notice pppd[4396]: Connect: ppp0 &lt;--&gt; /dev/ttyUSB0
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: sent [LCP ConfReq id=0x1 &lt;asyncmap 0x0&gt; &lt;magic 0xd7bb727&gt;]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: rcvd [LCP ConfReq id=0x1 &lt;accomp&gt; &lt;pcomp&gt; &lt;asyncmap 0x0&gt; &lt;mru 1440&gt; &lt;magic 0x54d&gt; &lt;auth chap MD5&gt;]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: sent [LCP ConfRej id=0x1 &lt;accomp&gt; &lt;pcomp&gt;]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: rcvd [LCP ConfAck id=0x1 &lt;asyncmap 0x0&gt; &lt;magic 0xd7bb727&gt;]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: rcvd [LCP ConfReq id=0x2 &lt;asyncmap 0x0&gt; &lt;mru 1440&gt; &lt;magic 0x54d&gt; &lt;auth chap MD5&gt;]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: sent [LCP ConfAck id=0x2 &lt;asyncmap 0x0&gt; &lt;mru 1440&gt; &lt;magic 0x54d&gt; &lt;auth chap MD5&gt;]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: sent [LCP EchoReq id=0x0 magic=0xd7bb727]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: rcvd [CHAP Challenge id=0x1 &lt;c3890dc286252bd73368137f9d640ab4&gt;, name = &quot;HUAWEI_CHAP_SRVR&quot;]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: sent [CHAP Response id=0x1 &lt;26b84ff6a408c2a6f80d19c11ac08d20&gt;, name = &quot;tre&quot;]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: rcvd [LCP EchoRep id=0x0 magic=0x54d]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: rcvd [CHAP Success id=0x1 &quot;Welcome!!&quot;]
May 13 15:11:16 wrt350n daemon.info pppd[4396]: CHAP authentication succeeded: Welcome!!
May 13 15:11:16 wrt350n daemon.notice pppd[4396]: CHAP authentication succeeded
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfReq id=0x1 &lt;addr 0.0.0.0&gt;]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: rcvd [IPCP ConfReq id=0x1]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfNak id=0x1 &lt;addr 0.0.0.0&gt;]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: rcvd [IPCP ConfAck id=0x1]
May 13 15:11:16 wrt350n daemon.err pppd[4396]: Received bad configure-ack: 
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: rcvd [IPCP ConfReq id=0x2]
May 13 15:11:16 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfAck id=0x2]
May 13 15:11:19 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfReq id=0x1 &lt;addr 0.0.0.0&gt;]
May 13 15:11:21 wrt350n daemon.debug pppd[4396]: sent [LCP EchoReq id=0x1 magic=0xd7bb727]
May 13 15:11:22 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfReq id=0x1 &lt;addr 0.0.0.0&gt;]
May 13 15:11:25 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfReq id=0x1 &lt;addr 0.0.0.0&gt;]
May 13 15:11:26 wrt350n daemon.debug pppd[4396]: sent [LCP EchoReq id=0x2 magic=0xd7bb727]
May 13 15:11:28 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfReq id=0x1 &lt;addr 0.0.0.0&gt;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: sent [LCP EchoReq id=0x3 magic=0xd7bb727]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfReq id=0x1 &lt;addr 0.0.0.0&gt;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: rcvd [IPCP ConfReq id=0x1 &lt;addr 0.0.0.0&gt;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfRej id=0x1 &lt;addr 0.0.0.0&gt;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: rcvd [IPCP ConfRej id=0x1 &lt;addr 0.0.0.0&gt;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfReq id=0x2 &lt;addrs 0.0.0.0 0.0.0.0&gt;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: rcvd [IPCP ConfReq id=0x2 &lt;addrs 0.0.0.0 0.0.0.0&gt;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfRej id=0x2 &lt;addrs 0.0.0.0 0.0.0.0&gt;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: rcvd [IPCP ConfRej id=0x2 &lt;addrs 0.0.0.0 0.0.0.0&gt;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfReq id=0x3]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: rcvd [IPCP ConfReq id=0x3]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: sent [IPCP ConfAck id=0x3]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: rcvd [IPCP ConfAck id=0x3]
May 13 15:11:31 wrt350n daemon.err pppd[4396]: Could not determine local IP address
May 13 15:11:31 wrt350n daemon.info pppd[4396]: Connect time 0.3 minutes.
May 13 15:11:31 wrt350n daemon.info pppd[4396]: Sent 120 bytes, received 68 bytes.
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: sent [IPCP TermReq id=0x4 &quot;Could not determine local IP address&quot;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: rcvd [IPCP TermReq id=0x4 &quot;Could not determine local IP address&quot;]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: sent [IPCP TermAck id=0x4]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: rcvd [IPCP TermAck id=0x4]
May 13 15:11:31 wrt350n daemon.debug pppd[4396]: sent [LCP TermReq id=0x2 &quot;No network protocols running&quot;]
May 13 15:11:34 wrt350n daemon.debug pppd[4396]: sent [LCP TermReq id=0x3 &quot;No network protocols running&quot;]
May 13 15:11:37 wrt350n daemon.notice pppd[4396]: Connection terminated.
May 13 15:11:38 wrt350n daemon.notice pppd[4396]: Modem hangup
May 13 15:11:38 wrt350n daemon.info pppd[4396]: Exit.</code></pre></div><p>/etc/ppp/options:<br /></p><div class="codebox"><pre><code>debug
logfile /tmp/pptp.log
noaccomp
nopcomp
nocrtscts
lock
maxfail 1
#lcp-echo-failure 5
lcp-echo-interval 1</code></pre></div><p>/etc/config/network:<br /></p><div class="codebox"><pre><code>config &#039;interface&#039; &#039;wan&#039;
      option &#039;ifname&#039; &#039;ppp0&#039;
      option &#039;apn&#039; &#039;datacard.tre.it&#039;
      option &#039;pincode&#039; &#039;xxxx&#039;
      option &#039;proto&#039; &#039;3g&#039;
      option &#039;device&#039; &#039;/dev/ttyUSB0&#039;
      option &#039;username&#039; &#039;tre&#039;
      option &#039;password&#039; &#039;tre&#039;
      option &#039;persist&#039; &#039;1&#039;
      option &#039;keepalive&#039; &#039;30&#039;
      option &#039;service&#039; &#039;umts&#039;
      option &#039;defaultroute&#039; &#039;0&#039;
      option &#039;peerdns&#039; &#039;0&#039;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135227">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">sulacco</div>
					<div class="post-datetime">
						14 May 2011, 00:43					</div>
				</div>
				<div class="post-content content">
					<p>Well, now it works. </p><p>Looks like the problem was in the APN, using &quot;tre.it&quot; instead of &quot;datacard.tre.it&quot; allowed for IPCP to receive an IP address and for the connection to be established.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135231">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sulacco</div>
					<div class="post-datetime">
						14 May 2011, 02:13					</div>
				</div>
				<div class="post-content content">
					<p>In case someone wants to use the Huawei E173, here are some hints.</p><p>Two interesting tutorials I followed for general SW installation and configuration:</p><p><a href="http://josefsson.org/openwrt/dongle.html">http://josefsson.org/openwrt/dongle.html</a><br /><a href="http://www.it-slav.net/blogs/2010/06/12/howto-use-3g-dongle-huawei-e1750-in-openwrt/">http://www.it-slav.net/blogs/2010/06/12 â€¦ n-openwrt/</a></p><p>the tricky thing for using the E173:</p><p>/etc/modules.d/60-usb-serial:<br /></p><div class="codebox"><pre><code>usbserial vendor=0x12d1 product=0x1c05 maxSize=4096</code></pre></div><p>/etc/usb-modeswitch.conf:<br /></p><div class="codebox"><pre><code>########################################################
# Huawei E173s

DefaultVendor= 0x12d1
DefaultProduct= 0x1c0b

TargetVendor= 0x12d1
TargetProduct= 0x1c05

CheckSuccess=20

MessageEndpoint= 0x0f
MessageContent= &quot;55534243123456780000000000000011062000000100000000000000000000&quot;</code></pre></div><p>check the dongle status with &quot;lsusb&quot; (mode is &quot;1c0b&quot;), then switch mode with &quot;usb_modeswitch&quot;, then check that mode is now &quot;1c05&quot;:<br /></p><div class="codebox"><pre><code>root@wrt350n:/# lsusb
Bus 001 Device 003: ID 12d1:1c0b Huawei Technologies Co., Ltd. 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub

root@wrt350n:/# usb_modeswitch 

Looking for target devices ...
 No devices in target mode or class found
Looking for default devices ...
 Found default devices (1)
Accessing device 003 on bus 001 ...
Using endpoints 0x0f (out) and 0x8f (in)
Inquiring device details; driver will be detached ...
Looking for active driver ...
 No driver found. Either detached before or never attached

SCSI inquiry data (for identification)
-------------------------
  Vendor String: HUAWEI  
   Model String: Mass Storage    
Revision String: 2.31
-------------------------

USB description data (for identification)
-------------------------
Manufacturer: HUAWEI
     Product: HUAWEI Mobile
  Serial No.: not provided
-------------------------
Setting up communication with interface 0 ...
Trying to send the message to endpoint 0x0f ...
 OK, message successfully sent
 Device is gone, skipping any further commands

Checking for mode switch (max. 20 times, once per second) ...
 Original device is gone already, not checking
 Searching for target devices ...
 Searching for target devices ...
 Searching for target devices ...
 Searching for target devices ...
 Searching for target devices ...
 Searching for target devices ...
 Found correct target device

Mode switch succeeded. Bye.

root@wrt350n:/# lsusb
Bus 001 Device 004: ID 12d1:1c05 Huawei Technologies Co., Ltd. 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub</code></pre></div><p>now just enable wan interface:<br /></p><div class="codebox"><pre><code>root@wrt350n:/# ifup wan
SIM ready
PIN set successfully</code></pre></div><p>check what happens in the log with &quot;logread&quot;:<br /></p><div class="codebox"><pre><code>May 14 00:40:54 wrt350n daemon.notice pppd[3637]: pppd 2.4.4 started by root, uid 0
May 14 00:40:55 wrt350n local2.info chat[3644]: abort on (BUSY)
May 14 00:40:55 wrt350n local2.info chat[3644]: abort on (NO CARRIER)
May 14 00:40:55 wrt350n local2.info chat[3644]: abort on (ERROR)
May 14 00:40:55 wrt350n local2.info chat[3644]: report (CONNECT)
May 14 00:40:55 wrt350n local2.info chat[3644]: timeout set to 10 seconds
May 14 00:40:55 wrt350n local2.info chat[3644]: send (AT&amp;F^M)
May 14 00:40:55 wrt350n local2.info chat[3644]: expect (OK)
May 14 00:40:55 wrt350n local2.info chat[3644]: AT&amp;F^M^M
May 14 00:40:55 wrt350n local2.info chat[3644]: OK
May 14 00:40:55 wrt350n local2.info chat[3644]:  -- got it
May 14 00:40:55 wrt350n local2.info chat[3644]: send (ATE1^M)
May 14 00:40:55 wrt350n local2.info chat[3644]: expect (OK)
May 14 00:40:55 wrt350n local2.info chat[3644]: ^M
May 14 00:40:56 wrt350n local2.info chat[3644]: ATE1^M^M
May 14 00:40:56 wrt350n local2.info chat[3644]: OK
May 14 00:40:56 wrt350n local2.info chat[3644]:  -- got it
May 14 00:40:56 wrt350n local2.info chat[3644]: send (AT+CGDCONT=1,&quot;IP&quot;,&quot;tre.it&quot;^M)
May 14 00:40:56 wrt350n local2.info chat[3644]: timeout set to 30 seconds
May 14 00:40:56 wrt350n local2.info chat[3644]: expect (OK)
May 14 00:40:56 wrt350n local2.info chat[3644]: ^M
May 14 00:40:56 wrt350n local2.info chat[3644]: AT+CGDCONT=1,&quot;IP&quot;,&quot;tre.it&quot;^M^M
May 14 00:40:56 wrt350n local2.info chat[3644]: OK
May 14 00:40:56 wrt350n local2.info chat[3644]:  -- got it
May 14 00:40:56 wrt350n local2.info chat[3644]: send (ATD*99***1#^M)
May 14 00:40:56 wrt350n local2.info chat[3644]: expect (CONNECT)
May 14 00:40:56 wrt350n local2.info chat[3644]: ^M
May 14 00:40:56 wrt350n local2.info chat[3644]: ATD*99***1#^M^M
May 14 00:40:56 wrt350n local2.info chat[3644]: CONNECT
May 14 00:40:56 wrt350n local2.info chat[3644]:  -- got it
May 14 00:40:56 wrt350n local2.info chat[3644]: send ( ^M)
May 14 00:40:56 wrt350n daemon.info pppd[3637]: Serial connection established.
May 14 00:40:56 wrt350n daemon.debug pppd[3637]: using channel 4
May 14 00:40:56 wrt350n daemon.info pppd[3637]: Using interface ppp0
May 14 00:40:56 wrt350n daemon.notice pppd[3637]: Connect: ppp0 &lt;--&gt; /dev/ttyUSB0
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: sent [LCP ConfReq id=0x1 &lt;asyncmap 0x0&gt; &lt;magic 0xbd404706&gt;]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: rcvd [LCP ConfReq id=0x1 &lt;accomp&gt; &lt;pcomp&gt; &lt;asyncmap 0x0&gt; &lt;mru 1440&gt; &lt;magic 0x549&gt; &lt;auth chap MD5&gt;]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: sent [LCP ConfRej id=0x1 &lt;accomp&gt; &lt;pcomp&gt;]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: rcvd [LCP ConfAck id=0x1 &lt;asyncmap 0x0&gt; &lt;magic 0xbd404706&gt;]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: rcvd [LCP ConfReq id=0x2 &lt;asyncmap 0x0&gt; &lt;mru 1440&gt; &lt;magic 0x549&gt; &lt;auth chap MD5&gt;]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: sent [LCP ConfAck id=0x2 &lt;asyncmap 0x0&gt; &lt;mru 1440&gt; &lt;magic 0x549&gt; &lt;auth chap MD5&gt;]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: sent [LCP EchoReq id=0x0 magic=0xbd404706]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: rcvd [CHAP Challenge id=0x1 &lt;ae1cc863be036fb1373bde7d14c0924c&gt;, name = &quot;HUAWEI_CHAP_SRVR&quot;]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: sent [CHAP Response id=0x1 &lt;705de9cd5fff7bb047f6183d991e3d6a&gt;, name = &quot;tre&quot;]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: rcvd [LCP EchoRep id=0x0 magic=0x549]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: rcvd [CHAP Success id=0x1 &quot;Welcome!!&quot;]
May 14 00:40:57 wrt350n daemon.info pppd[3637]: CHAP authentication succeeded: Welcome!!
May 14 00:40:57 wrt350n daemon.notice pppd[3637]: CHAP authentication succeeded
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: sent [IPCP ConfReq id=0x1 &lt;addr 0.0.0.0&gt;]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: rcvd [IPCP ConfReq id=0x1]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: sent [IPCP ConfNak id=0x1 &lt;addr 0.0.0.0&gt;]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: rcvd [IPCP ConfAck id=0x1]
May 14 00:40:57 wrt350n daemon.err pppd[3637]: Received bad configure-ack: 
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: rcvd [IPCP ConfReq id=0x2]
May 14 00:40:57 wrt350n daemon.debug pppd[3637]: sent [IPCP ConfAck id=0x2]
May 14 00:41:00 wrt350n daemon.debug pppd[3637]: sent [IPCP ConfReq id=0x1 &lt;addr 0.0.0.0&gt;]
May 14 00:41:01 wrt350n daemon.debug pppd[3637]: rcvd [IPCP ConfReq id=0x3]
May 14 00:41:01 wrt350n daemon.debug pppd[3637]: sent [IPCP ConfAck id=0x3]
May 14 00:41:01 wrt350n daemon.debug pppd[3637]: rcvd [IPCP ConfNak id=0x1 &lt;addr 10.90.0.95&gt;]
May 14 00:41:01 wrt350n daemon.debug pppd[3637]: sent [IPCP ConfReq id=0x2 &lt;addr 10.90.0.95&gt;]
May 14 00:41:01 wrt350n daemon.debug pppd[3637]: rcvd [IPCP ConfAck id=0x2 &lt;addr 10.90.0.95&gt;]
May 14 00:41:01 wrt350n daemon.warn pppd[3637]: Could not determine remote IP address: defaulting to 10.64.64.64
May 14 00:41:01 wrt350n daemon.notice pppd[3637]: replacing old default route to br-lan [192.168.0.17]
May 14 00:41:01 wrt350n daemon.notice pppd[3637]: local  IP address 10.90.0.95
May 14 00:41:01 wrt350n daemon.notice pppd[3637]: remote IP address 10.64.64.64
May 14 00:41:01 wrt350n daemon.debug pppd[3637]: Script /etc/ppp/ip-up started (pid 3651)
May 14 00:41:01 wrt350n user.notice root: adding wan (ppp0) to firewall zone wan
May 14 00:41:02 wrt350n user.notice rdate: Failed to sync with ptbtime2.ptb.de
May 14 00:41:02 wrt350n user.notice rdate: Failed to sync with ptbtime2.ptb.de
May 14 00:41:03 wrt350n user.notice rdate: Failed to sync with ptbtime2.ptb.de
May 14 00:41:03 wrt350n daemon.debug pppd[3637]: Script /etc/ppp/ip-up finished (pid 3651), status = 0x1</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135246">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">LinkZ</div>
					<div class="post-datetime">
						14 May 2011, 07:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sulacco wrote:</cite><blockquote><p>the tricky thing for using the E173:</p><p>/etc/modules.d/60-usb-serial:<br /></p><div class="codebox"><pre><code>usbserial vendor=0x12d1 product=0x1c05 maxSize=4096</code></pre></div></blockquote></div><p>I&#039;m not sure about the E173, but most Huawei modems use the Option serial driver.&nbsp; Sure, you can force it to use the generic serial driver, but performance will not be as good.&nbsp; To get the Option driver to work for the E173, just add the product ID to the usb_device_id struct in the option driver (drivers/usb/serial/option.c).&nbsp; You will need to select the Option driver in your config of course.</p><p>Regards,<br />Layne</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135247">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">obsy</div>
					<div class="post-datetime">
						14 May 2011, 08:20					</div>
				</div>
				<div class="post-content content">
					<p>without compile:<br /></p><div class="codebox"><pre><code>echo &quot;12d1 1c05&quot; &gt; /sys/bus/usb-serial/drivers/option1/new_id</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145468">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dorcky</div>
					<div class="post-datetime">
						9 Oct 2011, 21:15					</div>
				</div>
				<div class="post-content content">
					<p>Hello!<br />If I use @sulacco config files on huawei E173s i got this:<br /></p><div class="codebox"><pre><code>usb.c: USB disconnect on device 01:02.2-2 address 5
hub.c: new USB device 01:02.2-2, assigned address 6
usb.c: USB device 6 (vend/prod 0x12d1/0x1c0b) is not claimed by any active driver.
usb.c: USB disconnect on device 01:02.2-2 address 6
hub.c: new USB device 01:02.2-2, assigned address 7
usb.c: USB device 7 (vend/prod 0x12d1/0x1c05) is not claimed by any active driver.
usb.c: USB disconnect on device 01:02.2-2 address 7
hub.c: new USB device 01:02.2-2, assigned address 8
usb.c: USB device 8 (vend/prod 0x12d1/0x1c0b) is not claimed by any active driver.
usb.c: USB disconnect on device 01:02.2-2 address 8
hub.c: new USB device 01:02.2-2, assigned address 9
usb.c: USB device 9 (vend/prod 0x12d1/0x1c05) is not claimed by any active driver.</code></pre></div><p>Any hints please?</p><p>Thank`s</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145568">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">janptak</div>
					<div class="post-datetime">
						11 Oct 2011, 08:19					</div>
				</div>
				<div class="post-content content">
					<p>I think Yo should remove those two lines from Your wan interface configuration:<br /></p><div class="codebox"><pre><code>option &#039;defaultroute&#039; &#039;0&#039;
      option &#039;peerdns&#039; &#039;0&#039;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147524">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">tero999</div>
					<div class="post-datetime">
						3 Nov 2011, 23:34					</div>
				</div>
				<div class="post-content content">
					<p>Hello all.<br />I am trying to install e173 on backfire and I have a few problems. It seems that i get thru the hard part ans lsusb is showing correct id, but dongle&nbsp; won&#039; t work.</p><div class="codebox"><pre><code>root@OpenWrt:~# lsusb
Bus 002 Device 001: ID 0000:0000
Bus 001 Device 001: ID 0000:0000
Bus 001 Device 005: ID 12d1:1c05 Huawei Technologies Co., Ltd.</code></pre></div><div class="codebox"><pre><code>#### WAN configuration

config interface wan
        option ifname ppp0
        option pincode 1234
        option device /dev/ttyUSB0
        option apn internet.tusmobil.si
        option service umts
        option proto 3g
        option username tusmobil
        option password internet</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:~# ifup wan
Can&#039;t open device /dev/ttyUSB0.
wan(3g): Failed to set the PIN code.</code></pre></div><p>And where a logs about this? logread doens&#039;t show anything about usb, 3g etc...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147539">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						4 Nov 2011, 06:55					</div>
				</div>
				<div class="post-content content">
					<p>output of dmesg and logread?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147544">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">tero999</div>
					<div class="post-datetime">
						4 Nov 2011, 08:16					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>CPU revision is: 00029029
Primary instruction cache 16kB, physically tagged, 4-way, linesize 16 bytes.
Primary data cache 16kB, 2-way, linesize 16 bytes.
Linux version 2.4.37.9 (openwrt@wrt1.marcant.net) (gcc version 3.4.6 (OpenWrt-2.0)) #42 Tue Apr 6 15:59:04 CEST 2010
Setting the PFC to its default value
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
On node 0 totalpages: 4096
zone(0): 4096 pages.
zone(1): 0 pages.
zone(2): 0 pages.
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200
CPU: BCM5354 rev 3 at 240 MHz
Using 120.000 MHz high precision timer.
Calibrating delay loop... 237.56 BogoMIPS
Memory: 14240k/16384k available (1447k kernel code, 2144k reserved, 100k data, 84k init, 0k highmem)
Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)
Inode cache hash table entries: 1024 (order: 1, 8192 bytes)
Mount cache hash table entries: 512 (order: 0, 4096 bytes)
Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)
Page-cache hash table entries: 4096 (order: 2, 16384 bytes)
Checking for &#039;wait&#039; instruction...  unavailable.
POSIX conformance testing by UNIFIX
PCI: no core
PCI: Fixing up bus 0
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
Initializing RT netlink socket
Starting kswapd
Registering mini_fo version $Id$
devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.
squashfs: version 3.0 (2006/03/15) Phillip Lougher
pty: 256 Unix98 ptys configured
Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled
ttyS00 at 0xb8000300 (irq = 3) is a 16550A
ttyS01 at 0xb8000400 (irq = 3) is a 16550A
b44.c:v0.93 (Mar, 2004)
PCI: Setting latency timer of device 00:01.0 to 64
eth0: Broadcom 47xx 10/100BaseT Ethernet 20:cf:30:88:00:4f
Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0
Physically mapped flash: Found an alias at 0xc00000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1400000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1c00000 for the chip at 0x0
 Amd/Fujitsu Extended Query Table v1.1 at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling fast programming due to code brokenness.
Flash device: 0x400000 at 0x1c000000
bootloader size: 131072
Physically mapped flash: Filesystem type: squashfs, size=0x1a68f2
Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:
0x00000000-0x00020000 : &quot;cfe&quot;
0x00020000-0x003f0000 : &quot;linux&quot;
0x0009c000-0x00250000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only
0x003f0000-0x00400000 : &quot;nvram&quot;
0x00250000-0x003f0000 : &quot;rootfs_data&quot;
sflash: found no supported devices
Initializing Cryptographic API
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 1024 bind 2048)
Linux IP multicast router 0.06 plus PIM-SM
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
NET4: Ethernet Bridge 008 for NET4.0
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Mounted devfs on /dev
Freeing unused kernel memory: 84k freed
diag: Detected &#039;ASUS WL-520gU&#039;
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
roboswitch: Probing device eth0: found a 5325! It&#039;s a 5350.
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
mini_fo: using base directory: /
mini_fo: using storage directory: /overlay
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
jffs2.bbc: SIZE compression mode activated.
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
usb.c: registered new driver usbdevfs
usb.c: registered new driver hub
eth0.0: add 01:00:5e:00:00:01 mcast address to master interface
eth0.0: dev_set_promiscuity(master, 1)
device eth0 entered promiscuous mode
device eth0.0 entered promiscuous mode
br-lan: port 1(eth0.0) entering learning state
br-lan: port 1(eth0.0) entering forwarding state
br-lan: topology change detected, propagating
PCI: Setting latency timer of device 00:05.0 to 64
PCI/DMA
wl0: wlc_attach: chiprev 3 coreunit 0 corerev 13 cccap 0x104007ea maccap 0x30482205 band 2.4G, phy_type 5 phy_rev 0 ana_rev 6
wl0: Broadcom BCM4318 802.11 Wireless Controller 4.150.10.5
CSLIP: code copyright 1989 Regents of the University of California
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2002 Netfilter core team
SB USB20H init
SB COREREV: 2
SB USB20H resetting
USB20H fcr: 0x64
USB20H shim cr: 0x8f7
PCI: Setting latency timer of device 00:03.1 to 64
ehci_hcd 00:03.1: PCI device 14e4:471a
ehci_hcd 00:03.1: irq 6, pci mem b8003800
usb.c: new USB bus registered, assigned bus number 1
ehci_hcd 00:03.1: illegal capability!
ehci_hcd 00:03.1: USB 0.0 enabled, EHCI 1.00, driver 2003-Dec-29/2.4
hub.c: USB hub found
hub.c: 2 ports detected
ip_conntrack version 2.1 (5953 buckets, 5953 max) - 352 bytes per conntrack
SB USB20H init
SB COREREV: 2
USB20H fcr: 0x64
USB20H shim cr: 0x8f7
PCI: Setting latency timer of device 00:03.0 to 64
usb-ohci.c: USB OHCI at membase 0xb8003000, IRQ 6
usb-ohci.c: usb-00:03.0, PCI device 14e4:471a
usb.c: new USB bus registered, assigned bus number 2
hub.c: USB hub found
hub.c: 2 ports detected
uhci.c: USB Universal Host Controller Interface driver v1.1
usb.c: registered new driver serial
usbserial.c: USB Serial support registered for Generic
usbserial.c: USB Serial Driver core v1.4
hub.c: new USB device 00:03.1-1, assigned address 2
usbserial.c: Generic converter detected
usbserial.c: Generic converter now attached to ttyUSB0 (or usb/tts/0 for devfs)
usbserial.c: Generic converter detected
usbserial.c: Generic converter now attached to ttyUSB1 (or usb/tts/1 for devfs)</code></pre></div><div class="codebox"><pre><code>Apr  6 02:18:00 OpenWrt user.warn kernel: Primary instruction cache 16kB, physically tagged, 4-way, linesize 16 bytes.
Apr  6 02:18:00 OpenWrt user.warn kernel: Primary data cache 16kB, 2-way, linesize 16 bytes.
Apr  6 02:18:00 OpenWrt user.warn kernel: Linux version 2.4.37.9 (openwrt@wrt1.marcant.net) (gcc version 3.4.6 (OpenWrt-2.0)) #42 Tue Apr 6 15:59:04 CEST 2010
Apr  6 02:18:00 OpenWrt user.warn kernel: Setting the PFC to its default value
Apr  6 02:18:00 OpenWrt user.warn kernel: Determined physical RAM map:
Apr  6 02:18:00 OpenWrt user.warn kernel:  memory: 01000000 @ 00000000 (usable)
Apr  6 02:18:00 OpenWrt user.warn kernel: On node 0 totalpages: 4096
Apr  6 02:18:00 OpenWrt user.warn kernel: zone(0): 4096 pages.
Apr  6 02:18:00 OpenWrt user.warn kernel: zone(1): 0 pages.
Apr  6 02:18:00 OpenWrt user.warn kernel: zone(2): 0 pages.
Apr  6 02:18:00 OpenWrt user.warn kernel: Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200
Apr  6 02:18:00 OpenWrt user.warn kernel: CPU: BCM5354 rev 3 at 240 MHz
Apr  6 02:18:00 OpenWrt user.warn kernel: Using 120.000 MHz high precision timer.
Apr  6 02:18:00 OpenWrt user.warn kernel: Calibrating delay loop... 237.56 BogoMIPS
Apr  6 02:18:00 OpenWrt user.info kernel: Memory: 14240k/16384k available (1447k kernel code, 2144k reserved, 100k data, 84k init, 0k highmem)
Apr  6 02:18:00 OpenWrt user.info kernel: Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)
Apr  6 02:18:00 OpenWrt user.info kernel: Inode cache hash table entries: 1024 (order: 1, 8192 bytes)
Apr  6 02:18:00 OpenWrt user.info kernel: Mount cache hash table entries: 512 (order: 0, 4096 bytes)
Apr  6 02:18:00 OpenWrt user.info kernel: Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)
Apr  6 02:18:00 OpenWrt user.warn kernel: Page-cache hash table entries: 4096 (order: 2, 16384 bytes)
Apr  6 02:18:00 OpenWrt user.warn kernel: Checking for &#039;wait&#039; instruction...  unavailable.
Apr  6 02:18:00 OpenWrt user.warn kernel: POSIX conformance testing by UNIFIX
Apr  6 02:18:00 OpenWrt user.warn kernel: PCI: no core
Apr  6 02:18:00 OpenWrt user.warn kernel: PCI: Fixing up bus 0
Apr  6 02:18:00 OpenWrt user.info kernel: Linux NET4.0 for Linux 2.4
Apr  6 02:18:00 OpenWrt user.info kernel: Based upon Swansea University Computer Society NET3.039
Apr  6 02:18:00 OpenWrt user.warn kernel: Initializing RT netlink socket
Apr  6 02:18:00 OpenWrt user.warn kernel: Starting kswapd
Apr  6 02:18:00 OpenWrt user.warn kernel: Registering mini_fo version $Id$
Apr  6 02:18:00 OpenWrt user.info kernel: devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)
Apr  6 02:18:00 OpenWrt user.info kernel: devfs: boot_options: 0x1
Apr  6 02:18:00 OpenWrt user.notice kernel: JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.
Apr  6 02:18:00 OpenWrt user.info kernel: squashfs: version 3.0 (2006/03/15) Phillip Lougher
Apr  6 02:18:00 OpenWrt user.warn kernel: pty: 256 Unix98 ptys configured
Apr  6 02:18:00 OpenWrt user.info kernel: Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled
Apr  6 02:18:00 OpenWrt user.info kernel: ttyS00 at 0xb8000300 (irq = 3) is a 16550A
Apr  6 02:18:00 OpenWrt user.info kernel: ttyS01 at 0xb8000400 (irq = 3) is a 16550A
Apr  6 02:18:00 OpenWrt user.info kernel: b44.c:v0.93 (Mar, 2004)
Apr  6 02:18:00 OpenWrt user.debug kernel: PCI: Setting latency timer of device 00:01.0 to 64
Apr  6 02:18:00 OpenWrt user.info kernel: eth0: Broadcom 47xx 10/100BaseT Ethernet 20:cf:30:88:00:4f
Apr  6 02:18:00 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0
Apr  6 02:18:00 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0
Apr  6 02:18:00 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0xc00000 for the chip at 0x0
Apr  6 02:18:00 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0
Apr  6 02:18:00 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1400000 for the chip at 0x0
Apr  6 02:18:00 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0
Apr  6 02:18:00 OpenWrt user.debug kernel: Physically mapped flash: Found an alias at 0x1c00000 for the chip at 0x0
Apr  6 02:18:00 OpenWrt user.notice kernel:  Amd/Fujitsu Extended Query Table v1.1 at 0x0040
Apr  6 02:18:00 OpenWrt user.notice kernel: number of CFI chips: 1
Apr  6 02:18:00 OpenWrt user.notice kernel: cfi_cmdset_0002: Disabling fast programming due to code brokenness.
Apr  6 02:18:00 OpenWrt user.notice kernel: Flash device: 0x400000 at 0x1c000000
Apr  6 02:18:00 OpenWrt user.notice kernel: bootloader size: 131072
Apr  6 02:18:00 OpenWrt user.info kernel: Physically mapped flash: Filesystem type: squashfs, size=0x1a68f2
Apr  6 02:18:00 OpenWrt user.notice kernel: Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:
Apr  6 02:18:00 OpenWrt user.notice kernel: 0x00000000-0x00020000 : &quot;cfe&quot;
Apr  6 02:18:00 OpenWrt user.notice kernel: 0x00020000-0x003f0000 : &quot;linux&quot;
Apr  6 02:18:00 OpenWrt user.notice kernel: 0x0009c000-0x00250000 : &quot;rootfs&quot;
Apr  6 02:18:00 OpenWrt user.warn kernel: mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only
Apr  6 02:18:00 OpenWrt user.notice kernel: 0x003f0000-0x00400000 : &quot;nvram&quot;
Apr  6 02:18:00 OpenWrt user.notice kernel: 0x00250000-0x003f0000 : &quot;rootfs_data&quot;
Apr  6 02:18:00 OpenWrt user.err kernel: sflash: found no supported devices
Apr  6 02:18:00 OpenWrt user.info kernel: Initializing Cryptographic API
Apr  6 02:18:00 OpenWrt user.info kernel: NET4: Linux TCP/IP 1.0 for NET4.0
Apr  6 02:18:00 OpenWrt user.info kernel: IP Protocols: ICMP, UDP, TCP, IGMP
Apr  6 02:18:00 OpenWrt user.info kernel: IP: routing cache hash table of 512 buckets, 4Kbytes
Apr  6 02:18:00 OpenWrt user.info kernel: TCP: Hash tables configured (established 1024 bind 2048)
Apr  6 02:18:00 OpenWrt user.info kernel: Linux IP multicast router 0.06 plus PIM-SM
Apr  6 02:18:00 OpenWrt user.info kernel: NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
Apr  6 02:18:00 OpenWrt user.info kernel: NET4: Ethernet Bridge 008 for NET4.0
Apr  6 02:18:00 OpenWrt user.info kernel: 802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
Apr  6 02:18:00 OpenWrt user.info kernel: All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Apr  6 02:18:00 OpenWrt user.warn kernel: VFS: Mounted root (squashfs filesystem) readonly.
Apr  6 02:18:00 OpenWrt user.info kernel: Mounted devfs on /dev
Apr  6 02:18:00 OpenWrt user.info kernel: Freeing unused kernel memory: 84k freed
Apr  6 02:18:00 OpenWrt user.warn kernel: diag: Detected &#039;ASUS WL-520gU&#039;
Apr  6 02:18:00 OpenWrt user.info kernel: b44: eth0: Link is up at 100 Mbps, full duplex.
Apr  6 02:18:00 OpenWrt user.info kernel: b44: eth0: Flow control is off for TX and off for RX.
Apr  6 02:18:00 OpenWrt user.info kernel: roboswitch: Probing device eth0: found a 5325! It&#039;s a 5350.
Apr  6 02:18:00 OpenWrt user.info kernel: b44: eth0: Link is up at 100 Mbps, full duplex.
Apr  6 02:18:00 OpenWrt user.info kernel: b44: eth0: Flow control is off for TX and off for RX.
Apr  6 02:18:00 OpenWrt user.info kernel: b44: eth0: Link is up at 100 Mbps, full duplex.
Apr  6 02:18:00 OpenWrt user.info kernel: b44: eth0: Flow control is off for TX and off for RX.
Apr  6 02:18:00 OpenWrt user.info kernel: mini_fo: using base directory: /
Apr  6 02:18:00 OpenWrt user.info kernel: mini_fo: using storage directory: /overlay
Apr  6 02:18:00 OpenWrt user.info kernel: b44: eth0: Link is up at 100 Mbps, full duplex.
Apr  6 02:18:00 OpenWrt user.info kernel: b44: eth0: Flow control is off for TX and off for RX.
Apr  6 02:18:00 OpenWrt user.info kernel: b44: eth0: Link is up at 100 Mbps, full duplex.
Apr  6 02:18:00 OpenWrt user.info kernel: b44: eth0: Flow control is off for TX and off for RX.
Apr  6 02:18:00 OpenWrt user.warn kernel: jffs2.bbc: SIZE compression mode activated.
Apr  6 02:18:03 OpenWrt user.info kernel: b44: eth0: Link is up at 100 Mbps, full duplex.
Apr  6 02:18:03 OpenWrt user.info kernel: b44: eth0: Flow control is off for TX and off for RX.
Apr  6 02:18:04 OpenWrt user.info kernel: usb.c: registered new driver usbdevfs
Apr  6 02:18:04 OpenWrt user.info kernel: usb.c: registered new driver hub
Apr  6 02:18:05 OpenWrt user.debug kernel: eth0.0: add 01:00:5e:00:00:01 mcast address to master interface
Apr  6 02:18:05 OpenWrt user.info kernel: eth0.0: dev_set_promiscuity(master, 1)
Apr  6 02:18:05 OpenWrt user.info kernel: device eth0 entered promiscuous mode
Apr  6 02:18:05 OpenWrt user.info kernel: device eth0.0 entered promiscuous mode
Apr  6 02:18:05 OpenWrt user.info kernel: br-lan: port 1(eth0.0) entering learning state
Apr  6 02:18:05 OpenWrt user.info kernel: br-lan: port 1(eth0.0) entering forwarding state
Apr  6 02:18:05 OpenWrt user.info kernel: br-lan: topology change detected, propagating
Apr  6 02:18:07 OpenWrt user.debug kernel: PCI: Setting latency timer of device 00:05.0 to 64
Apr  6 02:18:07 OpenWrt user.emerg kernel: PCI/DMA
Apr  6 02:18:07 OpenWrt user.emerg kernel: wl0: wlc_attach: chiprev 3 coreunit 0 corerev 13 cccap 0x104007ea maccap 0x30482205 band 2.4G, phy_type 5 phy_rev 0 ana_rev 6
Apr  6 02:18:07 OpenWrt user.warn kernel: wl0: Broadcom BCM4318 802.11 Wireless Controller 4.150.10.5
Apr  6 02:18:07 OpenWrt user.info sysinit: Warning: loading wl will taint the kernel: non-GPL license - Proprietary
Apr  6 02:18:07 OpenWrt user.info sysinit:   See http://www.tux.org/lkml/#export-tainted for information about tainted modules
Apr  6 02:18:07 OpenWrt user.info kernel: CSLIP: code copyright 1989 Regents of the University of California
Apr  6 02:18:07 OpenWrt user.info kernel: PPP generic driver version 2.4.2
Apr  6 02:18:08 OpenWrt user.warn kernel: ip_tables: (C) 2000-2002 Netfilter core team
Apr  6 02:18:09 OpenWrt user.info kernel: SB USB20H init
Apr  6 02:18:09 OpenWrt user.info kernel: SB COREREV: 2
Apr  6 02:18:09 OpenWrt user.info kernel: SB USB20H resetting
Apr  6 02:18:09 OpenWrt user.info kernel: USB20H fcr: 0x64
Apr  6 02:18:09 OpenWrt user.info kernel: USB20H shim cr: 0x8f7
Apr  6 02:18:09 OpenWrt user.debug kernel: PCI: Setting latency timer of device 00:03.1 to 64
Apr  6 02:18:09 OpenWrt user.info kernel: ehci_hcd 00:03.1: PCI device 14e4:471a
Apr  6 02:18:09 OpenWrt user.info kernel: ehci_hcd 00:03.1: irq 6, pci mem b8003800
Apr  6 02:18:09 OpenWrt user.info kernel: usb.c: new USB bus registered, assigned bus number 1
Apr  6 02:18:09 OpenWrt user.warn kernel: ehci_hcd 00:03.1: illegal capability!
Apr  6 02:18:09 OpenWrt user.info kernel: ehci_hcd 00:03.1: USB 0.0 enabled, EHCI 1.00, driver 2003-Dec-29/2.4
Apr  6 02:18:09 OpenWrt user.info kernel: hub.c: USB hub found
Apr  6 02:18:09 OpenWrt user.info kernel: hub.c: 2 ports detected
Apr  6 02:18:10 OpenWrt user.warn kernel: ip_conntrack version 2.1 (5953 buckets, 5953 max) - 352 bytes per conntrack
Apr  6 02:18:11 OpenWrt user.info kernel: SB USB20H init
Apr  6 02:18:11 OpenWrt user.info kernel: SB COREREV: 2
Apr  6 02:18:11 OpenWrt user.info kernel: USB20H fcr: 0x64
Apr  6 02:18:11 OpenWrt user.info kernel: USB20H shim cr: 0x8f7
Apr  6 02:18:11 OpenWrt user.debug kernel: PCI: Setting latency timer of device 00:03.0 to 64
Apr  6 02:18:11 OpenWrt user.info kernel: usb-ohci.c: USB OHCI at membase 0xb8003000, IRQ 6
Apr  6 02:18:11 OpenWrt user.info kernel: usb-ohci.c: usb-00:03.0, PCI device 14e4:471a
Apr  6 02:18:11 OpenWrt user.info kernel: usb.c: new USB bus registered, assigned bus number 2
Apr  6 02:18:11 OpenWrt user.info kernel: hub.c: USB hub found
Apr  6 02:18:11 OpenWrt user.info kernel: hub.c: 2 ports detected
Apr  6 02:18:12 OpenWrt user.info kernel: uhci.c: USB Universal Host Controller Interface driver v1.1
Apr  6 02:18:12 OpenWrt user.info kernel: usb.c: registered new driver serial
Apr  6 02:18:12 OpenWrt user.info kernel: usbserial.c: USB Serial support registered for Generic
Apr  6 02:18:12 OpenWrt user.info kernel: usbserial.c: USB Serial Driver core v1.4
Apr  6 02:18:13 OpenWrt user.info sysinit: &#039;wl0&#039; is disabled
Apr  6 02:18:13 OpenWrt user.info sysinit: &#039;wl0&#039; is disabled
Apr  6 02:18:14 OpenWrt user.info sysinit: Loading defaults
Apr  6 02:18:15 OpenWrt user.info kernel: hub.c: new USB device 00:03.1-1, assigned address 2
Apr  6 02:18:15 OpenWrt user.info kernel: usbserial.c: Generic converter detected
Apr  6 02:18:15 OpenWrt user.info kernel: usbserial.c: Generic converter now attached to ttyUSB0 (or usb/tts/0 for devfs)
Apr  6 02:18:15 OpenWrt user.info kernel: usbserial.c: Generic converter detected
Apr  6 02:18:15 OpenWrt user.info kernel: usbserial.c: Generic converter now attached to ttyUSB1 (or usb/tts/1 for devfs)
Apr  6 02:18:15 OpenWrt user.info sysinit: Loading synflood protection
Apr  6 02:18:15 OpenWrt user.info sysinit: Adding custom chains
Apr  6 02:18:16 OpenWrt user.info sysinit: Loading zones
Apr  6 02:18:18 OpenWrt user.info sysinit: Loading forwarding
Apr  6 02:18:18 OpenWrt user.info sysinit: Loading redirects
Apr  6 02:18:18 OpenWrt user.info sysinit: Loading rules
Apr  6 02:18:18 OpenWrt user.info sysinit: Loading includes
Apr  6 02:18:18 OpenWrt user.info sysinit: Loading zone defaults
Apr  6 02:18:19 OpenWrt authpriv.info dropbear[585]: Running in background
Apr  6 02:18:19 OpenWrt user.info sysinit: WARNING: the specified certificate and key files do not exist and the px5g generator is not available, skipping SSL setup.
Apr  6 02:18:21 OpenWrt daemon.info dnsmasq[606]: started, version 2.52 cachesize 150
Apr  6 02:18:21 OpenWrt daemon.info dnsmasq[606]: compile time options: IPv6 GNU-getopt no-DBus no-I18N DHCP TFTP
Apr  6 02:18:21 OpenWrt daemon.info dnsmasq[606]: using local addresses only for domain lan
Apr  6 02:18:21 OpenWrt daemon.warn dnsmasq[606]: no servers found in /tmp/resolv.conf.auto, will retry
Apr  6 02:18:21 OpenWrt daemon.info dnsmasq[606]: read /etc/hosts - 1 addresses
Apr  6 02:32:24 OpenWrt daemon.info init: starting pid 125, tty &#039;/dev/tts/0&#039;: &#039;/bin/ash --login&#039;
Apr  6 02:33:22 OpenWrt user.notice root: adding lan (br-lan) to firewall zone lan
Apr  6 02:33:22 OpenWrt daemon.info dnsmasq[606]: reading /tmp/resolv.conf.auto
Apr  6 02:33:22 OpenWrt daemon.info dnsmasq[606]: using nameserver 192.168.0.1#53
Apr  6 02:33:22 OpenWrt daemon.info dnsmasq[606]: using local addresses only for domain lan
Nov  4 06:09:50 OpenWrt user.notice rdate: Synced with ptbtime1.ptb.de
Nov  4 06:10:03 OpenWrt authpriv.info dropbear[735]: Child connection from 192.168.0.2:61853
Nov  4 06:10:05 OpenWrt authpriv.warn dropbear[735]: bad password attempt for &#039;root&#039; from 192.168.0.2:61853
Nov  4 06:10:07 OpenWrt authpriv.warn dropbear[735]: bad password attempt for &#039;root&#039; from 192.168.0.2:61853
Nov  4 06:10:09 OpenWrt authpriv.warn dropbear[735]: bad password attempt for &#039;root&#039; from 192.168.0.2:61853
Nov  4 06:10:13 OpenWrt authpriv.warn dropbear[735]: bad password attempt for &#039;root&#039; from 192.168.0.2:61853
Nov  4 06:10:14 OpenWrt authpriv.info dropbear[735]: exit before auth (user &#039;root&#039;, 4 fails): Disconnect received
Nov  4 06:10:30 OpenWrt auth.info passwd: Password for root changed by root
Nov  4 06:10:41 OpenWrt authpriv.info dropbear[745]: Child connection from 192.168.0.2:61855
Nov  4 06:10:42 OpenWrt authpriv.notice dropbear[745]: password auth succeeded for &#039;root&#039; from 192.168.0.2:61855
Nov  4 06:11:19 OpenWrt authpriv.info dropbear[745]: exit after auth (root): Exited normally
Nov  4 06:12:12 OpenWrt authpriv.info dropbear[756]: Child connection from 192.168.0.2:61887
Nov  4 06:12:13 OpenWrt authpriv.notice dropbear[756]: password auth succeeded for &#039;root&#039; from 192.168.0.2:61887
Nov  4 06:12:43 OpenWrt authpriv.info dropbear[756]: exit after auth (root): Exited normally
Nov  4 06:12:57 OpenWrt authpriv.info dropbear[768]: Child connection from 192.168.0.2:61893
Nov  4 06:12:58 OpenWrt authpriv.notice dropbear[768]: password auth succeeded for &#039;root&#039; from 192.168.0.2:61893
Nov  4 06:13:13 OpenWrt authpriv.info dropbear[768]: exit after auth (root): Exited normally</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147548">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						4 Nov 2011, 09:40					</div>
				</div>
				<div class="post-content content">
					<p>are you sure you have a pin active? If so, is it the correct one ?<br />Also you could try with ttyUSB1.<br />If it still doesn&#039;t work try on usb_modeswitch forum for some hints - <a href="http://www.draisberghof.de/usb_modeswitch/bb/">http://www.draisberghof.de/usb_modeswitch/bb/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147559">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						4 Nov 2011, 11:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>LinkZ wrote:</cite><blockquote><p>Sure, you can force it to use the generic serial driver, but performance will not be as good.&nbsp; <br />Regards,<br />Layne</p></blockquote></div><p>what? Isn&#039;t the usb-serial-option is just a facility to avoid editing /etc/modules.d/60-usb-serial?<br />How could it affect the performance?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147592">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">tero999</div>
					<div class="post-datetime">
						4 Nov 2011, 17:38					</div>
				</div>
				<div class="post-content content">
					<p>usb_modeswitch works fine. I first is the &quot;wrong&quot; id then is the correct one. I just seem can&#039;t cannoct. I have setup a pin 1234 on my simcard and I even tried to replace my proivider(my e173 in unlocked - and of course I changed the setting) and still doesn&#039;t work <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />Any ideas? Is ti possible that in 2.4 kernel this doesn&#039;t work?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147644">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						5 Nov 2011, 08:56					</div>
				</div>
				<div class="post-content content">
					<p>k 2.4 is only for older broadcom devices<br />there are a few other distributions with support for usb 3G dongles...<br />what router do have ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147671">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">tero999</div>
					<div class="post-datetime">
						5 Nov 2011, 14:05					</div>
				</div>
				<div class="post-content content">
					<p>I have an Asus wl520gu, and I used 2.4 because of <a href="https://dev.openwrt.org/ticket/6907">this bug</a> ( I need the wifi)<br />Does this mean that I can&#039;t use my 3g dongle on my router?</p>											<p class="post-edited">(Last edited by <strong>tero999</strong> on 5 Nov 2011, 14:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147749">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">tero999</div>
					<div class="post-datetime">
						6 Nov 2011, 16:41					</div>
				</div>
				<div class="post-content content">
					<p>Ok I have finally setup 3g connection on a brcm47xx firmware, but I can&#039;t use wifi. So there is no way that this works on 2.4 kernel?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147779">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						6 Nov 2011, 22:32					</div>
				</div>
				<div class="post-content content">
					<p>try backfire 10.03.1-rc6 k2.4</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>