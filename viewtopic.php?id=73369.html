<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Accessing USB stick</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p372723">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">balanga</div>
					<div class="post-datetime">
						24 Feb 2018, 13:06					</div>
				</div>
				<div class="post-content content">
					<p>How can I tell if OpenWrt sees the USB stick which has been inserted?</p><p>Would it be seen as /dev/sda?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372724">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rj-45</div>
					<div class="post-datetime">
						24 Feb 2018, 13:10					</div>
				</div>
				<div class="post-content content">
					<p>login via ssh and type <br /></p><div class="codebox"><pre><code>dmesg</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372725">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">balanga</div>
					<div class="post-datetime">
						24 Feb 2018, 13:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rj-45 wrote:</cite><blockquote><p>login via ssh and type <br /></p><div class="codebox"><pre><code>dmesg</code></pre></div></blockquote></div><p>I did that but didn&#039;t understand what it meant or how to mount it<br /></p><div class="codebox"><pre><code>usb 1-1.1: new high speed USB device number 3 using ehci-platform</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372730">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rj-45</div>
					<div class="post-datetime">
						24 Feb 2018, 16:29					</div>
				</div>
				<div class="post-content content">
					<p>Have you read these articles:<br /><a href="https://wiki.openwrt.org/doc/howto/usb.storage">https://wiki.openwrt.org/doc/howto/usb.storage</a><br />and first<br /><a href="https://wiki.openwrt.org/doc/howto/usb.essentials">https://wiki.openwrt.org/doc/howto/usb.essentials</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372734">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">balanga</div>
					<div class="post-datetime">
						24 Feb 2018, 17:52					</div>
				</div>
				<div class="post-content content">
					<p>I tried following the links although there is plenty of scope for misunderstanding. </p><p>I&#039;ve now installed kmod-usb-storage but am unable to install kmode-fs-msdosfs...</p><p>What is the OpenWrt equivalent of lsblk or blkid?</p><p>When a USB stick is inserted there are dmesg msgs showing USB Mass Storage device detected, but I am unable to mount it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372735">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">rj-45</div>
					<div class="post-datetime">
						24 Feb 2018, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>did you install <br /></p><div class="codebox"><pre><code>kmod-usb2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372736">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">balanga</div>
					<div class="post-datetime">
						24 Feb 2018, 19:20					</div>
				</div>
				<div class="post-content content">
					<p>Yes.&nbsp; I installed:-<br />kmod-usb2<br />kmod-usb-storage</p><p>But was unable to install:-<br />kmod-fs-msdofs</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372738">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">rj-45</div>
					<div class="post-datetime">
						24 Feb 2018, 19:32					</div>
				</div>
				<div class="post-content content">
					<p>the error message would be helpful</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372740">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">balanga</div>
					<div class="post-datetime">
						24 Feb 2018, 19:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rj-45 wrote:</cite><blockquote><p>the error message would be helpful</p></blockquote></div><div class="codebox"><pre><code>Unknown package &#039;kmod-fs-msdosfs&#039;.</code></pre></div><br /><p>ntfs installed ok.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372741">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						24 Feb 2018, 20:40					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s kmod-fs-msdos.&nbsp; You may need kmod-fs-vfat or kmod-fs-extfat depending on the format on the drive.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372742">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">balanga</div>
					<div class="post-datetime">
						24 Feb 2018, 20:41					</div>
				</div>
				<div class="post-content content">
					<p>I managed to access an NTFS formatted USB stick, so I&#039;m getting the hang of it.<br />Accessing a FAT partition is still on my ToDo list...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372748">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">F5BJR</div>
					<div class="post-datetime">
						25 Feb 2018, 00:05					</div>
				</div>
				<div class="post-content content">
					<p>For ntfs ( read &amp; write ) </p><p>remove kmod-fs-ntfs and install ntfs-3g </p><p><a href="https://wiki.openwrt.org/doc/howto/writable_ntfs">https://wiki.openwrt.org/doc/howto/writable_ntfs</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372775">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">yiwang</div>
					<div class="post-datetime">
						25 Feb 2018, 13:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>balanga wrote:</cite><blockquote><p>Yes.&nbsp; I installed:-<br />kmod-usb2<br />kmod-usb-storage</p><p>But was unable to install:-<br />kmod-fs-msdofs</p></blockquote></div><p>Hi,i got one tl-wr720n,and flash with `openw71xx-generic-tl-wr720n-v3-squashfs-factory.bin`.<br />When i input `opkg install kmod-usb-storage`,the result is:<br /><strong>Unknown package &#039;kmod-usb-storage&#039;.<br />Collected errors:<br /> * opkg_install_cmd: Cannot install package kmod-usb-storage.</strong><br />Now,how should i solve it?Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372776">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">rj-45</div>
					<div class="post-datetime">
						25 Feb 2018, 14:07					</div>
				</div>
				<div class="post-content content">
					<p>did you run<br /></p><div class="codebox"><pre><code>opkg update</code></pre></div><p>But I think the 720n hasn&#039;t enough space to install the packages <br /><a href="https://wiki.openwrt.org/toh/tp-link/tl-wr720n,">https://wiki.openwrt.org/toh/tp-link/tl-wr720n,</a> it has only 4MB flash</p>											<p class="post-edited">(Last edited by <strong>rj-45</strong> on 25 Feb 2018, 14:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372777">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						25 Feb 2018, 15:23					</div>
				</div>
				<div class="post-content content">
					<p>@yiwang</p><p>Devices with only 4MB flash have serious problems with not enough space being available for installation of additional packages. Suggested reading regarding devices with low flash/RAM (yes, you should read them all and thoroughly.):</p><ul><li><p><a href="https://openwrt.org/supported_devices/432_warning">https://openwrt.org/supported_devices/432_warning</a><br />General advice regarding devices with low flash/RAM</p></li><li><p><a href="https://openwrt.org/faq/after_installation#no_space_left_on_device">https://openwrt.org/faq/after_installat … _on_device</a><br />With only 250kB left for package installation, you will soon stumble over the error message _No space left on device_. The linked section shows some solutions.</p></li><li><p><a href="https://openwrt.org/docs/user-guide/additional-software/imagebuilder">https://openwrt.org/docs/user-guide/add … agebuilder</a><br /><strong>You need to build your own space optimized image</strong>, with only the packages included that you really need. Imagebuilder is the easiest way to do so.</p></li><li><p><a href="https://openwrt.org/faq/before_installation#which_packages_can_i_safely_remove_to_save_space">https://openwrt.org/faq/before_installa … save_space</a><br />When you build your own image, you want to exclude unneeded packages to save space for needed packages.</p></li><li><p><a href="https://openwrt.org/docs/user-guide/additional-software/extroot_configuration">https://openwrt.org/docs/user-guide/add … figuration</a> - Another solution for the _No space left on device_ problem (only for devices with USB port).</p></li></ul>											<p class="post-edited">(Last edited by <strong>tmo26</strong> on 25 Feb 2018, 15:24)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>