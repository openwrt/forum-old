<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> usb soundcard not detected</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p144560">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						27 Sep 2011, 00:53					</div>
				</div>
				<div class="post-content content">
					<p>I flash my router (asus wl-600g) with backfire 10.03.1 rc5 (brcm63xx) and tried to get usb sound.<br />but no of two soundcards are detected. what could be wrong?</p><p>I&#039;m not sure, but could it be something with this issue: CONFIG_USB_EHCI_TT_NEWSCHED=y see <a href="https://dev.openwrt.org/ticket/7910">https://dev.openwrt.org/ticket/7910</a></p><p>is it better to flash the snapshot version?</p><p>her some information</p><p>lsusb<br /></p><div class="codebox"><pre><code>Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 001 Device 002: ID 07ab:fcf6 Freecom Technologies</code></pre></div><p>dmesg<br /></p><div class="codebox"><pre><code>Linux version 2.6.32.27 (jow@nd-build-02.linux-appliance.net) (gcc version 4.3.3 (GCC) ) #8 Fri Jul 15 05:02:16 CEST 2011
Detected Broadcom 0x6348 CPU revision b0
CPU frequency is 256 MHz
16MB of RAM installed
registering 37 GPIOs
board_bcm963xx: CFE version: 1.0.37-0.8
bootconsole [early0] enabled
CPU revision is: 00029107 (Broadcom BCM6348)
board_bcm963xx: board name: 96348GW-10
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00001000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00001000
On node 0 totalpages: 4096
free_area_init_node: node 0, pgdat 802981f0, node_mem_map 802df000
  Normal zone: 32 pages used for memmap
  Normal zone: 0 pages reserved
  Normal zone: 4064 pages, LIFO batch:0
Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200
PID hash table entries: 64 (order: -4, 256 bytes)
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Primary instruction cache 16kB, VIPT, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, VIPT, no aliases, linesize 16 bytes
Memory: 13284k/16384k available (2140k kernel code, 3100k reserved, 453k data, 140k init, 0k highmem)
Hierarchical RCU implementation.
NR_IRQS:128
Calibrating delay loop... 254.97 BogoMIPS (lpj=509952)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
registering PCI controller with io_map_base unset
registering PCI controller with io_map_base unset
bio: create slab &lt;bio-0&gt; at 0
pci 0000:00:01.0: reg 10 32bit mmio: [0x000000-0x001fff]
pci 0000:00:07.0: reg 20 io port: [0xfce0-0xfcff]
pci 0000:00:07.0: supports D1 D2
pci 0000:00:07.0: PME# supported from D0 D1 D2 D3hot
pci 0000:00:07.0: PME# disabled
pci 0000:00:07.1: reg 20 io port: [0xfce0-0xfcff]
pci 0000:00:07.1: supports D1 D2
pci 0000:00:07.1: PME# supported from D0 D1 D2 D3hot
pci 0000:00:07.1: PME# disabled
pci 0000:00:07.2: reg 10 32bit mmio: [0x000000-0x0000ff]
pci 0000:00:07.2: supports D1 D2
pci 0000:00:07.2: PME# supported from D0 D1 D2 D3hot
pci 0000:00:07.2: PME# disabled
pci 0000:01:1e.0: CardBus bridge, secondary bus 0000:02
pci 0000:01:1e.0:   IO window: 0x8008000-0x80080ff
pci 0000:01:1e.0:   IO window: 0x8008400-0x80084ff
pci 0000:01:1e.0:   MEM window: 0x38000000-0x3fffffff
PCI: Enabling device 0000:01:1e.0 (0000 -&gt; 0003)
PCI: Setting latency timer of device 0000:01:1e.0 to 64
Switching to clocksource MIPS
PCI: Enabling device 0000:00:01.0 (0000 -&gt; 0002)
PCI: Setting latency timer of device 0000:00:01.0 to 64
ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x0D, vendor 0x4243)
ssb: Core 1 found: IEEE 802.11 (cc 0x812, rev 0x09, vendor 0x4243)
ssb: Core 2 found: PCI (cc 0x804, rev 0x0C, vendor 0x4243)
ssb: Core 3 found: PCMCIA (cc 0x80D, rev 0x07, vendor 0x4243)
ssb: Sonics Silicon Backplane found on PCI device 0000:00:01.0
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
NET: Registered protocol family 1
audit: initializing netlink socket (disabled)
type=2000 audit(0.382:1): initialized
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  © 2001-2006 Red Hat, Inc.
msgmni has been set to 25
io scheduler noop registered
io scheduler deadline registered (default)
gpiodev: gpio device registered with major 254
gpiodev: gpio platform device registered with access mask FFFFFFFF
bcm63xx_uart.0: ttyS0 at MMIO 0xfffe0300 (irq = 10) is a bcm63xx_uart
console [ttyS0] enabled, bootconsole disabled
bcm963xx_flash: 0x00400000 at 0x1fc00000
bcm963xx: Found 1 x16 devices at 0x0 in 16-bit bank
 CFI mfr 0x000000c2
 CFI id  0x000022a7
 Amd/Fujitsu Extended Query Table at 0x0040
  Amd/Fujitsu Extended Query version 1.1.
bcm963xx: Swapping erase regions for broken CFI table.
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
bcm963xx_flash: Read Signature value of CFE1CFE1
bcm963xx_flash: CFE bootloader detected
bcm963xx_flash: CFE boot tag found with version 6 and board type 96348GW
bcm963xx_flash: Partition 0 is CFE offset 0 and length 10000
bcm963xx_flash: Partition 1 is kernel offset 10100 and length dff00
bcm963xx_flash: Partition 2 is rootfs offset f0000 and length 300000
bcm963xx_flash: Partition 3 is nvram offset 3f0000 and length 10000
bcm963xx_flash: Partition 4 is linux offset 10000 and length 3e0000
bcm963xx_flash: Spare partition is 2b0000 offset and length 140000
Creating 5 MTD partitions on &quot;bcm963xx&quot;:
0x000000000000-0x000000010000 : &quot;CFE&quot;
0x000000010100-0x0000000f0000 : &quot;kernel&quot;
mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
0x0000000f0000-0x0000003f0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2B0000, len=140000 
0x0000002b0000-0x0000003f0000 : &quot;rootfs_data&quot;
0x0000003f0000-0x000000400000 : &quot;nvram&quot;
0x000000010000-0x0000003f0000 : &quot;linux&quot;
bcm63xx_enet MII bus: probed
bcm63xx_wdt started, timer margin: 30 sec
Registered led device: adsl-fail
Registered led device: ppp
Registered led device: ppp-fail
Registered led device: power
Registered led device: stop
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 140k freed
Please be patient, while OpenWrt loads ...
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
PCI: Enabling device 0000:00:07.2 (0000 -&gt; 0002)
ehci_hcd 0000:00:07.2: EHCI Host Controller
ehci_hcd 0000:00:07.2: new USB bus registered, assigned bus number 1
ehci_hcd 0000:00:07.2: Enabling legacy PCI PM
ehci_hcd 0000:00:07.2: irq 32, io mem 0x30002000
ehci_hcd 0000:00:07.2: USB 2.0 started, EHCI 1.00
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 4 ports detected
ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
bcm63xx_ohci bcm63xx_ohci.0: BCM63XX integrated OHCI controller
bcm63xx_ohci bcm63xx_ohci.0: new USB bus registered, assigned bus number 2
bcm63xx_ohci bcm63xx_ohci.0: irq 20, io mem 0xfffe1b00
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
usb 1-1: new high speed USB device using ehci_hcd and address 2
usb 1-1: configuration #1 chosen from 1 choice
scsi0 : SCSI emulation for USB Mass Storage devices
usb-storage: device found at 2
usb-storage: waiting for device to settle before scanning
scsi 0:0:0:0: Direct-Access              Freecom Databar  5.00 PQ: 0 ANSI: 0 CCS
sd 0:0:0:0: [sda] 7831552 512-byte logical blocks: (4.00 GB/3.73 GiB)
sd 0:0:0:0: [sda] Write Protect is off
sd 0:0:0:0: [sda] Mode Sense: 23 00 00 00
sd 0:0:0:0: [sda] Assuming drive cache: write through
usb-storage: device scan complete
sd 0:0:0:0: [sda] Assuming drive cache: write through
 sda: sda1 sda2 sda3
sd 0:0:0:0: [sda] Assuming drive cache: write through
sd 0:0:0:0: [sda] Attached SCSI removable disk
EXT4-fs (sda1): recovery complete
EXT4-fs (sda1): mounted filesystem with ordered data mode
mini_fo: using base directory: /
mini_fo: using storage directory: /overlay
bcm63xx_enet bcm63xx_enet.0: attached PHY at address 1 [Broadcom BCM63XX (1)]
eth1: link forced UP - 100/full - flow control off/off
device eth1 entered promiscuous mode
br-lan: port 1(eth1) entering forwarding state
Compat-wireless backport release: compat-wireless-2011-06-23
Backport based on wireless-testing.git master-2011-06-22
cfg80211: Calling CRDA to update world regulatory domain
cfg80211: World regulatory domain updated:
cfg80211:     (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
cfg80211:     (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
roboswitch: Probing device eth0: Failed to enable switch
roboswitch: Probing device eth1: found a 5325! It&#039;s a 5350.
b43-phy0: Broadcom 4318 WLAN found (core revision 9)
ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
Registered led device: b43-phy0::tx
Registered led device: b43-phy0::rx
Registered led device: b43-phy0::radio
Broadcom 43xx driver loaded [ Features: PL, GPIO LED Mask: 0x000f, Firmware-ID: FW13 ]
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
NET: Registered protocol family 24
nf_conntrack version 0.5.0 (209 buckets, 836 max)
CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use
nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or
sysctl net.netfilter.nf_conntrack_acct=1 to enable it.
uhci_hcd: USB Universal Host Controller Interface driver
PCI: Enabling device 0000:00:07.0 (0000 -&gt; 0001)
bcm63xx: PCI IO window assigned to PCI
uhci_hcd 0000:00:07.0: UHCI Host Controller
uhci_hcd 0000:00:07.0: new USB bus registered, assigned bus number 3
CPU 0 Unable to handle kernel paging request at virtual address 08000010, epc == 80b84340, ra == 80fe6918
Oops[#1]:
Cpu 0
$ 0   : 00000000 10008400 00000001 00000010
$ 4   : 00000000 00000008 08000010 0000ffff
$ 8   : 00000000 00000000 00000005 802b6f80
$12   : 00000003 0924924a 00000000 65726564
$16   : 80c084b8 00000000 80c08400 806fd000
$20   : 000000a0 00000005 00000020 00000006
$24   : 00000010 00000000                  
$28   : 80bb6000 80bb7cd0 8028a340 80fe6918
Hi    : 00000000
Lo    : 00000003
epc   : 80b84340 0x80b84340
    Not tainted
ra    : 80fe6918 0x80fe6918
Status: 10008403    KERNEL EXL IE 
Cause : 00800008
BadVA : 08000010
PrId  : 00029107 (Broadcom BCM6348)
Modules linked in: uhci_hcd(+) nf_nat_tftp nf_conntrack_tftp nf_nat_irc nf_conntrack_irc nf_nat_ftp nf_conntrack_ftp ipt_MASQUERADE iptable_nat nf_nat xt_NOTRACK iptable_raw xt_state nf_conntrack_ipv4 nf_defrag_ipv4 nf_conntrack pppoe pppox ipt_REJECT xt_TCPMSS ipt_LOG xt_comment xt_multiport xt_mac xt_limit iptable_mangle iptable_filter ip_tables xt_tcpudp x_tables snd_pcm_oss snd_mixer_oss snd_pcm snd_timer snd_rawmidi snd_seq_device snd_hwdep snd_page_alloc snd soundcore ppp_async ppp_generic slhc b43 mac80211 switch_adm switch_robo switch_core crc_ccitt cfg80211 compat_firmware_class compat input_core arc4 aes_generic deflate ecb cbc usb_storage ohci_hcd ehci_hcd sd_mod ext4 jbd2 usbcore scsi_mod nls_base mbcache crc16
Process insmod (pid: 666, threadinfo=80bb6000, task=8037c610, tls=00000000)
Stack : 00000001 00000000 81000000 00000000 80c08400 81000000 00000000 80fe6918
        80bb7cf8 80b84720 80864400 00000003 00014720 80813000 00000020 80192634
        00000000 00000020 80c08400 80813070 80813000 00000005 80b8472c 80ff2cf8
        00000001 00000000 80813000 8015f808 00000000 800e59ac 80b84b60 80b84b30
        80813000 80b84b60 80291940 00000000 0040808c 00000002 7fd31038 801460f8
        ...
Call Trace:[&lt;80fe6918&gt;] 0x80fe6918
[&lt;80192634&gt;] 0x80192634
[&lt;80ff2cf8&gt;] 0x80ff2cf8
[&lt;8015f808&gt;] 0x8015f808
[&lt;800e59ac&gt;] 0x800e59ac
[&lt;801460f8&gt;] 0x801460f8
[&lt;801630e4&gt;] 0x801630e4
[&lt;80163258&gt;] 0x80163258
[&lt;8012b39c&gt;] 0x8012b39c
[&lt;8016339c&gt;] 0x8016339c
[&lt;8012ba78&gt;] 0x8012ba78
[&lt;80163330&gt;] 0x80163330
[&lt;8016299c&gt;] 0x8016299c
[&lt;8012bb08&gt;] 0x8012bb08
[&lt;80162118&gt;] 0x80162118
[&lt;800951ac&gt;] 0x800951ac
[&lt;8016374c&gt;] 0x8016374c
[&lt;8009584c&gt;] 0x8009584c
[&lt;8008dec0&gt;] 0x8008dec0
[&lt;80146384&gt;] 0x80146384
[&lt;80b80000&gt;] 0x80b80000
[&lt;80b80000&gt;] 0x80b80000
[&lt;80b850b0&gt;] 0x80b850b0
[&lt;80b85000&gt;] 0x80b85000
[&lt;8001bc68&gt;] 0x8001bc68
[&lt;8004b47c&gt;] 0x8004b47c
[&lt;8005b63c&gt;] 0x8005b63c
[&lt;80088994&gt;] 0x80088994
[&lt;80095be8&gt;] 0x80095be8
[&lt;80012210&gt;] 0x80012210


Code: 00032842  082e10dc  3407ffff &lt;94c20000&gt; 3042ffff  00021a02  00021200  00431025  3043ffff 
Disabling lock debugging due to kernel taint
usbcore: registered new interface driver snd-usb-audio
Adding 257032k swap on /dev/sda2.  Priority:-1 extents:1 across:257032k 
EXT4-fs (sda3): recovery complete
EXT4-fs (sda3): mounted filesystem with ordered data mode
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
wlan0: authenticate with 00:18:f8:fb:e5:6f (try 1)
wlan0: authenticated
wlan0: associate with 00:18:f8:fb:e5:6f (try 1)
wlan0: RX AssocResp from 00:18:f8:fb:e5:6f (capab=0x431 status=0 aid=4)
wlan0: associated</code></pre></div><p>lsmod<br /></p><div class="codebox"><pre><code>Module                  Size  Used by    Tainted: G  
snd_usb_audio          57392  0 
snd_usb_lib            12864  1 snd_usb_audio
uhci_hcd               19948  1 
nf_nat_tftp              432  0 
nf_conntrack_tftp       2400  1 nf_nat_tftp
nf_nat_irc               816  0 
nf_conntrack_irc        2528  1 nf_nat_irc
nf_nat_ftp              1344  0 
nf_conntrack_ftp        4640  1 nf_nat_ftp
ipt_MASQUERADE           992  1 
iptable_nat             2768  1 
nf_nat                 11072  5 nf_nat_tftp,nf_nat_irc,nf_nat_ftp,ipt_MASQUERADE,iptable_nat
xt_NOTRACK               560  0 
iptable_raw              656  1 
xt_state                 768  3 
nf_conntrack_ipv4       7936  6 iptable_nat,nf_nat
nf_defrag_ipv4           624  1 nf_conntrack_ipv4
nf_conntrack           39152 12 nf_nat_tftp,nf_conntrack_tftp,nf_nat_irc,nf_conntrack_irc,nf_nat_ftp,nf_conntrack_ftp,ipt_MASQUERADE,iptable_nat,nf_nat,xt_NOTRACK,xt_state,nf_conntrack_ipv4
pppoe                   8336  0 
pppox                   1216  1 pppoe
ipt_REJECT              1712  2 
xt_TCPMSS               2560  2 
ipt_LOG                 4208  0 
xt_comment               464  0 
xt_multiport            1776  0 
xt_mac                   576  0 
xt_limit                1008  1 
iptable_mangle           992  0 
iptable_filter           768  1 
ip_tables               8576  4 iptable_nat,iptable_raw,iptable_mangle,iptable_filter
xt_tcpudp               1760  5 
x_tables                9328 13 ipt_MASQUERADE,iptable_nat,xt_NOTRACK,xt_state,ipt_REJECT,xt_TCPMSS,ipt_LOG,xt_comment,xt_multiport,xt_mac,xt_limit,ip_tables,xt_tcpudp
snd_pcm_oss            33904  0 
snd_mixer_oss          12608  1 snd_pcm_oss
snd_pcm                50304  2 snd_usb_audio,snd_pcm_oss
snd_timer              14928  1 snd_pcm
snd_rawmidi            15136  1 snd_usb_lib
snd_seq_device          4032  1 snd_rawmidi
snd_hwdep               4304  1 snd_usb_audio
snd_page_alloc          4192  1 snd_pcm
snd                    36432  8 snd_usb_audio,snd_pcm_oss,snd_mixer_oss,snd_pcm,snd_timer,snd_rawmidi,snd_seq_device,snd_hwdep
soundcore               3520  1 snd
ppp_async               6576  0 
ppp_generic            18864  3 pppoe,pppox,ppp_async
slhc                    4192  1 ppp_generic
b43                   144192  0 
mac80211              216416  1 b43
switch_adm              3440  0 
switch_robo             4000  0 
switch_core             5152  2 switch_adm,switch_robo
crc_ccitt                976  1 ppp_async
cfg80211              130416  2 b43,mac80211
compat_firmware_class     4688  1 b43
compat                  9712  3 b43,mac80211,cfg80211
input_core             17472  1 snd
arc4                     800  2 
aes_generic            32096  1 
deflate                 1360  0 
ecb                     1328  0 
cbc                     2016  0 
usb_storage            33216  3 
ohci_hcd               23280  0 
ehci_hcd               38000  0 
sd_mod                 22064  4 
ext4                  223840  2 
jbd2                   36816  1 ext4
usbcore               100768  7 snd_usb_audio,snd_usb_lib,uhci_hcd,usb_storage,ohci_hcd,ehci_hcd
scsi_mod               70768  2 usb_storage,sd_mod
nls_base                4832  1 usbcore
mbcache                 3920  1 ext4
crc16                    976  1 ext4</code></pre></div><p>installed packages<br /></p><div class="codebox"><pre><code>base-files - 43.20-r27608
block-extroot - 0.0.1-2
block-hotplug - 0.1.0-2.1
block-mount - 0.1.0-2.1
busybox - 1.15.3-2
crda - 1.1.1-1
dnsmasq - 2.55-6
dropbear - 0.52-4
e2fsprogs - 1.41.11-1
fdisk - 2.13.0.1-4
firewall - 2-26
gpioctl - 1.0-1
hotplug2 - 1.0-beta-3
iptables - 1.4.6-2
iptables-mod-conntrack - 1.4.6-2
iptables-mod-nat - 1.4.6-2
iw - 0.9.22-2
kernel - 2.6.32.27-1
kmod-b43 - 2.6.32.27+2011-06-22-2
kmod-cfg80211 - 2.6.32.27+2011-06-22-2
kmod-crc-ccitt - 2.6.32.27-1
kmod-crc16 - 2.6.32.27-1
kmod-crypto-aes - 2.6.32.27-1
kmod-crypto-arc4 - 2.6.32.27-1
kmod-crypto-core - 2.6.32.27-1
kmod-fs-ext4 - 2.6.32.27-1
kmod-fs-mbcache - 2.6.32.27-1
kmod-input-core - 2.6.32.27-1
kmod-ipt-conntrack - 2.6.32.27-1
kmod-ipt-core - 2.6.32.27-1
kmod-ipt-nat - 2.6.32.27-1
kmod-ipt-nathelper - 2.6.32.27-1
kmod-mac80211 - 2.6.32.27+2011-06-22-2
kmod-nls-base - 2.6.32.27-1
kmod-ppp - 2.6.32.27-1
kmod-pppoe - 2.6.32.27-1
kmod-scsi-core - 2.6.32.27-1
kmod-sound-core - 2.6.32.27-1
kmod-switch - 2.6.32.27-4
kmod-usb-audio - 2.6.32.27-1
kmod-usb-core - 2.6.32.27-1
kmod-usb-ohci - 2.6.32.27-1
kmod-usb-storage - 2.6.32.27-1
kmod-usb2 - 2.6.32.27-1
libblkid - 1.41.11-1
libc - 0.9.30.1-43.20
libext2fs - 1.41.11-1
libgcc - 4.3.3+cs-43.20
libid3tag - 0.15.1b-3
libip4tc - 1.4.6-2
libiwinfo - 15
liblua - 5.1.4-7
libmad - 0.15.1b-3
libncurses - 5.7-2
libnl-tiny - 0.1-1
libpthread - 0.9.30.1-43.20
librt - 0.9.30.1-43.20
libuci - 12012009.6-3
libuci-lua - 12012009.6-3
libusb-1.0 - 1.0.8-1
libuuid - 1.41.11-1
libxtables - 1.4.6-2
lua - 5.1.4-7
luci - 0.10+svn7292-1
luci-app-firewall - 0.10+svn7292-1
luci-i18n-english - 0.10+svn7292-1
luci-lib-core - 0.10+svn7292-1
luci-lib-ipkg - 0.10+svn7292-1
luci-lib-lmo - 0.10+svn7292-1
luci-lib-nixio - 0.10+svn7292-1
luci-lib-sys - 0.10+svn7292-1
luci-lib-web - 0.10+svn7292-1
luci-mod-admin-core - 0.10+svn7292-1
luci-mod-admin-full - 0.10+svn7292-1
luci-sgi-cgi - 0.10+svn7292-1
luci-theme-base - 0.10+svn7292-1
luci-theme-openwrt - 0.10+svn7292-1
madplay - 0.15.2b-3
mtd - 13
opkg - 576-1
ppp - 2.4.4-16
ppp-mod-pppoe - 2.4.4-16
uci - 12012009.6-3
udevtrigger - 106-1
uhttpd - 22
usbutils - 003-1
wireless-tools - 29-4
wpad-mini - 20110527-1
zlib - 1.2.3-5</code></pre></div><p>thanks again for your help!<br />j</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144576">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						27 Sep 2011, 11:02					</div>
				</div>
				<div class="post-content content">
					<p>Why would you still install ohci or uhci or even both of them at the same time? You don&#039;t need them at all. And you don&#039;t need to remove them just go to /etc/modules.d/ find corresponding script (something like 50-usb-ohci) and comment out the line in it. Then restart the router</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144660">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						28 Sep 2011, 09:20					</div>
				</div>
				<div class="post-content content">
					<p>I tried it with commening out, but it wasn&#039;t working. so I tried to remove ohci with</p><p>root@OpenWrt:/# opkg remove kmod-usb-ohci --autoremove&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Removing package kmod-usb-ohci from root...<br />root@OpenWrt:/# opkg remove kmod-usb-uhci --autoremove<br />No packages removed.</p><p>but after reboot still the same:<br />root@OpenWrt:/# lsusb<br />Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub<br />Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub<br />Bus 001 Device 002: ID 07ab:fcf6 Freecom Technologies</p><p>but ther is still some ohci:<br />root@OpenWrt:/# dmesg | grep ohci<br />ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />bcm63xx_ohci bcm63xx_ohci.0: BCM63XX integrated OHCI controller<br />bcm63xx_ohci bcm63xx_ohci.0: new USB bus registered, assigned bus number 2<br />bcm63xx_ohci bcm63xx_ohci.0: irq 20, io mem 0xfffe1b00</p><p>why this? do I have to remove this too? how?</p><p>or why is my soundcard still not working?</p><p>thanks j<br />here dmesg output:<br /></p><div class="codebox"><pre><code>Linux version 2.6.32.27 (jow@nd-build-02.linux-appliance.net) (gcc version 4.3.3 (GCC) ) #8 Fri Jul 15 05:02:16 CEST 2011
Detected Broadcom 0x6348 CPU revision b0
CPU frequency is 256 MHz
16MB of RAM installed
registering 37 GPIOs
board_bcm963xx: CFE version: 1.0.37-0.8
bootconsole [early0] enabled
CPU revision is: 00029107 (Broadcom BCM6348)
board_bcm963xx: board name: 96348GW-10
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00001000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00001000
On node 0 totalpages: 4096
free_area_init_node: node 0, pgdat 802981f0, node_mem_map 802df000
  Normal zone: 32 pages used for memmap
  Normal zone: 0 pages reserved
  Normal zone: 4064 pages, LIFO batch:0
Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200
PID hash table entries: 64 (order: -4, 256 bytes)
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Primary instruction cache 16kB, VIPT, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, VIPT, no aliases, linesize 16 bytes
Memory: 13284k/16384k available (2140k kernel code, 3100k reserved, 453k data, 140k init, 0k highmem)
Hierarchical RCU implementation.
NR_IRQS:128
Calibrating delay loop... 254.97 BogoMIPS (lpj=509952)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
registering PCI controller with io_map_base unset
registering PCI controller with io_map_base unset
bio: create slab &lt;bio-0&gt; at 0
pci 0000:00:01.0: reg 10 32bit mmio: [0x000000-0x001fff]
pci 0000:00:07.0: reg 20 io port: [0xfce0-0xfcff]
pci 0000:00:07.0: supports D1 D2
pci 0000:00:07.0: PME# supported from D0 D1 D2 D3hot
pci 0000:00:07.0: PME# disabled
pci 0000:00:07.1: reg 20 io port: [0xfce0-0xfcff]
pci 0000:00:07.1: supports D1 D2
pci 0000:00:07.1: PME# supported from D0 D1 D2 D3hot
pci 0000:00:07.1: PME# disabled
pci 0000:00:07.2: reg 10 32bit mmio: [0x000000-0x0000ff]
pci 0000:00:07.2: supports D1 D2
pci 0000:00:07.2: PME# supported from D0 D1 D2 D3hot
pci 0000:00:07.2: PME# disabled
pci 0000:01:1e.0: CardBus bridge, secondary bus 0000:02
pci 0000:01:1e.0:   IO window: 0x8008000-0x80080ff
pci 0000:01:1e.0:   IO window: 0x8008400-0x80084ff
pci 0000:01:1e.0:   MEM window: 0x38000000-0x3fffffff
PCI: Enabling device 0000:01:1e.0 (0000 -&gt; 0003)
PCI: Setting latency timer of device 0000:01:1e.0 to 64
Switching to clocksource MIPS
PCI: Enabling device 0000:00:01.0 (0000 -&gt; 0002)
PCI: Setting latency timer of device 0000:00:01.0 to 64
ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x0D, vendor 0x4243)
ssb: Core 1 found: IEEE 802.11 (cc 0x812, rev 0x09, vendor 0x4243)
ssb: Core 2 found: PCI (cc 0x804, rev 0x0C, vendor 0x4243)
ssb: Core 3 found: PCMCIA (cc 0x80D, rev 0x07, vendor 0x4243)
ssb: Sonics Silicon Backplane found on PCI device 0000:00:01.0
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
NET: Registered protocol family 1
audit: initializing netlink socket (disabled)
type=2000 audit(0.382:1): initialized
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  © 2001-2006 Red Hat, Inc.
msgmni has been set to 25
io scheduler noop registered
io scheduler deadline registered (default)
gpiodev: gpio device registered with major 254
gpiodev: gpio platform device registered with access mask FFFFFFFF
bcm63xx_uart.0: ttyS0 at MMIO 0xfffe0300 (irq = 10) is a bcm63xx_uart
console [ttyS0] enabled, bootconsole disabled
bcm963xx_flash: 0x00400000 at 0x1fc00000
bcm963xx: Found 1 x16 devices at 0x0 in 16-bit bank
 CFI mfr 0x000000c2
 CFI id  0x000022a7
 Amd/Fujitsu Extended Query Table at 0x0040
  Amd/Fujitsu Extended Query version 1.1.
bcm963xx: Swapping erase regions for broken CFI table.
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
bcm963xx_flash: Read Signature value of CFE1CFE1
bcm963xx_flash: CFE bootloader detected
bcm963xx_flash: CFE boot tag found with version 6 and board type 96348GW
bcm963xx_flash: Partition 0 is CFE offset 0 and length 10000
bcm963xx_flash: Partition 1 is kernel offset 10100 and length dff00
bcm963xx_flash: Partition 2 is rootfs offset f0000 and length 300000
bcm963xx_flash: Partition 3 is nvram offset 3f0000 and length 10000
bcm963xx_flash: Partition 4 is linux offset 10000 and length 3e0000
bcm963xx_flash: Spare partition is 2b0000 offset and length 140000
Creating 5 MTD partitions on &quot;bcm963xx&quot;:
0x000000000000-0x000000010000 : &quot;CFE&quot;
0x000000010100-0x0000000f0000 : &quot;kernel&quot;
mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
0x0000000f0000-0x0000003f0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2B0000, len=140000 
0x0000002b0000-0x0000003f0000 : &quot;rootfs_data&quot;
0x0000003f0000-0x000000400000 : &quot;nvram&quot;
0x000000010000-0x0000003f0000 : &quot;linux&quot;
bcm63xx_enet MII bus: probed
bcm63xx_wdt started, timer margin: 30 sec
Registered led device: adsl-fail
Registered led device: ppp
Registered led device: ppp-fail
Registered led device: power
Registered led device: stop
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 140k freed
Please be patient, while OpenWrt loads ...
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
PCI: Enabling device 0000:00:07.2 (0000 -&gt; 0002)
ehci_hcd 0000:00:07.2: EHCI Host Controller
ehci_hcd 0000:00:07.2: new USB bus registered, assigned bus number 1
ehci_hcd 0000:00:07.2: Enabling legacy PCI PM
ehci_hcd 0000:00:07.2: irq 32, io mem 0x30002000
ehci_hcd 0000:00:07.2: USB 2.0 started, EHCI 1.00
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 4 ports detected
ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
bcm63xx_ohci bcm63xx_ohci.0: BCM63XX integrated OHCI controller
bcm63xx_ohci bcm63xx_ohci.0: new USB bus registered, assigned bus number 2
bcm63xx_ohci bcm63xx_ohci.0: irq 20, io mem 0xfffe1b00
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
usb 1-1: new high speed USB device using ehci_hcd and address 2
usb 1-1: configuration #1 chosen from 1 choice
scsi0 : SCSI emulation for USB Mass Storage devices
usb-storage: device found at 2
usb-storage: waiting for device to settle before scanning
scsi 0:0:0:0: Direct-Access              Freecom Databar  5.00 PQ: 0 ANSI: 0 CCS
sd 0:0:0:0: [sda] 7831552 512-byte logical blocks: (4.00 GB/3.73 GiB)
usb-storage: device scan complete
sd 0:0:0:0: [sda] Write Protect is off
sd 0:0:0:0: [sda] Mode Sense: 23 00 00 00
sd 0:0:0:0: [sda] Assuming drive cache: write through
sd 0:0:0:0: [sda] Assuming drive cache: write through
 sda: sda1 sda2 sda3
sd 0:0:0:0: [sda] Assuming drive cache: write through
sd 0:0:0:0: [sda] Attached SCSI removable disk
EXT4-fs (sda1): mounted filesystem with ordered data mode
mini_fo: using base directory: /
mini_fo: using storage directory: /overlay
bcm63xx_enet bcm63xx_enet.0: attached PHY at address 1 [Broadcom BCM63XX (1)]
eth1: link forced UP - 100/full - flow control off/off
device eth1 entered promiscuous mode
br-lan: port 1(eth1) entering forwarding state
Compat-wireless backport release: compat-wireless-2011-06-23
Backport based on wireless-testing.git master-2011-06-22
cfg80211: Calling CRDA to update world regulatory domain
cfg80211: World regulatory domain updated:
cfg80211:     (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
cfg80211:     (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
cfg80211:     (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
roboswitch: Probing device eth0: Failed to enable switch
roboswitch: Probing device eth1: found a 5325! It&#039;s a 5350.
b43-phy0: Broadcom 4318 WLAN found (core revision 9)
ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
Registered led device: b43-phy0::tx
Registered led device: b43-phy0::rx
Registered led device: b43-phy0::radio
Broadcom 43xx driver loaded [ Features: PL, GPIO LED Mask: 0x000f, Firmware-ID: FW13 ]
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
NET: Registered protocol family 24
nf_conntrack version 0.5.0 (209 buckets, 836 max)
CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use
nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or
sysctl net.netfilter.nf_conntrack_acct=1 to enable it.
usbcore: registered new interface driver snd-usb-audio
Adding 257032k swap on /dev/sda2.  Priority:-1 extents:1 across:257032k 
EXT4-fs (sda3): mounted filesystem with ordered data mode
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
wlan0: authenticate with 00:18:f8:fb:e5:6f (try 1)
wlan0: authenticated
wlan0: associate with 00:18:f8:fb:e5:6f (try 1)
wlan0: RX AssocResp from 00:18:f8:fb:e5:6f (capab=0x431 status=0 aid=3)
wlan0: associated</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144665">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						28 Sep 2011, 11:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dddesign wrote:</cite><blockquote><p>why this? do I have to remove this too? how?</p></blockquote></div><p>that&#039;s ok. It&#039;s because usb2 driver also supports usb 1.1 spec.<br />Looks like your audio hardware is not recognized. Maybe you need to install additional drivers to support your hardware? Usually it&#039;s enough to install kmod-usb-sound and then everything works. The following devices shall be created by the audio driver</p><p>/dev/audio<br />/dev/dsp<br />/dev/mixer</p><p>check if you have them</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144673">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						28 Sep 2011, 12:23					</div>
				</div>
				<div class="post-content content">
					<p>I will check this tonight.</p><p>I have already an other router running openwrt (but with kamikaze8.09.2) and there both of my soundcards are working. for the first one I needed to install kmod-usb-uhci-iv, but I don&#039;t know if I need it also for my second one...</p><p>first one: <a href="http://cgi.ebay.ch/New-5-1-usb-audio-Sound-Karte-USB-Adapter-Laptop-/320765333936">http://cgi.ebay.ch/New-5-1-usb-audio-So … 0765333936</a><br />second one: <a href="http://cgi.ebay.ch/ws/eBayISAPI.dll?ViewItem&amp;item=270644523427&amp;ssPageName=ADME:L:OU:CH:1123">http://cgi.ebay.ch/ws/eBayISAPI.dll?Vie … OU:CH:1123</a></p><p>uhci-iv is missing for backfire. is there an other package with drivers?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144675">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						28 Sep 2011, 12:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>flux wrote:</cite><blockquote><p>install kmod-usb-sound</p></blockquote></div><p>sorry, it&#039;s called kmod-usb-audio</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144681">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						28 Sep 2011, 14:37					</div>
				</div>
				<div class="post-content content">
					<p>kmod-usb-audio is already installed (see list in first post).</p><p>probably I will try to uninstall and reinstall these packages:<br />kmod-sound-core<br />kmod-input-core<br />kmod-usb-audio</p><p>(I will to it in some hours) and let you know.<br />thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144712">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						28 Sep 2011, 23:33					</div>
				</div>
				<div class="post-content content">
					<p>I uninstalled and reinstalled these three packages,<br />but without success, all is still the same.</p><p>any further ideas why my cards are not detected? are there other usb soundcard drivers to install?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144805">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						30 Sep 2011, 09:26					</div>
				</div>
				<div class="post-content content">
					<p>I read on <a href="http://wiki.openwrt.org/doc/howto/usb.audio">http://wiki.openwrt.org/doc/howto/usb.audio</a> that »You must have enabled the ALSA support in the kernel«<br />how can I check if alsa is supported?<br />do I have to install package alsa-lib?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144851">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						30 Sep 2011, 20:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dddesign wrote:</cite><blockquote><p>I read on <a href="http://wiki.openwrt.org/doc/howto/usb.audio">http://wiki.openwrt.org/doc/howto/usb.audio</a> that »You must have enabled the ALSA support in the kernel«<br />how can I check if alsa is supported?<br />do I have to install package alsa-lib?</p></blockquote></div><p>no, this statement is wrong. First of all alsa lib is an api above an audio driver. It hides driver specifics from the audio software. So if you audio hardware doesn&#039;t work then alsa will not help. Second - one still can use oss subsystem without even installing alsa. OSS is installed automatically if you install kmod-usb-audio.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145277">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						6 Oct 2011, 23:07					</div>
				</div>
				<div class="post-content content">
					<p>back on this problem.</p><p>I flashed my router once again with backfire10.03.1rc5 (after some problems, I thought I have bricked it, but it wasn&#039;t) successfully. but after installing package kmod-usb2 and kmod-usb-audio (with all dependencies) there is still no soundcard (cat /proc/asound/cards) and also no /dev/audio /dev/dsp /dev/mixer</p><p>I installed usbutils and lsusb shows me the usb hub<br />dmesg shows me this line:<br />usbcore: registered new interface driver snd-usb-audio</p><p>so, what now?<br />are there missing some usb sound drivers? do I can install them?<br />what else?</p><p>would it be better to flash an image with kernel 2.4 (brcm-2.4) instead of 2.6 (brcm63xx)?</p><p>thanks again for your help<br />j</p>											<p class="post-edited">(Last edited by <strong>dddesign</strong> on 6 Oct 2011, 23:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145499">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						10 Oct 2011, 11:26					</div>
				</div>
				<div class="post-content content">
					<p>I tried to flash brcm-2.4 without success. so reflash brcm63xx again, but still the same problem.<br />no one has an idea?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145514">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						10 Oct 2011, 14:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dddesign wrote:</cite><blockquote><p>I tried to flash brcm-2.4 without success. so reflash brcm63xx again, but still the same problem.<br />no one has an idea?</p></blockquote></div><p>Well if you don&#039;t know what audio hardware you are using no one can help here, I suppose. If you know what audio chip is used in your audio hardware then you can find out what drivers are needed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145516">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						10 Oct 2011, 14:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dddesign wrote:</cite><blockquote><p>first one: <a href="http://cgi.ebay.ch/New-5-1-usb-audio-Sound-Karte-USB-Adapter-Laptop-/320765333936">http://cgi.ebay.ch/New-5-1-usb-audio-So … 0765333936</a><br />second one: <a href="http://cgi.ebay.ch/ws/eBayISAPI.dll?ViewItem&amp;item=270644523427&amp;ssPageName=ADME:L:OU:CH:1123">http://cgi.ebay.ch/ws/eBayISAPI.dll?Vie … OU:CH:1123</a></p></blockquote></div><p>probably Chipset: 6911 or one of CM119 / CM108 / CM106</p><p>because both of them are working with kamikaze I thought they have to work also with backfire. I will check what lsusb will give me on the &quot;old&quot; router for both of these soundcards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145534">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						10 Oct 2011, 20:57					</div>
				</div>
				<div class="post-content content">
					<p>I check both usb sound card on my &quot;old&quot; router with kamikaze with lsusb, so I get:</p><p>first one: ID 1130:f211 Tenx Technology, Inc.<br />second one: ID 0d8c:000c C-Media Electronics, Inc. Audio Adapter</p><p>is this helpful as chipset? or what do you have to know?<br />thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145543">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						10 Oct 2011, 23:20					</div>
				</div>
				<div class="post-content content">
					<p>well according to this <a href="http://www.hermann-uwe.de/blog/playing-audio-on-the-nslu2">http://www.hermann-uwe.de/blog/playing- … -the-nslu2</a> you don&#039;t need an additional driver except kmod-usb-audio. The last thing I can suggest is to reboot the router and then plug the audio dongle directly into the routers usb (no external hubs). Then check the dmesg|tail output for errors.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145546">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						11 Oct 2011, 00:04					</div>
				</div>
				<div class="post-content content">
					<p>I rebooted my router WITHOUT audio dongle, then<br />root@OpenWrt:/# dmesg | tail<br />Disabling lock debugging due to kernel taint<br />snd_soc_core: Unknown symbol i2c_transfer<br />snd_soc_core: Unknown symbol i2c_master_send<br />usbcore: registered new interface driver snd-usb-audio<br />b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)<br />wlan0: authenticate with 00:18:f8:fb:e5:6f (try 1)<br />wlan0: authenticated<br />wlan0: associate with 00:18:f8:fb:e5:6f (try 1)<br />wlan0: RX AssocResp from 00:18:f8:fb:e5:6f (capab=0x431 status=0 aid=2)<br />wlan0: associated</p><p>now, I plug in my usb audio dongle, and <br />root@OpenWrt:/# dmesg | tail<br />Disabling lock debugging due to kernel taint<br />snd_soc_core: Unknown symbol i2c_transfer<br />snd_soc_core: Unknown symbol i2c_master_send<br />usbcore: registered new interface driver snd-usb-audio<br />b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)<br />wlan0: authenticate with 00:18:f8:fb:e5:6f (try 1)<br />wlan0: authenticated<br />wlan0: associate with 00:18:f8:fb:e5:6f (try 1)<br />wlan0: RX AssocResp from 00:18:f8:fb:e5:6f (capab=0x431 status=0 aid=2)<br />wlan0: associated</p><p>can you see something in this?<br />there&#039;s already a usbcore message after reboot (without an audio dongle), isn&#039;t this strange?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145556">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						11 Oct 2011, 04:10					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>snd_soc_core: Unknown symbol i2c_transfer
snd_soc_core: Unknown symbol i2c_master_send</code></pre></div><p>The audio subsystem is missing symbols. See if you can install &quot;kmod-i2c-core&quot; and check whether it works then.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145572">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						11 Oct 2011, 09:34					</div>
				</div>
				<div class="post-content content">
					<p>I installed now kmod-i2c-core but still no usb audio card:</p><p>root@OpenWrt:/dev/snd# lsusb<br />Bus 001 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub</p><p>root@OpenWrt:/dev/snd# dmesg | tail<br />Code: 00032842&nbsp; 081ad0dc&nbsp; 3407ffff &lt;94c20000&gt; 3042ffff&nbsp; 00021a02&nbsp; 00021200&nbsp; 00431025&nbsp; 3043ffff <br />Disabling lock debugging due to kernel taint<br />i2c /dev entries driver<br />usbcore: registered new interface driver snd-usb-audio<br />b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)<br />wlan0: authenticate with 00:18:f8:fb:e5:6f (try 1)<br />wlan0: authenticated<br />wlan0: associate with 00:18:f8:fb:e5:6f (try 1)<br />wlan0: RX AssocResp from 00:18:f8:fb:e5:6f (capab=0x431 status=0 aid=2)<br />wlan0: associated</p><p>I flashed Backfire (10.03.1-RC5, r27608)<br />is it better to use trunk version?</p><p>I&#039;m still wondering what are the diffrences between:<br />openwrt-96348GW-10-gen-squashfs-cfe.bin<br />openwrt-96348GW-11-gen-squashfs-cfe.bin<br />openwrt-96348GW-bc221-squashfs-cfe.bin<br />openwrt-96348GW-generic-squashfs-cfe.bin<br />openwrt-96348GW2-bc221-squashfs-cfe.bin<br />and if I use the right one. </p><p>I flashed again openwrt-96348GW-generic-squashfs-cfe.bin and changed network, wireless (sta mode, so I have internet access throug me &quot;normal&quot; router) and reboot, then:</p><p>Backfire (10.03.1-RC5, r27608)</p><p>root@OpenWrt:/# dmesg | tail<br />nf_conntrack version 0.5.0 (209 buckets, 836 max)<br />CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use<br />nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or<br />sysctl net.netfilter.nf_conntrack_acct=1 to enable it.<br />b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)<br />wlan0: authenticate with 00:18:f8:fb:e5:6f (try 1)<br />wlan0: authenticated<br />wlan0: associate with 00:18:f8:fb:e5:6f (try 1)<br />wlan0: RX AssocResp from 00:18:f8:fb:e5:6f (capab=0x431 status=0 aid=2)<br />wlan0: associated</p><p>root@OpenWrt:/# opkg update<br />root@OpenWrt:/# opkg install kmod-usb-ohci<br />Configuring kmod-nls-base.<br />Configuring kmod-usb-core.<br />Configuring kmod-usb-ohci.</p><p>root@OpenWrt:/# dmesg | tail<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />bcm63xx_ohci bcm63xx_ohci.0: BCM63XX integrated OHCI controller<br />bcm63xx_ohci bcm63xx_ohci.0: new USB bus registered, assigned bus number 1<br />bcm63xx_ohci bcm63xx_ohci.0: irq 20, io mem 0xfffe1b00<br />usb usb1: configuration #1 chosen from 1 choice<br />hub 1-0:1.0: USB hub found<br />hub 1-0:1.0: 1 port detected</p><p>root@OpenWrt:/# opkg install kmod-usb-audio<br />Configuring kmod-input-core.<br />Configuring kmod-sound-core.<br />Configuring kmod-usb-audio.</p><p>root@OpenWrt:/# dmesg | tail<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />bcm63xx_ohci bcm63xx_ohci.0: BCM63XX integrated OHCI controller<br />bcm63xx_ohci bcm63xx_ohci.0: new USB bus registered, assigned bus number 1<br />bcm63xx_ohci bcm63xx_ohci.0: irq 20, io mem 0xfffe1b00<br />usb usb1: configuration #1 chosen from 1 choice<br />hub 1-0:1.0: USB hub found<br />hub 1-0:1.0: 1 port detected<br />usbcore: registered new interface driver snd-usb-audio</p><p>root@OpenWrt:/dev# cat /proc/asound/cards<br />--- no soundcards ---</p><p>root@OpenWrt:/dev# opkg install usbutils<br />Configuring librt.<br />Configuring libpthread.<br />Configuring libusb-1.0.<br />Configuring zlib.<br />Configuring usbutils.</p><p>root@OpenWrt:/dev# lsusb<br />unable to initialize libusb: -99<br />root@OpenWrt:/dev# reboot</p><p>root@OpenWrt:/# lsusb<br />Bus 001 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub</p><br /><br /><p>there is a registered snd-usb-audio driver but I can&#039;t use the audio dongle...<br />I&#039;m very welcome for any ideas!<br />thanks again j</p>											<p class="post-edited">(Last edited by <strong>dddesign</strong> on 11 Oct 2011, 10:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145760">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						13 Oct 2011, 19:08					</div>
				</div>
				<div class="post-content content">
					<p>noone? I&#039;m really welcome for any ideas? do one of the developers have an idea?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145761">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						13 Oct 2011, 19:28					</div>
				</div>
				<div class="post-content content">
					<p>Your lsusb output indicates no USB soundcard, so it looks like there is a hardware issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145767">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						13 Oct 2011, 20:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>usb usb1: configuration #1 chosen from 1 choice<br />hub 1-0:1.0: USB hub found<br />hub 1-0:1.0: 1 port detected<br />usbcore: registered new interface driver snd-usb-audio</p></blockquote></div><p>Doesn&#039;t this mean that something=USB audio is registered?</p><p>Beside I had a flash card running at this USB port, so it can&#039;t be the hardware...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145771">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						13 Oct 2011, 21:38					</div>
				</div>
				<div class="post-content content">
					<p>It just means that the kernel found the root USB hub and that it laoded an USB audio driver, no trace of any client hardware beyound that.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145804">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">dddesign</div>
					<div class="post-datetime">
						14 Oct 2011, 10:26					</div>
				</div>
				<div class="post-content content">
					<p>thanks for this correction.<br />but what do you mena by &quot;hardware issue&quot;? <br />both of the usb ports on the router are working (I have tested this with my usb flash card) and both of my usb audio cards are working on a asus wl-500w with kamikaze 8.09.2. because all of the hardware is working it has to be a software problem, hasn&#039;t it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p145823">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						14 Oct 2011, 16:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dddesign wrote:</cite><blockquote><p>thanks for this correction.<br />but what do you mena by &quot;hardware issue&quot;? <br />both of the usb ports on the router are working (I have tested this with my usb flash card) and both of my usb audio cards are working on a asus wl-500w with kamikaze 8.09.2. because all of the hardware is working it has to be a software problem, hasn&#039;t it?</p></blockquote></div><p>opkg remove kmod-usb-ohci<br />opkg install kmod-usb2<br />reboot # no dongle attached</p><p>dmesg # post it here<br />lsmod # post it here</p><p>attach the dongle<br />dmesg|tail # post it here</p><p>ps instead of posting outputs here it is better to use pastebin.com and put link here</p><p>could it be that kmod-usb-audio or some of its dependent packages aren&#039;t properly compiled for this platform? Maybe somebody can confirm that audio subsystem works with the openwrt-96348GW-generic-squashfs-cfe.bin firmware. Missing symbols is already very suspicious - should not happen and I&#039;d consider it as a bug if it really happens</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>