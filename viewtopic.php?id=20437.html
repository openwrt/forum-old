<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wlan wont work</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p88572">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">waldi_x</div>
					<div class="post-datetime">
						24 May 2009, 05:11					</div>
				</div>
				<div class="post-content content">
					<p>hi folks<br />ive got some problems with the wlan-function on my whole new WRT54GL...</p><p>with the original drivers everything works fine both the stock and the newest firmware. so i first tried to install openwrt and (some hours later) it worked - except the wlan, which wont work (as i allready wrote). anything else works seems to work fine but as im dependent on wlan ive got no benefits from this. the only difference between 2.4 and 2.6 kernel is the wlan-LED: with 2.4 its active, with 2.6 inactive.</p><p>so i tried the same with x-wrt (its not a fork, i know...) but issues keep pretty much the same (regarding wlan)...</p><p>theres no difference if i use WEP, WPA or any other setting - my WRT54GL isnt sending out any (wlan) signals. anyone out there who possibly know why? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>(yeah, my english isnt the best. complaints address to my teachers <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" />)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88580">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						24 May 2009, 11:52					</div>
				</div>
				<div class="post-content content">
					<p>After a fresh openwrt install, wireless is disabled, by default.<br />Are you sure, you did activate it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88615">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">waldi_x</div>
					<div class="post-datetime">
						24 May 2009, 23:14					</div>
				</div>
				<div class="post-content content">
					<p>klar, hab ich <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />--<br />indeed im a hundred percent sure! the first i did was to put radio on - afterwards i de- and reactivated it every single time i flashed the router with a new firmware. as written above with the 2.4 kernels the wlan-LED was active but the router didnt send any signals out. and ive tested it not with the crappy windows wlan-stack which accidently didnt show me the signals, there really wasnt any signal from the box... <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>waldi_x</strong> on 24 May 2009, 23:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88784">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">waldi_x</div>
					<div class="post-datetime">
						26 May 2009, 21:32					</div>
				</div>
				<div class="post-content content">
					<p>*push* <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88951">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">waldi_x</div>
					<div class="post-datetime">
						29 May 2009, 16:38					</div>
				</div>
				<div class="post-content content">
					<p>*push* <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88984">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Lloydy</div>
					<div class="post-datetime">
						30 May 2009, 12:26					</div>
				</div>
				<div class="post-content content">
					<p>i am also getting the same problem the wireless lan is not sending out any signal.</p><p>edit: ver 8.09 latest at time of post.</p><p> the problem happens under 2.6.</p><p>seems to be working fine under 2.4.</p><p>WRT54GL</p>											<p class="post-edited">(Last edited by <strong>Lloydy</strong> on 30 May 2009, 16:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89001">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">waldi_x</div>
					<div class="post-datetime">
						30 May 2009, 22:14					</div>
				</div>
				<div class="post-content content">
					<p>exactly - 2.4 is working fine, just 2.6 doesnt work...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89002">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						30 May 2009, 22:22					</div>
				</div>
				<div class="post-content content">
					<p>Show your wireless config. Is anything in dmesg? Is hostapd installed and running? What kind of encryption is used? What happens if you run &quot;wifi&quot;? What is displayed by iwconfig? ...</p><p>~ JoW</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89011">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">gong</div>
					<div class="post-datetime">
						31 May 2009, 01:58					</div>
				</div>
				<div class="post-content content">
					<p>wlan does not work for mee too on wrt54gl with current head / kernel 2.6. this is because b43 does not load. dmesg:</p><p>b43: Unknown symbol input_allocate_polled_device<br />b43: Unknown symbol input_free_polled_device<br />b43: Unknown symbol input_event<br />b43: Unknown symbol input_register_polled_device<br />b43: Unknown symbol input_unregister_polled_device</p><p>greetz<br />sven</p>											<p class="post-edited">(Last edited by <strong>gong</strong> on 31 May 2009, 01:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89013">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						31 May 2009, 02:37					</div>
				</div>
				<div class="post-content content">
					<p>Try reverting <a href="https://dev.openwrt.org/changeset/16143">https://dev.openwrt.org/changeset/16143</a> (or re-enable with make kernel_menuconfig)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89024">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Jogilein</div>
					<div class="post-datetime">
						31 May 2009, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi everybody,</p><p>I&#039;m pretty new to all this... have some experience with Linux, Routing, Masq, Networking... so I tried two days ago to set up my WRT54GL with the Kamikaze 8.09... as described at <a href="http://oldwiki.openwrt.org/OpenWrtDocs(2f)Hardware(2f)Linksys(2f)WRT54GL.html">http://oldwiki.openwrt.org/OpenWrtDocs( … T54GL.html</a> </p><p>I first installed 2.4 Kernel and did the NVRAM...<br />Than I upgraded to 2.6 Kernel, but as posted the Wireless Lan is not working (wl0 is not presented in ifconfig)...<br />Downgrading to 2.4 Kernel and everything is working fine...</p><p>I used the latest available download (for both Kernel versions)... Is 2.6 not working wit Wireless on WRT54GL... </p><p>Could someone just make this point clear for me <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />... Or could someone describe a little bit more detailed what to do to make 2.6 work with WRT54GL?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89026">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						31 May 2009, 11:59					</div>
				</div>
				<div class="post-content content">
					<p>Even with 2.4 Kernel, Kamikaze does not make use of NVRAM.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89029">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Jogilein</div>
					<div class="post-datetime">
						31 May 2009, 12:34					</div>
				</div>
				<div class="post-content content">
					<p>Well I don&#039;t know what:</p><div class="quotebox"><blockquote><p>Even with 2.4 Kernel, Kamikaze does not make use of NVRAM.</p></blockquote></div><p>means for the wireless problem... but at least I can use the nvram command with Kernel 2.4 and not with 2.6 (there it says: nvram unknown command)...</p><p>But I found my mistake using 2.6 and wireless by reading further post about wireless and WRT54GL... when you refalsh to 2.6 you have to unmark the checkbox &quot;Keep configuration...&quot;, cause the wl0 device does not exist anymore... After reflashing to Kamikaze 8.09 (with Kernel 2.6) from <a href="http://downloads.openwrt.org/kamikaze/8.09/brcm47xx/">http://downloads.openwrt.org/kamikaze/8.09/brcm47xx/</a> I just ask myself know is that the best choice? There are so many post with different opinions about this... should I maybe use the snapshot? Or maybe 2.4?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89032">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">gong</div>
					<div class="post-datetime">
						31 May 2009, 13:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>Try reverting <a href="https://dev.openwrt.org/changeset/16143">https://dev.openwrt.org/changeset/16143</a> (or re-enable with make kernel_menuconfig)</p></blockquote></div><p>ok, reverting the changeset makes b43 load again but somehow the driver is unable to load the firmware though it is available (see below). dmesg:</p><p>b43-phy0: Broadcom 5352 WLAN found (core revision 9)<br />cfg80211: Regulatory domain changed to country: US<br />&nbsp; &nbsp; &nbsp; &nbsp; (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />&nbsp; &nbsp; &nbsp; &nbsp; (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; (5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; (5490000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />&nbsp; &nbsp; &nbsp; &nbsp; (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)<br />phy0: Selected rate control algorithm &#039;minstrel&#039;<br />Broadcom 43xx driver loaded [ Features: PLR, Firmware-ID: FW13 ]<br />RPC: Registered udp transport module.<br />RPC: Registered tcp transport module.<br />input: b43-phy0 as /devices/virtual/input/input0<br />b43 ssb0:3: firmware: requesting b43/ucode5.fw<br />b43 ssb0:3: firmware: requesting b43-open/ucode5.fw<br />b43-phy0 ERROR: Firmware file &quot;b43/ucode5.fw&quot; not found<br />b43-phy0 ERROR: Firmware file &quot;b43-open/ucode5.fw&quot; not found<br />b43-phy0 ERROR: You must go to <a href="http://wireless.kernel.org/en/users/Drivers/b43#devicefirmware">http://wireless.kernel.org/en/users/Dri … cefirmware</a> and download the correct firmware for this driver version. Please carefully read all instructions on this website.<br />device wlan0 entered promiscuous mode<br />input: b43-phy0 as /devices/virtual/input/input1<br />b43 ssb0:3: firmware: requesting b43/ucode5.fw</p><br /><br /><p>root@wlan4:/# ls /lib/firmware/b43/<br />b0g0bsinitvals5.fw&nbsp; b0g0initvals5.fw&nbsp; &nbsp; pcm5.fw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ucode5.fw</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89037">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">waldi_x</div>
					<div class="post-datetime">
						31 May 2009, 18:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Jogilein wrote:</cite><blockquote><p>unmark the checkbox &quot;Keep configuration...&quot;</p></blockquote></div><p>doenst work for me. in fact there is no difference for me when flashing from 2.4 to 2.6 kernels - my config remains no matter if i set to keep the config or not. perhaps this is quite part of the problem...?!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89044">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Jogilein</div>
					<div class="post-datetime">
						31 May 2009, 19:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>waldi_x wrote:</cite><blockquote><div class="quotebox"><cite>Jogilein wrote:</cite><blockquote><p>unmark the checkbox &quot;Keep configuration...&quot;</p></blockquote></div><p>doenst work for me. in fact there is no difference for me when flashing from 2.4 to 2.6 kernels - my config remains no matter if i set to keep the config or not. perhaps this is quite part of the problem...?!</p></blockquote></div><p>Sounds like a problem... Cause the configuration is quite different... the wireless device is renamed in 2.6 so that the configuration of 2.4 cannot work... so 2.4 works for you and if you check ifconfig (or iwconfig) you&#039;ll get wl0 as interface? </p><p>In 2.6 you should have three interfaces checking ifconfig (or iwconfig)... the wlan0, wmaster0 and mon.wlan0... I don&#039;t know how to force the system to flash also the configuration for sure... maybe someone else can help in this case???</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89058">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Jogilein</div>
					<div class="post-datetime">
						1 Jun 2009, 11:09					</div>
				</div>
				<div class="post-content content">
					<p>So after testing wireless connection with 2.6 I have to say:</p><p>It works... but stable is different... in the beginning it works fine, but if you use it over a while the connection quality gets worse and worse... </p><p>So I&#039;m thinking about to use 2.4 again... and hopefully wireless will work better!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89234">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">waldi_x</div>
					<div class="post-datetime">
						3 Jun 2009, 20:51					</div>
				</div>
				<div class="post-content content">
					<p>no solution yet <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92202">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Hauke</div>
					<div class="post-datetime">
						1 Aug 2009, 21:28					</div>
				</div>
				<div class="post-content content">
					<p>With kamikaze 8.09.1 the mac80211 and b43 package was removed, because it was relay unstable and outdated.</p><p>If someone want to use kernel 2.6 with boradcom wireless, please use trunk, it is much more stable.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>