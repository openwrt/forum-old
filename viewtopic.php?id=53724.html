<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> portable &quot;privacy&quot; router using TP-Link TL-WR710N and OpenVPN</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p252593">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">danny.rappleyea</div>
					<div class="post-datetime">
						31 Oct 2014, 04:01					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m in the security field and I travel a lot. I don&#039;t trust hotel networks to be either secure or private, so I wanted something portable and easy to use to help with both privacy and security. So I make a portable privacy router using:<br /></p><ul><li><p>TP-Link TL-WR710N</p></li><li><p>OpenWrt BarrierBreaker 14.07</p></li><li><p>OpenVPN</p></li><li><p>anonymous vpn service</p></li></ul><p>The full set of instructions are at <a href="http://www.digitalreplica.org/2014/10/pocket-internet-privacy-shield/">http://www.digitalreplica.org/2014/10/p … cy-shield/</a> but here&#039;s the highlights of what it does.</p><p>The TL-WR710N is cheap and tiny, but it has two ethernet jacks and a wireless chipset that can do client mode and AP mode at the same time. So I have a wired and wireless connection on both the external and internal side of the firewall to allow for whatever network type is needed. Obviously the firewall is set to block everything incoming from the external side and allow internal traffic out.</p><p>I use the reset button to start and stop the vpn (and reset if you hold it long enough). The vpn start/stop scripts change the LED to blink different patterns depending on when the vpn is connected or not. This lets you connect to the hotel network at first to get through their captive portal pages, then connect the vpn and stay private. For most setups, it&#039;s that easy to use. Only connecting to a new hotel wireless network requires accessing the OpenWRT web interface.</p><p>I hope the instructions are useful to someone else. I tried to make them easy enough that anyone can follow along and get something similar set up. Feel free to post comments either here or directly on the site.</p><p>Danny</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252612">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">johan81</div>
					<div class="post-datetime">
						31 Oct 2014, 10:55					</div>
				</div>
				<div class="post-content content">
					<p>Sounds a bit tedious if you ask me, why not just use your home router equipped with OpenVPN and connect to that (while it still is at home of course, just to be clear). That is how I did it when I was in the States on vacation and my Router is in the Netherlands, worked perfectly fine and you also get to use your shares safely for back-upping <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> without the need of buying this router and paying for a VPN service.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252688">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">danny.rappleyea</div>
					<div class="post-datetime">
						31 Oct 2014, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>There&#039;s absolutely no reason you couldn&#039;t use this with your own vpn server and save a few bucks. I wouldn&#039;t recommend it, unless you&#039;re comfortable dealing with Internet-exposed services and can make sure you secure it properly. There&#039;s other considerations too.</p><ul><li><p>A vpn on one device is way easier than getting the vpn connected on a couple of laptops, a phone and a tablet. Sometimes I have a couple more devices that may or may not support OpenVPN at all.</p></li><li><p>My home upload speed is crap, so using it would slow down my Internet connection considerably. </p></li><li><p>I have a mix of work and personal devices, and I won&#039;t allow a work machine vpn access to my house</p></li></ul><br /><p>Past that, it was just a fun little geeky project to work on. It let me experiment more with OpenWRT without the risk of screwing up my main Internet router.</p><p>Danny</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252696">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						1 Nov 2014, 01:53					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for this.&nbsp; It looks very useful.&nbsp; I&#039;ve ordered a WR710N.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p277815">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">anonym00se</div>
					<div class="post-datetime">
						28 May 2015, 05:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danny.rappleyea wrote:</cite><blockquote><p>There&#039;s absolutely no reason you couldn&#039;t use this with your own vpn server and save a few bucks. I wouldn&#039;t recommend it, unless you&#039;re comfortable dealing with Internet-exposed services and can make sure you secure it properly. There&#039;s other considerations too.</p><p>Danny</p></blockquote></div><p>Using a portable VPN endpoint with your own home connection assumes a lot too much of the average user and is really only practical if you actually need to access resources or services at your own home or office ie: network drives, printing, etc.</p><p>1.&nbsp; Running and securing a home server with VPN endpoint is not user-friendly.<br />2.&nbsp; Having the bandwidth and data allocation at home to support such a thing reliably is not your typical home-user connection. </p><p>Remember many home connections now have data usage caps, even as the ISPs raise network speeds.. <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /><br />Also, upstream bandwidth is still severely limited compared to downstream bandwidth and a VPN connection will of course use TWICE the bandwidth you would at home as you are directing ALL traffic both IN and OUT of this connection - your home is just the middle-man in every transaction as you access the Internet through a VPN.</p><p>For $50-100/year you can subscribe to dozens of different commercial VPN providers, most of whom offer connection endpoints around the world, so you can either secure your identity, and/or your location.&nbsp; You can use a VPN to access geo-restricted services ie: Netflix or BBC iPlayer, or for other purposes.&nbsp; Many also allow multiple connections, so you could connect your iPad or PC and phone at the same time, and all the good providers offer PC, Mac, IOS and Android clients - really good ones offer OpenVPN configuration files or instructions so your router can connect automatically.&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> So for ~$5-10/mo. I&#039;d say the commercial services are a far more cost-effective choice.</p>											<p class="post-edited">(Last edited by <strong>anonym00se</strong> on 28 May 2015, 06:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p278720">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">brunoh</div>
					<div class="post-datetime">
						3 Jun 2015, 10:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lizby wrote:</cite><blockquote><p>Thanks for this.&nbsp; It looks very useful.&nbsp; I&#039;ve ordered a WR710N.</p></blockquote></div><p>Me too, ordered one.</p><p>But be careful: while v1.x has 8 MB flash, the new v2 only has 4MB.</p><p>So, I could load openwrt, but I fear that there is not enough room for openvpn without lot of works.</p><p>--&gt; Anybody has a good idea for another small openwrt router with 2 Lan-connections and enough flash?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p278725">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">lab34</div>
					<div class="post-datetime">
						3 Jun 2015, 11:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi, <br />on the 4MB version, I managed to install Attitude Adjustment with openvpn and lucy. (I did not succed with Barrier Breaker, not enough room)</p><p>I did dirty modifications on the wr703n profile (to change the name), and build the image with imagebuilder.</p><p>But I lost the second lan. I have just one lan and one wlan. Enough for me,&nbsp; because hotels hotspots are often wifi. I&#039;m just using it on wifi.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p297605">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">AxeBro</div>
					<div class="post-datetime">
						27 Oct 2015, 12:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danny.rappleyea wrote:</cite><blockquote><p>I&#039;m in the security field and I travel a lot. I don&#039;t trust hotel networks to be either secure or private, so I wanted something portable and easy to use to help with both privacy and security. So I make a portable privacy router using:<br /></p><ul><li><p>TP-Link TL-WR710N</p></li><li><p>OpenWrt BarrierBreaker 14.07</p></li><li><p>OpenVPN</p></li><li><p>anonymous vpn service</p></li></ul><p>The full set of instructions are at <a href="http://www.digitalreplica.org/2014/10/pocket-internet-privacy-shield/">http://www.digitalreplica.org/2014/10/p … cy-shield/</a> but here&#039;s the highlights of what it does.</p><p>The TL-WR710N is cheap and tiny, but it has two ethernet jacks and a wireless chipset that can do client mode and AP mode at the same time. So I have a wired and wireless connection on both the external and internal side of the firewall to allow for whatever network type is needed. Obviously the firewall is set to block everything incoming from the external side and allow internal traffic out.</p><p>I use the reset button to start and stop the vpn (and reset if you hold it long enough). The vpn start/stop scripts change the LED to blink different patterns depending on when the vpn is connected or not. This lets you connect to the hotel network at first to get through their captive portal pages, then connect the vpn and stay private. For most setups, it&#039;s that easy to use. Only connecting to a new hotel wireless network requires accessing the OpenWRT web interface.</p><p>I hope the instructions are useful to someone else. I tried to make them easy enough that anyone can follow along and get something similar set up. Feel free to post comments either here or directly on the site.</p><p>Danny</p></blockquote></div><p>Danny - how&#039;s the speed on this? I&#039;m working with a HooToo using some stuff that wingspinner and RangerZ posted (and your write-up). But VPN speed is maxed at about 5mbit but more typically in the 2-3mbit range. </p><p>Please let me know. Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p303289">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Kato</div>
					<div class="post-datetime">
						11 Dec 2015, 11:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>brunoh wrote:</cite><blockquote><p>Me too, ordered one.</p><p>But be careful: while v1.x has 8 MB flash, the new v2 only has 4MB.</p><p>So, I could load openwrt, but I fear that there is not enough room for openvpn without lot of works.</p><p>--&gt; Anybody has a good idea for another small openwrt router with 2 Lan-connections and enough flash?</p></blockquote></div><p>You could expand the flash memory with an USB memory Stick (see <a href="https://wiki.openwrt.org/doc/howto/extroot">https://wiki.openwrt.org/doc/howto/extroot</a>). It works well, but I have a problem with the USB port. I need to use an active USB Hub for the memory stick. Without I get USB errors (see dmesg on console) and the device &#039;sda&#039; doesn&#039;t exists in /dev.</p><p>Has someone the same problem with the WR710N Version 2.0?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>