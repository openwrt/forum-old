<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-LINK WDR4300 Israel firmware patched.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p196676">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tfishler</div>
					<div class="post-datetime">
						30 Mar 2013, 13:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,<br />After all discussions I compiled openwrt with the patch from <a href="http://www.mail-archive.com/openwrt-devel@lists.openwrt.org/msg17574.html">http://www.mail-archive.com/openwrt-dev … 17574.html</a></p><p>So If anyone intersted. I&#039;m attaching it here. <br />It is confirmed to work! </p><p>Have fun <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> </p><p><a href="http://www39.zippyshare.com/v/55134825/file.html">openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-factory.bin</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198364">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zoharfreak</div>
					<div class="post-datetime">
						14 Apr 2013, 17:38					</div>
				</div>
				<div class="post-content content">
					<p>well my friend how are u ?<br />i have the tp-link wdr 4300 israeli version and i didn&#039;t managed to do what you did<br />i need halp contact me on zoharfreak@gmail.com</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198917">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">amitgv1</div>
					<div class="post-datetime">
						19 Apr 2013, 14:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi<br />I am also from Israel. Tried to upgrade to your bin file and now the connection between the router and the lan is dead ( wifi and ethernet not functioning ) so i cant go to the admin page.<br />can you please be in touch with me.<br />Thanks<br />amit<br />ipadgv1@me.com</p>											<p class="post-edited">(Last edited by <strong>amitgv1</strong> on 19 Apr 2013, 14:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198973">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">tfishler</div>
					<div class="post-datetime">
						20 Apr 2013, 01:45					</div>
				</div>
				<div class="post-content content">
					<p>Well, due to a lot of common questions, I must say that this firmware does NOT contain any web interface by default. <br />In order to install it you&#039;ll have to telnet to the router on 192.168.1.1, make sure you got internet connection (For ADSL / PPtP you can set the dialup manually) or if you got MPLS connection with the cable company, it will just pull DHCP. </p><p>In order to install luci web interface, after you got an internet connection, you should just run from the telnet session</p><p># opkg update<br /># opkg install luci<br /># /etc/init.d/uhttpd enable<br /># /etc/init.d/uhttpd start</p><p>Another note is, that USB is currently not available due to lack of the usb modules for this kernel. <br />Hope it clarifies some things. <br />Again, feel free to ask if you got any questions.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199699">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jimthx</div>
					<div class="post-datetime">
						26 Apr 2013, 10:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>Thank you for your help.</p><p>But,can i upgrade from this firmware to another?</p><p>I&#039;am trying and i get massage&nbsp; &quot;The uploaded image file does not contain a supported format&quot;</p><p>Thank You</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199703">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">raber151</div>
					<div class="post-datetime">
						26 Apr 2013, 11:06					</div>
				</div>
				<div class="post-content content">
					<p>after succesfull install how can i use L2TP protocol ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199743">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">eximido</div>
					<div class="post-datetime">
						26 Apr 2013, 16:00					</div>
				</div>
				<div class="post-content content">
					<p>As we found out[1] today, you can switch from this firmware to any other openwrt (AA or trunk) via direct mtd write.</p><p><strong>Warning!</strong><br />This commands are potentially harmful and you might brick your device if you&#039;ll try to write broken firmware image!<br />Checking md5 checksums might be useful before flashing.</p><p>I.e. flashing newer trunk:<br /></p><div class="codebox"><pre><code># wget -O /tmp/firmware.bin http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-wdr4300-v1-squashfs-sysupgrade.bin
# mtd -r write /tmp/firmware.bin firmware</code></pre></div><p>After successful flash via mtd you will be able to use common sysupgrade to upgrade firmware, as your device will be unlocked. However if you actually live in Israel remember your regional restriction on 5GHz channels and txpower that you&#039;ll need to set up yourself to conform your local laws.</p><p>[1] <a href="http://forum.ixbt.com/topic.cgi?id=14:56970-167#4660">http://forum.ixbt.com/topic.cgi?id=14:56970-167#4660</a> (discussion in russian)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201794">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">shaynet</div>
					<div class="post-datetime">
						14 May 2013, 20:26					</div>
				</div>
				<div class="post-content content">
					<p>I also have a TP-LINK WDR4300 with an israeli firmware<br />is there a way to go to the official international firmware? ither directly or indirectly by intalling openwrt on it and then going back to an official firmware<br />since i&#039;m a noob to the router custom firmware flashing<br />could any one please explain to me how to install the openwrt firmware or point me to a decent guide<br />or at least relate to my problem</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p201815">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						14 May 2013, 23:58					</div>
				</div>
				<div class="post-content content">
					<p>mtd won&#039;t check, if the file you flash to your routers partition is valid for it or not. so you can go over openwrt to a different firmware. TP-Link sometimes provides firmware images including the bootloader, in that case you need to cut off the bootloader.<br />There is information about getting back to stock firmware in the wiki of several TP-Link devices - they are all somehow similar. Also keep in mind to not violate your countries regulations.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202722">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">leo76</div>
					<div class="post-datetime">
						25 May 2013, 10:46					</div>
				</div>
				<div class="post-content content">
					<p>I am glad to see this post, great to know about such a nice details that I really need..</p><br /><br /><br /><p>...............<br />leo76</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210785">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tfishler</div>
					<div class="post-datetime">
						25 Aug 2013, 19:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,<br />I Uploaded a new firmware based on linux kernel 3.10. <br />Download the zip file and use the appropriate image. <br />sysupgrade - for upgrading from the previous build<br />factory - for a new installation. </p><p><a href="http://www54.zippyshare.com/v/52243650/file.html">http://www54.zippyshare.com/v/52243650/file.html</a></p><p>In order to install LUCI web interface you may have to install the &#039;libustream-openssl&#039; package in addition to the instructions mentioned above. </p><br /><p>md5 sums:</p><p>13876e08be92cd101ddeb17f0b602fd8&nbsp; openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-factory.bin<br />3296cbec6cad238323d31e4666e98913&nbsp; openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-sysupgrade.bin</p><p>Enjoy <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> </p><p>Tal. <br />tfishler@gmail.com</p>											<p class="post-edited">(Last edited by <strong>tfishler</strong> on 25 Aug 2013, 20:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224678">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">ale_sha</div>
					<div class="post-datetime">
						6 Feb 2014, 18:02					</div>
				</div>
				<div class="post-content content">
					<p>Thanks to tfishler and eximido,<br />the chain:<br />tp-link Israeli stock FW GUI&nbsp; -&gt; <br />openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-factory.bin CLI -&gt;<br />openwrt-ar71xx-generic-tl-wdr4300-v1-squashfs-sysupgrade.bin LUCI -&gt;<br />tp-link International stock FW <br />(don’t forget to cut&nbsp; the first 0x20200 Bytes from stock firmware if you have Boot version),<br />worked well for me <br />(all Wi-Fi settings are set to Israel).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235244">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">tfishler</div>
					<div class="post-datetime">
						31 May 2014, 17:03					</div>
				</div>
				<div class="post-content content">
					<p>New release ! <br />This one is based on OpenWrt Barrier Breaker r40887 / LuCI Trunk (svn-r10253)<br />Kernel 3.10.36<br />Luci is already compiled in! <br />In addition, multiwan, polipo, wondershaper and a few more goodies are inside.. </p><p>Files uploaded here:<br /><a href="https://drive.google.com/folderview?id=0B5ezlcB7E5nSR1lPYXhFMXlWOFk&amp;usp=sharing">https://drive.google.com/folderview?id= … sp=sharing</a></p><p>md5sums: <br />94733100f8c0680e0edd634a3c011d97&nbsp; openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-factory.bin<br />16829b34bdce71b9135c55b79535e608&nbsp; openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-sysupgrade.bin</p><br /><p>Let me know if you got any questions. <br />Thanks </p><p>Tal Fishler. <br />tfishler@gmail.com</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253754">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">avma</div>
					<div class="post-datetime">
						9 Nov 2014, 22:12					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I just got the tl-wdr4300 v1.7 and would like to get back to the global firmware rather than the Israeli one.<br />So just to make sure, should i run first : <br />1. openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-factory.bin<br />and then: <br />2. openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-sysupgrade.bin?</p><p>Anything else I need to do or worry about?</p><p>Many thanks<br />Avi</p><div class="quotebox"><cite>tfishler wrote:</cite><blockquote><p>New release ! <br />This one is based on OpenWrt Barrier Breaker r40887 / LuCI Trunk (svn-r10253)<br />Kernel 3.10.36<br />Luci is already compiled in! <br />In addition, multiwan, polipo, wondershaper and a few more goodies are inside.. </p><p>Files uploaded here:<br /><a href="https://drive.google.com/folderview?id=0B5ezlcB7E5nSR1lPYXhFMXlWOFk&amp;usp=sharing">https://drive.google.com/folderview?id= … sp=sharing</a></p><p>md5sums: <br />94733100f8c0680e0edd634a3c011d97&nbsp; openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-factory.bin<br />16829b34bdce71b9135c55b79535e608&nbsp; openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-sysupgrade.bin</p><br /><p>Let me know if you got any questions. <br />Thanks </p><p>Tal Fishler. <br />tfishler@gmail.com</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253761">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">tfishler</div>
					<div class="post-datetime">
						9 Nov 2014, 23:05					</div>
				</div>
				<div class="post-content content">
					<p>Avi, <br />There&#039;s no difference between the Israeli and the &quot;Global&quot; firmware. <br />There&#039;s just some static software signature which I put in and recompiled the original. <br />But basically, just run the factory image, and then you can run the FACTORY global image over it. <br />NO NEED FOR THE SYSUPGRADE ONE. <br />The sysupgrade is for routers that have already IL version and want to upgrade to a newer version without losing the settings and configuration. </p><p>Let me know if you need any more assistance. </p><p>Tal.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253835">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">avma</div>
					<div class="post-datetime">
						10 Nov 2014, 17:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi Tal,</p><p>My Current Firmware Version is : 3.15.33 Build 131016 Rel.53333n, which is a higher version number than the firmware on the global TP-LINK site.&nbsp; Plus I have this red worming message saying I can not update the firmware from the TP-LINK Global site.&nbsp; </p><p>Can i still do the update to the OpenWrt version without getting in to the Putty and telnet part? and will it be possible to go back to the global TP-Link firmware version (not the Israeli one)?</p><p>Thanks a Lot<br />Avi</p>											<p class="post-edited">(Last edited by <strong>avma</strong> on 10 Nov 2014, 21:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253907">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">tfishler</div>
					<div class="post-datetime">
						11 Nov 2014, 10:16					</div>
				</div>
				<div class="post-content content">
					<p>Avi, <br />You&#039;re talking about the firmware version of the original TP-Link? If yes, you can do the openwrt upgrade safely. <br />After you upgrade to openwrt, you can revert back to the original TP-Link official firmware from their global site - there should not be any issues with that.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p253912">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">avma</div>
					<div class="post-datetime">
						11 Nov 2014, 10:48					</div>
				</div>
				<div class="post-content content">
					<p>Tanks Tal,</p><p>Well, If we can call the Firmware provided with the device sold in Israel (and tweaked by the local vendor) original then yes ;-)</p><p>any way i&#039;m gonna give it a go this evening and see what happens</p><br /><br /><div class="quotebox"><cite>tfishler wrote:</cite><blockquote><p>Avi, <br />You&#039;re talking about the firmware version of the original TP-Link? If yes, you can do the openwrt upgrade safely. <br />After you upgrade to openwrt, you can revert back to the original TP-Link official firmware from their global site - there should not be any issues with that.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264199">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">knowfear1337</div>
					<div class="post-datetime">
						4 Feb 2015, 23:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tfishler wrote:</cite><blockquote><p>Avi, <br />There&#039;s no difference between the Israeli and the &quot;Global&quot; firmware. <br />There&#039;s just some static software signature which I put in and recompiled the original. <br />But basically, just run the factory image, and then you can run the FACTORY global image over it. <br />NO NEED FOR THE SYSUPGRADE ONE. <br />The sysupgrade is for routers that have already IL version and want to upgrade to a newer version without losing the settings and configuration. </p><p>Let me know if you need any more assistance. </p><p>Tal.</p></blockquote></div><p>hello and thanks for helping me&nbsp; get rid of the firmware issue i was having ... but now i have a router i cant use&nbsp; at all <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /> <br />to clarify, i flashed the router with your factory image and now it wont accept any other .bin file to flash over it, i have tried all 3 downloads from the TP-Link website, <br />i have also tried the latest OpenWrt firmware for this router, and i have tried&nbsp; the DD-WRT factory flash and all i get is a warning saying that it does not contain a valid image type for my router <br />my biggest problem of all is the lack of internet ... i had to go back to my spare router [the one i was trying to replace] <br />im not good with linux,&nbsp; i know basically no commands for it so i don&#039;t really want to keep openwrt, but anything that would let me actually use my router now would be great&nbsp; <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335737">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">anarchy99</div>
					<div class="post-datetime">
						24 Aug 2016, 00:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tfishler wrote:</cite><blockquote><p>Hi All,<br />After all discussions I compiled openwrt with the patch from <a href="http://www.mail-archive.com/openwrt-devel@lists.openwrt.org/msg17574.html">http://www.mail-archive.com/openwrt-dev … 17574.html</a></p><p>So If anyone intersted. I&#039;m attaching it here. <br />It is confirmed to work! </p><p>Have fun <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> </p><p><a href="http://www39.zippyshare.com/v/55134825/file.html">openwrt-ar71xx-generic-tl-wdr4300-v1-il-squashfs-factory.bin</a></p></blockquote></div><p>how did you come up with the hwrev string 8001 ? from official fw?</p><p>as far as i know there 3 differents ways of firmware localization:</p><p>1. string 00000001 at offset 44-47 that should allow any firmware upgrade</p><p>2. country code in hex format at offset 44-47: 55530000 (used in TL-WR810N US ver.)</p><p>3. several different hwrev strings across various firmware files at offset 42-43: 0001 (EU?), 0101 (CN?), 1101 (US?) and 8001 (IL)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338215">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">knowfear1337</div>
					<div class="post-datetime">
						14 Sep 2016, 01:03					</div>
				</div>
				<div class="post-content content">
					<p>I personally thought this thread was dead, until i got the email with anarchy99&#039;s reply, i havnt had any feedback from tfishler since a couple months after my last reply as i contacted him via email, i still have a quite useless router and its got to a point where it would be very useful to have it work again. </p><p>i am seriously considering trying to flash it via a USP- serial adapter if i can find a soldering iron to put in some pins as all i get at the moment is that the image type isn&#039;t supported.&nbsp; </p><p>at this point i dont even have a copy of the original il tp-link firmware to try and flash back onto it to see if that would work again</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>