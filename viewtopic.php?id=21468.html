<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How do I install GCC into OpenWrt?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p92929">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jesseg</div>
					<div class="post-datetime">
						20 Aug 2009, 05:26					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m running OpenWrt on a 667Mhz x86 Single Board Computer with 256M of ram and a 512M or bigger flash card or hard drive....</p><p>I cannot seem to find a package for GCC to install so that I can use it to develope code on.</p><p>Is this possible?</p><p>(Yeah, yeah, I know, I know, most folks routers couldn&#039;t even hold GCC... [double wide grin])</p><p>Thanks very much,</p><p>-Jesse</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92988">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ciscostu</div>
					<div class="post-datetime">
						21 Aug 2009, 04:13					</div>
				</div>
				<div class="post-content content">
					<p>I think you&#039;ll have to build your own package (with the OpenWrt buildroot or SDK).</p><p>The Makefile is here-</p><p><a href="https://dev.openwrt.org/browser/packages/devel/gcc">https://dev.openwrt.org/browser/packages/devel/gcc</a></p><p>Hope this helps,<br />Charlie</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92989">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jesseg</div>
					<div class="post-datetime">
						21 Aug 2009, 04:44					</div>
				</div>
				<div class="post-content content">
					<p>Thanks very much, Charlie!</p><p>Setting up a build environment is something I haven&#039;t yet ventured to do....!</p><p>I&#039;ll have to give that a try, when I stumble upon directions.</p><p>Thanks again,</p><p>-Jesse</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94286">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jesseg</div>
					<div class="post-datetime">
						15 Sep 2009, 01:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ciscostu wrote:</cite><blockquote><p>I think you&#039;ll have to build your own package (with the OpenWrt buildroot or SDK).</p><p>The Makefile is here-</p><p><a href="https://dev.openwrt.org/browser/packages/devel/gcc">https://dev.openwrt.org/browser/packages/devel/gcc</a></p><p>Hope this helps,<br />Charlie</p></blockquote></div><p>Could someone please be so kind as to direct me to working instructions on how to make buildlroot work?<br />I&#039;ve never done it before (although I&#039;ve been compiling stuff for slackware linux for years).</p><p>Every tutorial I find so far on how to do buildroot doesn&#039;t work. They all fail with something like:</p><div class="codebox"><pre><code>svn co https://svn.openwrt.org/openwrt/branches/whiterussian/openwrt/ whiterussian
svn: PROPFIND request failed on &#039;/openwrt/branches/whiterussian/openwrt&#039;
svn: PROPFIND of &#039;/openwrt/branches/whiterussian/openwrt&#039;: 405 Not Allowed (https://svn.openwrt.org)</code></pre></div><p>(from <a href="https://forum.openwrt.org/viewtopic.php?id=8410)">https://forum.openwrt.org/viewtopic.php?id=8410)</a></p><br /><p>or:<br /></p><div class="codebox"><pre><code>svn co https://svn.openwrt.org/openwrt/trunk/
svn: PROPFIND request failed on &#039;/openwrt/trunk&#039;
svn: PROPFIND of &#039;/openwrt/trunk&#039;: 405 Not Allowed (https://svn.openwrt.org)</code></pre></div><p>(from <a href="http://downloads.openwrt.org/docs/buildroot-documentation.html)">http://downloads.openwrt.org/docs/build … tion.html)</a></p><p>Admittedly, I don&#039;t often use svn.. (Usually I just get the tarball.)</p><p>What am I doing wrong?</p><p>Thank you very much,</p><p>-Jesse</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94288">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						15 Sep 2009, 02:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi Jesse.</p><p>First of all, don&#039;t use whiterussian - it&#039;s outdated, unmaintained and not supported anymore. The reason why every single tutorial seems to fails for you is that openwrt.org changed it&#039;s svn location recently, it now uses svn:// instead of https:// . So the right command for checkout would be:</p><p>&nbsp; svn co svn://svn.openwrt.org/openwrt/trunk/</p><p>For the next steps I recommend reading this forum post outlining the usual steps:</p><p>&nbsp; <a href="https://forum.openwrt.org/viewtopic.php?id=16599">https://forum.openwrt.org/viewtopic.php?id=16599</a></p><p>Regards,<br />JoW</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94358">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jesseg</div>
					<div class="post-datetime">
						15 Sep 2009, 19:55					</div>
				</div>
				<div class="post-content content">
					<p>Thanks very much, Jow.</p><p>I followed your suggestion and the link you provided and everything went fine until &quot;make world V=99&quot; when it said it could not download RT2870_Firmware_V8.zip and after getting 404 at three mirrors, it gave up.</p><p>Unfortunately the exact errors went off the top of my scrollback buffer in screen - so I&#039;m re-running make world V=99 to get them again and I&#039;ll paste them in here then.</p><p>Should I disable RT2870, or try to download the file it&#039;s missing? If so how/where?</p><p>Thanks very much,</p><p>-Jesse</p><p>PS: Here&#039;s the exact error:<br /></p><div class="codebox"><pre><code>rm -rf /big/usr/src/openwrt/trunk/staging_dir/target-i386_uClibc-0.9.30.1/root-x86/tmp-libiw
touch /big/usr/src/openwrt/trunk/staging_dir/target-i386_uClibc-0.9.30.1/root-x86/stamp/.libiw_installed
make[3]: Leaving directory `/big/usr/src/openwrt/trunk/package/wireless-tools&#039;
make[3]: Entering directory `/big/usr/src/openwrt/trunk/package/mac80211&#039;
mkdir -p /big/usr/src/openwrt/trunk/dl
/big/usr/src/openwrt/trunk/scripts/download.pl &quot;/big/usr/src/openwrt/trunk/dl&quot; &quot;RT2870_Firmware_V8.zip&quot; &quot;a7aae1d8cfd68e4d86a73000df0b6584&quot; http://www.ralinktech.com.tw/data/drivers
--10:00:44--  http://www.ralinktech.com.tw/data/drivers/RT2870_Firmware_V8.zip
           =&gt; `-&#039;
Resolving www.ralinktech.com.tw... 211.75.121.149
Connecting to www.ralinktech.com.tw|211.75.121.149|:80... connected.
HTTP request sent, awaiting response... 404 Not Found
10:00:47 ERROR 404: Not Found.

Download failed.
--10:00:47--  http://mirror2.openwrt.org/sources/RT2870_Firmware_V8.zip
           =&gt; `-&#039;
Resolving mirror2.openwrt.org... 88.198.39.176
Connecting to mirror2.openwrt.org|88.198.39.176|:80... connected.
HTTP request sent, awaiting response... 404 Not Found
10:00:48 ERROR 404: Not Found.

Download failed.
--10:00:48--  http://downloads.openwrt.org/sources/RT2870_Firmware_V8.zip
           =&gt; `-&#039;
Resolving downloads.openwrt.org... 78.24.191.177
Connecting to downloads.openwrt.org|78.24.191.177|:80... connected.
HTTP request sent, awaiting response... 404 Not Found
10:00:49 ERROR 404: Not Found.

Download failed.
No more mirrors to try - giving up.
make[3]: *** [/big/usr/src/openwrt/trunk/dl/RT2870_Firmware_V8.zip] Error 2
make[3]: Leaving directory `/big/usr/src/openwrt/trunk/package/mac80211&#039;
make[2]: *** [package/mac80211/compile] Error 2
make[2]: Leaving directory `/big/usr/src/openwrt/trunk&#039;
make[1]: *** [/big/usr/src/openwrt/trunk/staging_dir/target-i386_uClibc-0.9.30.1/stamp/.package_compile] Error 2
make[1]: Leaving directory `/big/usr/src/openwrt/trunk&#039;
make: *** [world] Error 2</code></pre></div>											<p class="post-edited">(Last edited by <strong>jesseg</strong> on 15 Sep 2009, 20:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94362">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jesseg</div>
					<div class="post-datetime">
						15 Sep 2009, 20:14					</div>
				</div>
				<div class="post-content content">
					<p>Solve own problem:</p><p><a href="https://dev.openwrt.org/ticket/5834">https://dev.openwrt.org/ticket/5834</a></p><p>Follow the directions, download the file you need, and put it in the dl/ folder.</p><p>If you just download what looks like the link to the filename you&#039;ll get more HTML - so you need to first click the link, then download the file that is titled &quot;Try downloading&quot;.</p><p>The url to the actual zip file is:</p><p><a href="https://dev.openwrt.org/raw-attachment/ticket/5834/RT2870_Firmware_V8.zip">https://dev.openwrt.org/raw-attachment/ … are_V8.zip</a></p><p>By the way, I don&#039;t know if this is a bug that really matters, but putting an invalid zip file in the dl/ directory does not cause &quot;make world V=99&quot; to fail until it goes to copy a file which doesn&#039;t exist because the zip file didn&#039;t create it when unzipped.<br />(The first time I tried the above file, I saved the HTML (named *.zip) into the dl/ dir and then ran &quot;make world V=99&quot; and it continued until it was time to copy the contents of the zip file. It might be better if it had bailed out when it found one of the zip files was corrupted.)</p><p>Note that I actually had to manually unzip the above mentioned firmware zip file and copy its contents to build_dir/linux-x86_generic/compat-wireless-2009-08-20/ to get it to compile.<br />But that may be because I had first tried with an invalid zipfile and it somehow cached the invalid results and then neglected to install it again.</p><br /><p>I&#039;ll see how that works out..</p><p>-Jesse</p>											<p class="post-edited">(Last edited by <strong>jesseg</strong> on 15 Sep 2009, 21:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94366">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jesseg</div>
					<div class="post-datetime">
						15 Sep 2009, 21:33					</div>
				</div>
				<div class="post-content content">
					<p>Stuck again, and no idea how to proceed: Getting:<br />make[4]: /big/usr/src/openwrt/trunk/staging_dir/target-i386_uClibc-0.9.30.1/host/bin/g++-uc: Command not found</p><p>Any clues?</p><p>Thanks,</p><p>-Jesse</p><div class="codebox"><pre><code>mkdir -p /big/usr/src/openwrt/trunk/dl
/big/usr/src/openwrt/trunk/scripts/download.pl &quot;/big/usr/src/openwrt/trunk/dl&quot; &quot;l7-protocols-2009-05-28.tar.gz&quot; &quot;91be154d12134dcdbc560cc7aa7fe4ce&quot; @SF/l7-filter
--11:13:01--  http://downloads.sourceforge.net/l7-filter/l7-protocols-2009-05-28.tar.gz
           =&gt; `-&#039;
Resolving downloads.sourceforge.net... 216.34.181.59
Connecting to downloads.sourceforge.net|216.34.181.59|:80... connected.
HTTP request sent, awaiting response... 302 Found
Location: http://softlayer.dl.sourceforge.net/project/l7-filter/Protocol%20definitions/2009-05-28/l7-protocols-2009-05-28.tar.gz [following]
--11:13:02--  http://softlayer.dl.sourceforge.net/project/l7-filter/Protocol%20definitions/2009-05-28/l7-protocols-2009-05-28.tar.gz
           =&gt; `-&#039;
Resolving softlayer.dl.sourceforge.net... 74.86.229.28
Connecting to softlayer.dl.sourceforge.net|74.86.229.28|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 142,050 (139K) [application/x-gzip]

100%[=============================================================================================================&gt;] 142,050       41.56K/s    ETA 00:00

11:13:16 (41.54 KB/s) - `-&#039; saved [142050/142050]

gzip -dc /big/usr/src/openwrt/trunk/dl/l7-protocols-2009-05-28.tar.gz | /usr/local/bin/tar -C /big/usr/src/openwrt/trunk/build_dir/target-i386_uClibc-0.9.30.1/l7-protocols-2009-05-28/.. -xf -

Applying ./patches/100-testing_crosscompile.patch using plaintext:
patching file testing/Makefile

Applying ./patches/101-testing-timeit.patch using plaintext:
patching file testing/timeit.sh

Applying ./patches/102-testing-doallspeeds.patch using plaintext:
patching file testing/doallspeeds.sh
touch /big/usr/src/openwrt/trunk/build_dir/target-i386_uClibc-0.9.30.1/l7-protocols-2009-05-28/.prepared_c94635ed9b74e1b05d72467bd644bbff
touch /big/usr/src/openwrt/trunk/build_dir/target-i386_uClibc-0.9.30.1/l7-protocols-2009-05-28/.configured_
cd /big/usr/src/openwrt/trunk/build_dir/target-i386_uClibc-0.9.30.1/l7-protocols-2009-05-28/testing &amp;&amp; make AR=i486-openwrt-linux-uclibc-ar AS=&quot;i486-openwrt-linux-uclibc-gcc -c -O2 -pipe -march=i486 -funit-at-a-time -fhonour-copts&quot; LD=i486-openwrt-linux-uclibc-ld NM=i486-openwrt-linux-uclibc-nm CC=&quot;i486-openwrt-linux-uclibc-gcc&quot; GCC=&quot;i486-openwrt-linux-uclibc-gcc&quot; CXX=&quot;i486-openwrt-linux-uclibc-g++&quot; RANLIB=i486-openwrt-linux-uclibc-ranlib STRIP=i486-openwrt-linux-uclibc-strip OBJCOPY=i486-openwrt-linux-uclibc-objcopy OBJDUMP=i486-openwrt-linux-uclibc-objdump SIZE=i486-openwrt-linux-uclibc-size CXX=&quot;/big/usr/src/openwrt/trunk/staging_dir/target-i386_uClibc-0.9.30.1/host/bin/g++-uc&quot;
make[4]: Entering directory `/big/usr/src/openwrt/trunk/build_dir/target-i386_uClibc-0.9.30.1/l7-protocols-2009-05-28/testing&#039;
i486-openwrt-linux-uclibc-gcc -O2 -o randchars randchars.c
&lt;built-in&gt;:0: note: someone does not honour COPTS correctly, passed 0 times
i486-openwrt-linux-uclibc-gcc -O2 -o randprintable randprintable.c
&lt;built-in&gt;:0: note: someone does not honour COPTS correctly, passed 0 times
i486-openwrt-linux-uclibc-gcc -o test_speed-kernel test_speed-kernel.c
&lt;built-in&gt;:0: note: someone does not honour COPTS correctly, passed 0 times
/big/usr/src/openwrt/trunk/staging_dir/target-i386_uClibc-0.9.30.1/host/bin/g++-uc -Wall -o test_speed-userspace test_speed-userspace.cpp l7-parse-patterns.cpp
make[4]: /big/usr/src/openwrt/trunk/staging_dir/target-i386_uClibc-0.9.30.1/host/bin/g++-uc: Command not found
make[4]: *** [test_speed-userspace] Error 127
make[4]: Leaving directory `/big/usr/src/openwrt/trunk/build_dir/target-i386_uClibc-0.9.30.1/l7-protocols-2009-05-28/testing&#039;
make[3]: *** [/big/usr/src/openwrt/trunk/build_dir/target-i386_uClibc-0.9.30.1/l7-protocols-2009-05-28/.built] Error 2
make[3]: Leaving directory `/big/usr/src/openwrt/trunk/feeds/packages/net/l7-protocols&#039;
make[2]: *** [package/feeds/packages/l7-protocols/compile] Error 2
make[2]: Leaving directory `/big/usr/src/openwrt/trunk&#039;
make[1]: *** [/big/usr/src/openwrt/trunk/staging_dir/target-i386_uClibc-0.9.30.1/stamp/.package_compile] Error 2
make[1]: Leaving directory `/big/usr/src/openwrt/trunk&#039;
make: *** [world] Error 2
jesseg@stats:/big/usr/src/openwrt/trunk$</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94424">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">bifferos</div>
					<div class="post-datetime">
						16 Sep 2009, 11:08					</div>
				</div>
				<div class="post-content content">
					<p>This is probably off-topic, I know, but If you are running x86 hardware, why don&#039;t you just use Slackware?&nbsp; Or, perhaps copy gcc from slackware (along with any required libraries).&nbsp; If we can run Slackware on the Bifferboard (32MB of RAM), you can surely run it on your hardware.</p><p>Biff.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94472">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">jesseg</div>
					<div class="post-datetime">
						16 Sep 2009, 19:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bifferos wrote:</cite><blockquote><p>This is probably off-topic, I know, but If you are running x86 hardware, why don&#039;t you just use Slackware?&nbsp; Or, perhaps copy gcc from slackware (along with any required libraries).&nbsp; If we can run Slackware on the Bifferboard (32MB of RAM), you can surely run it on your hardware.</p><p>Biff.</p></blockquote></div><p>Biff,</p><p>Because OpenWrt is just so cool!</p><p>There are a couple other reasons too - I don&#039;t know yet how to set up the filesystem for slackware myself so that it doesn&#039;t constantly wear the flash card out. (But slackware definitely my favorite for my regular computers! I&#039;ve been using it for around 10 years I suppose.)</p><p>(OpenWrt has a really cool filesystem configuration which, as far as I know, never writes to the flash memory unless there&#039;s an actual need to, thus preventing constant wear of my CF card. )</p><p>Also, it&#039;s just so easy to get OpenWrt to fit on a really cheap half gig CF card.. It takes a good bit more work to get Slackware to fit inside there with some room left over.</p><p>And, slackware has no package feed system - which isn&#039;t a huge problem - but for little boxes a package feed system is just so nice.</p><p>As to just copying gcc binaries from slackware to my OpenWrt box - I did try copying a simple Hello World C binary over and it wouldn&#039;t run for the want of some libraries and I guess I just figured that it&#039;d be such a foxhunt trying to figure out what all libraries I needed. And GCC would probably need so many more then my HelloWorld program. But if you&#039;ve done such a copy and it was quite feasible, then I would like to know about it - and I will try too!</p><p>Having said that, if anyone can point me to instructions on how to set up a filesystem scheme that is read/write for all practical purposes and yet never writes to the flash card except when a file actually needs to be saved, I would be most happy and grateful!</p><p>Thanks very much,</p><p>-Jesse</p>											<p class="post-edited">(Last edited by <strong>jesseg</strong> on 16 Sep 2009, 19:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94480">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">mordak</div>
					<div class="post-datetime">
						16 Sep 2009, 22:10					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the info on the RT2870_Firmware_V8.zip file. I was trying to compile last night and this error popped up, went to Google and this was the first link that showed up. :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101044">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">edpgc</div>
					<div class="post-datetime">
						21 Jan 2010, 02:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jesseg wrote:</cite><blockquote><p>Stuck again, and no idea how to proceed: Getting:<br />make[4]: /big/usr/src/openwrt/trunk/staging_dir/target-i386_uClibc-0.9.30.1/host/bin/g++-uc: Command not found</p><p>Any clues?</p></blockquote></div><p>I&#039;ve got the same problem with the terminal output looking almost identical to yours, how did you resolve it?&nbsp; I&#039;m using Debian.</p><p>Thanks</p><p>Ed</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101045">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">jesseg</div>
					<div class="post-datetime">
						21 Jan 2010, 02:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>edpgc wrote:</cite><blockquote><div class="quotebox"><cite>jesseg wrote:</cite><blockquote><p>Stuck again, and no idea how to proceed: Getting:<br />make[4]: /big/usr/src/openwrt/trunk/staging_dir/target-i386_uClibc-0.9.30.1/host/bin/g++-uc: Command not found</p><p>Any clues?</p></blockquote></div><p>I&#039;ve got the same problem with the terminal output looking almost identical to yours, how did you resolve it?&nbsp; I&#039;m using Debian.</p><p>Thanks</p><p>Ed</p></blockquote></div><p>Sorry, Ed. I finally gave up.</p><p>Sincerely,</p><p>-Jesse</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p101129">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">edpgc</div>
					<div class="post-datetime">
						21 Jan 2010, 22:29					</div>
				</div>
				<div class="post-content content">
					<p>OK I ran</p><p>make package/symlinks</p><p>And that seemed to fix it, but I now have another issue...</p>											<p class="post-edited">(Last edited by <strong>edpgc</strong> on 21 Jan 2010, 22:29)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>