<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Transcend WifiSD / PQI AirCard / FluCard Pro</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 29 Mar 2018 and 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 10</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=45820&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=45820&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=45820&amp;p=10.html">10</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p209965">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						16 Aug 2013, 22:11					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>As I didn&#039;t see any topic mentioning this nice little piece of hardware, I decided to create my own.<br />Those three products and their variants are all SD Card with a wifi AP/Client running an embedded Linux. Some very interesting work has already been done on them :<br />- <a href="http://blog.osakana.net/archives/2125">FluCard Pro</a> in japanese<br />- <a href="http://lemoidului.wordpress.com/">PQI AirCard</a> in french<br />- <a href="http://haxit.blogspot.ch/2013/08/hacking-transcend-wifi-sd-cards.html">Hacking Transcend WiFi SD Cards</a> in english - <a href="http://www.reddit.com/r/netsec/comments/1k4zhz/i_rooted_my_transcend_wifi_sd_card_and_wrote_a/">Reddit thread</a><br />- <a href="http://www.fernjager.net/post-8/sdcard">Modifying Transcend WiFi SD Card Firmware</a> in english<br />- <a href="http://colas.sebastien.free.fr/index.php/category/transcend-sdhc-wifi/">Transcend SDHC wifi</a> in french<br />- <a href="http://ameblo.jp/tonsuke-usagi/entry-11212317428.html">Cross-compile for FluCard</a> in japanese - <a href="http://translate.google.com/translate?hl=en&amp;sl=ja&amp;tl=en&amp;u=http%3A%2F%2Fameblo.jp%2Ftonsuke-usagi%2Fentry-11212317428.html&amp;sandbox=1">Google translate</a><br />- <a href="http://dmitry.gr/index.php?r=05.Projects&amp;proj=15&amp;proj=15.%20Transcend%20WiFiSD">Advanced Transcend WiFiSD hacking</a></p><p>Here are my photos of the inside of the Transcend WifiSD 16G :</p><p>Front<br /><span class="postimg"><img src="http://stuff.knackes.com/dld/201308/Transcend-WifiSD-16Go-512px_805434CD.jpg" alt="http://stuff.knackes.com/dld/201308/Transcend-WifiSD-16Go-512px_805434CD.jpg" /></span><br /><a href="http://stuff.knackes.com/dld/201308/Transcend-WifiSD-16Go_37BFB1B7.jpg">High resolution</a></p><p>Back<br /><span class="postimg"><img src="http://stuff.knackes.com/dld/201308/Transcend-WifiSD-16Go-Pads-512px_8C3CB7EC.jpg" alt="http://stuff.knackes.com/dld/201308/Transcend-WifiSD-16Go-Pads-512px_8C3CB7EC.jpg" /></span><br /><a href="http://stuff.knackes.com/dld/201308/Transcend-WifiSD-16Go-Pads_80852C2B.jpg">High resolution</a></p><p>SD Pin name according to <a href="http://en.wikipedia.org/wiki/Secure_Digital#Transfer_modes">Wikipedia on SD Card</a><br />RX &amp; TX serial console (38400 8N1) discovered by cnovus</p><br /><p>the PQI AirCard :</p><p>Front<br /><span class="postimg"><img src="http://stuff.knackes.com/dld/201310/PQI-Front-500_D5EF5F76.jpg" alt="http://stuff.knackes.com/dld/201310/PQI-Front-500_D5EF5F76.jpg" /></span><br /><a href="http://stuff.knackes.com/dld/201310/PQI-Front_B1B3EDFF.jpg">High resolution</a></p><p>Back<br /><span class="postimg"><img src="http://stuff.knackes.com/dld/201310/PQI-Back-500_32B9A9DC.jpg" alt="http://stuff.knackes.com/dld/201310/PQI-Back-500_32B9A9DC.jpg" /></span><br /><a href="http://stuff.knackes.com/dld/201310/PQI-Back_97EB3742.jpg">High resolution</a></p><p>and the Trek FluCard Pro :</p><p>Front<br /><span class="postimg"><img src="http://stuff.knackes.com/dld/201310/Front-500_CBDB2A1B.jpg" alt="http://stuff.knackes.com/dld/201310/Front-500_CBDB2A1B.jpg" /></span><br /><a href="http://stuff.knackes.com/dld/201310/Front_820B92AF.jpg">VERY High resolution</a> (15Mo)</p><p>Back<br /><span class="postimg"><img src="http://stuff.knackes.com/dld/201310/Bottom-500_3A46C351.jpg" alt="http://stuff.knackes.com/dld/201310/Bottom-500_3A46C351.jpg" /></span><br /><a href="http://stuff.knackes.com/dld/201310/Bottom_69DD8253.jpg">VERY High resolution</a> (9Mo)</p><br /><p>Enable passwordless telnet &amp; ftp by creating a file named autorun.sh in the root of the sd card and putting inside it<br /></p><div class="codebox"><pre><code>rcS6
tcpsvd -vE 0.0.0.0 21 ftpd -w /mnt/sd/ &amp;</code></pre></div><p>Thanks go to Pablo &amp; Sebastien Colas for discovering it</p><p>Some commands in telnet :<br /></p><div class="codebox"><pre><code># dmesg
(192-96-1)
console [ttyS0] enabled
Mount-cache hash table entries: 512
NET: Registered protocol family 16
bio: create slab &lt;bio-0&gt; at 0
cfg80211: Calling CRDA to update world regulatory domain
NET: Registered protocol family 2
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
ttyS0 at MMIO 0xa0004000 (irq = 1) is a KA2000
msgmni has been set to 58
loop: module loaded
TCP cubic registered
NET: Registered protocol family 17
lib80211: common routines for IEEE802.11 drivers
lib80211_crypt: registered algorithm &#039;NULL&#039;
ka2000_sdhc: module license &#039;Proprietary&#039; taints kernel.
Disabling lock debugging due to kernel taint
(0&gt;0)switch_modules
max_blk_size=512, max_blk_count=8, max_req_size=32768
init bomb irq
req irq 40 (1000000)
req irq 43 (40)
req irq 41 (43)
ka_sdhc_drv_init
bw = 22
mmc0: new SDHC card at address b368
mmcblk0: mmc0:b368 CAR 15.0 GiB
 mmcblk0:bootsec @ 2000
 p1
FAT sec 20 sz 3c04 #2 rtdir 7828 csz 10
FAT sec 20 sz 3c04 #2 rtdir 7828 csz 10
sdio wakeup
mmc1: queuing CIS tuple 0x01 length 3
mmc1: queuing CIS tuple 0x1a length 5
mmc1: queuing CIS tuple 0x1b length 8
mmc1: queuing CIS tuple 0x14 length 0
mmc1: queuing CIS tuple 0x80 length 1
mmc1: queuing CIS tuple 0x81 length 1
mmc1: queuing CIS tuple 0x82 length 1
mmc1: new SDIO card at address 0001
AR6000: configuration opcode 7 is only used for RTOS systems, not Linux systems
ath6k/AR6003/hw2.1.1/athwlan.bin firmware will be loaded
AR6K: ** HIF layer does not support scatter requests (17)
wmi_control_rx() : Unknown id 0x101e
Add Filter 0 = 01:00:5e:00:00:01
Keep Filter 0 = 01:00:5e:00:00:01
Keep Filter 0 = 01:00:5e:00:00:01
(0&gt;1)dcim c 3 @9838, f:2020 (off 404008)
Folder: 199_WIFIWSD00003 (5f393931 49464957)
Img1: WSD00003 (30445357 33303030 sz 79cdh)
user_dir:(5f333231 20505446)(00000000 00000000)
ctrlimg c 1c01ff @1c0b7f8, f:5823 (off b047f8)

3 c 203-207 @b838 f:2024(o:3)
misc c 1c0200 @1c0b808
bomb reg2 1c0b808 - 1c0b80d
bomb reg 2020 - 5c24
st 1c0181, 1:3, 2:0, 3:0, 4:0, 5:0

3 c 1c0203-1c0207 @1c0b838 f:5824(o:3)
fat cnt 4, x0, pBuf1 c17e5200, pBuf2 0(1) [0]:001c0204  [1]:001c0205  [2]:001c0206  [3]:0fffffff
Undel img1
bomb reg 2020 - 5c24
restore 3-6 to 22564 (001c0204)
m1_cmd = 1
Img #1 del
(1&gt;0)
channel hint set to 0
iwioctl: cmd=0x8b03 not allowed in this mode
iwioctl: cmd=0x8b1d not allowed in this mode
wext_ioctl: cmd=0x8b29 not allowed in this mode
iwioctl: cmd=0x8b23 not allowed in this mode
iwioctl: cmd=0x8b25 not allowed in this mode
channel hint set to 0
Keep Filter 0 = 01:00:5e:00:00:01
debug_hdr_ptr: 0x5429a0
 Attempting to reset target on instance destroy....
Sdio trans timeout
AR6000: configuration opcode 7 is only used for RTOS systems, not Linux systems
ath6k/AR6003/hw2.1.1/athwlan.bin firmware will be loaded
AR6K: ** HIF layer does not support scatter requests (17)
wmi_control_rx() : Unknown id 0x101e
iwioctl: cmd=0x8b03 not allowed in this mode
iwioctl: cmd=0x8b1d not allowed in this mode
iwioctl: cmd=0x8b23 not allowed in this mode
iwioctl: cmd=0x8b25 not allowed in this mode
Add Filter 0 = 01:00:5e:00:00:01
Keep Filter 0 = 01:00:5e:00:00:01
Keep Filter 0 = 01:00:5e:00:00:01
WMM params
AC 0, ACM 0, AIFSN 3, CWmin 4, CWmax 10, TXOPlimit 0
AC 1, ACM 0, AIFSN 7, CWmin 4, CWmax 10, TXOPlimit 0
AC 2, ACM 0, AIFSN 2, CWmin 3, CWmax 4, TXOPlimit 94
AC 3, ACM 0, AIFSN 2, CWmin 2, CWmax 3, TXOPlimit 47
Keep Filter 0 = 01:00:5e:00:00:01
channel hint set to 0
iwioctl: cmd=0x8b03 not allowed in this mode
iwioctl: cmd=0x8b1d not allowed in this mode
iwioctl: cmd=0x8b23 not allowed in this mode
iwioctl: cmd=0x8b25 not allowed in this mode

# cat /proc/meminfo
MemTotal:          29824 kB
MemFree:            8256 kB
Buffers:            7720 kB
Cached:             9036 kB
SwapCached:            0 kB
Active:            10260 kB
Inactive:           7392 kB
Active(anon):        896 kB
Inactive(anon):        0 kB
Active(file):       9364 kB
Inactive(file):     7392 kB
Unevictable:           0 kB
Mlocked:               0 kB
SwapTotal:             0 kB
SwapFree:              0 kB
Dirty:                 0 kB
Writeback:             0 kB
AnonPages:           920 kB
Mapped:              660 kB
Shmem:                 0 kB
Slab:               2236 kB
SReclaimable:       1224 kB
SUnreclaim:         1012 kB
KernelStack:         320 kB
PageTables:          152 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:       29824 kB
Committed_AS:       8824 kB
VmallocTotal:     825344 kB
VmallocUsed:         324 kB
VmallocChunk:     824240 kB

# df -h
Filesystem                Size      Used Available Use% Mounted on
/dev/mtdblock0            1.0M    764.0K    260.0K  75% /mnt/mtd
/dev/mmcblk0p1           15.0G     88.0K     15.0G   0% /mnt/sd

# mount
proc on /proc type proc (0)
/dev/mtdblock0 on /mnt/mtd type jffs2 (0)
none on /dev/pts type devpts (mode=0622)
/dev/mmcblk0p1 on /mnt/sd type vfat (shortname=winnt,iocharset=utf8,rw)

# cat /proc/cpuinfo
Processor       : ARM926EJ-S rev 5 (v5l)
BogoMIPS        : 421.06
Features        : swp half fastmult edsp java
CPU implementer : 0x41
CPU architecture: 5TEJ
CPU variant     : 0x0
CPU part        : 0x926
CPU revision    : 5

Hardware        : KeyASIC Ka2000 EVM
Revision        : 0000
Serial          : 0000000000000000

# iwconfig
lo        no wireless extensions.

mlan0     AR6000 802.11g  ESSID:&quot;&quot;  Nickname:&quot;&quot;
          NWID:off/any  Mode:Managed  Frequency:2.462 GHz
          Access Point:    Bit Rate:24 Mb/s   Tx-Power=12 dBm  
          Sensitivity=0/3
          Retry:on   RTS thr=0 B   Fragment thr=0 B
          Encryption key:   Security mode:open
          Power Management:on
          Link Quality:11/94  Signal level:-84 dBm  Noise level:-96 dBm
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:45  Invalid misc:0   Missed beacon:0

# stty
speed 38400 baud; line = 0;
intr = ^C; quit = ^\; erase = ^?; kill = ^U; eof = ^D; eol = &lt;undef&gt;;
eol2 = &lt;undef&gt;; swtch = &lt;undef&gt;; start = ^Q; stop = ^S; susp = ^Z; rprnt = ^R;
werase = ^W; lnext = ^V; flush = ^O; min = 1; time = 0;
-brkint -imaxbel
tab3</code></pre></div><p><strong>Downloads</strong></p><p><a href="http://dk.transcend-info.com/files/Driver/WiFiSD_v1.8.zip">Transcend WifiSD Official Firmware 1.8</a><br /><a href="http://dk.transcend-info.com/files/Driver/WiFiSD_v1.7.zip">Transcend WifiSD Official Firmware 1.7</a><br /><a href="http://dk.transcend-info.com/files/Driver/WiFiSD_v1.6.zip">Transcend WifiSD Official Firmware 1.6</a><br /><a href="http://dk.transcend-info.com/files/Driver/WiFiSD_v1.5.zip">Transcend WifiSD Official Firmware 1.5</a><br /><a href="http://dk.transcend-info.com/files/Driver/WiFiSD_v1.4.zip">Transcend WifiSD Official Firmware 1.4</a><br /><a href="http://dk.transcend-info.com/files/Driver/WiFiSD_GPL_release.zip">Transcend WifiSD GPL Release</a><br /><a href="http://dk.transcend-info.com/files/Driver/GPL_release.zip">Transcend WifiSD GPL Release with uboot source</a></p><p><a href="http://www.pqigroup.com/download.aspx?dlfn=20130201103451001.zip">PQI Air Card Firmware V1.47</a></p><p><a href="http://www.flu-card.com/firmware/firmware_370.zip">FluCard pro 3.70 firmware</a><br /><a href="http://www.flu-card.com/firmware/firmware_115.zip">FlashAir PRO 1.15 firmware</a></p><p><a href="http://dmitry.gr/index.php?r=05.Projects&amp;proj=15.%20Transcend%20WiFiSD">Dmitry Grinsburg firmware</a> (bottom of the page)</p>											<p class="post-edited">(Last edited by <strong>pixelk</strong> on 12 Oct 2013, 16:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p209999">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						17 Aug 2013, 11:32					</div>
				</div>
				<div class="post-content content">
					<p>Woops, I lost the Read/write tab while opening the card, now most card reader won&#039;t allow me to write on the card <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p><p>I circumvented this by adding a solder bridge within the SD slot R/W detection pin on the SD reader given by Transcend.</p><p><span class="postimg"><img src="http://stuff.knackes.com/dld/201308/IMG_20130817_084228-512_EBE53DCE.jpg" alt="http://stuff.knackes.com/dld/201308/IMG_20130817_084228-512_EBE53DCE.jpg" /></span></p><p>The standard busybox is quite limited in the number of applet it delivers, so I used the one Pablo found <a href="http://busybox.net/downloads/binaries/latest/busybox-armv5l">on the official busybox repository</a></p><p>I made my own root filesystem under the /NCFL directory and copies it at startup using this autorun.sh :</p><div class="codebox"><pre><code>rcS6
tcpsvd -vE 0.0.0.0 21 ftpd -w /mnt/sd/ &amp;

cp -fR /mnt/sd/NCFL/* /
chmod a+x /sbin/busybox
mount -t devpts /dev/pts
#/sbin/busybox telnetd -l /bin/bash &amp;

rm /bin/vi
ln /sbin/busybox /bin/vi

ln /sbin/busybox /bin/uname
ln /sbin/busybox /bin/tar
ln /sbin/busybox /bin/uptime
ln /sbin/busybox /bin/gzip</code></pre></div><p>You can of course add the other busybox applets.</p><br /><p>I also found out how the Android (and possibly iOS) app comunicate with the WifiSD :</p><p>First they send an UDP Broadcast on port 55777 (<a href="http://stuff.knackes.com/dld/201308/UDP_Broadcast_3CE64521.pcap">pcap capture of the packet sent from my phone at 192.168.0.150</a>)</p><p>Then all the configuration is done through the unencrypted HTTP server running on the WifiSD</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210027">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						17 Aug 2013, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>I updated to firmware 1.7 (shipped as 1.6), wich reseted my settings but didn&#039;t wipe my data from the sd part.</p><p>The 1.7 version supports raw files natively (cr2, srw, rwl, rw2, raw, pef, nrw, nef, kdc, k25, dcr, srf, sr2, arw, orf).</p><p>here is a list of the applets natively supported by the busybox within the 1.7 version :<br /></p><div class="codebox"><pre><code>        ash, bash, boa, boa_indexer, bootchartd, bunzip2, buzzer, bzcat, cat,
        chmod, cmd_server, cp, date, df, dhcprelay, diff, dirname, dmesg, dnsd,
        dnsdomainname, dumpleases, echo, egrep, env, fgrep, find, fs_info,
        ftpd, ftpget, ftpput, gen_filelist, get_authfile, grep, halt, hostname,
        ifconfig, inetd, init, insmod, instant_setupd, instant_upload,
        instant_upload_clean, iu_progressd, iwconfig, iwevent, iwlist, iwpriv,
        kcard_app, kcard_cmd, kcard_startup, kill, linuxrc, ln, logger,
        logread, ls, lsmod, macaddr, mkdir, mount, mv, nslookup, perl, ping,
        pkill, poweroff, ps, pwd, readahead, reboot, rm, rmdir, rmmod, route,
        sh, sleep, sync, syslogd, tcpsvd, telnetd, thumbNail, thumbnail_video,
        touch, tscmd, tslist, udhcpc, udhcpd, udpsvd, umount, unzip, wget,
        wifi_connect_router, wifi_download, wifi_filelist, wifi_ftp_server,
        wifi_ftp_upload, wifi_get_apconfig, wifi_get_config,
        wifi_get_config_real, wifi_quick_send, wifi_set_config, wifi_upload,
        xargs</code></pre></div><p>Compared with the ones with the downloaded busybox :<br /></p><div class="codebox"><pre><code>        [, [[, acpid, add-shell, addgroup, adduser, adjtimex, arp, arping, ash,
        awk, base64, basename, beep, blkid, blockdev, bootchartd, brctl,
        bunzip2, bzcat, bzip2, cal, cat, catv, chat, chattr, chgrp, chmod,
        chown, chpasswd, chpst, chroot, chrt, chvt, cksum, clear, cmp, comm,
        conspy, cp, cpio, crond, crontab, cryptpw, cttyhack, cut, date, dc, dd,
        deallocvt, delgroup, deluser, depmod, devmem, df, dhcprelay, diff,
        dirname, dmesg, dnsd, dnsdomainname, dos2unix, du, dumpkmap,
        dumpleases, echo, ed, egrep, eject, env, envdir, envuidgid, ether-wake,
        expand, expr, fakeidentd, false, fbset, fbsplash, fdflush, fdformat,
        fdisk, fgconsole, fgrep, find, findfs, flock, fold, free, freeramdisk,
        fsck, fsck.minix, fsync, ftpd, ftpget, ftpput, fuser, getopt, getty,
        grep, groups, gunzip, gzip, halt, hd, hdparm, head, hexdump, hostid,
        hostname, httpd, hush, hwclock, id, ifconfig, ifdown, ifenslave,
        ifplugd, ifup, inetd, init, insmod, install, ionice, iostat, ip,
        ipaddr, ipcalc, ipcrm, ipcs, iplink, iproute, iprule, iptunnel,
        kbd_mode, kill, killall, killall5, klogd, last, less, linux32, linux64,
        linuxrc, ln, loadfont, loadkmap, logger, login, logname, logread,
        losetup, lpd, lpq, lpr, ls, lsattr, lsmod, lsof, lspci, lsusb, lzcat,
        lzma, lzop, lzopcat, makedevs, makemime, man, md5sum, mdev, mesg,
        microcom, mkdir, mkdosfs, mke2fs, mkfifo, mkfs.ext2, mkfs.minix,
        mkfs.vfat, mknod, mkpasswd, mkswap, mktemp, modinfo, modprobe, more,
        mount, mountpoint, mpstat, mt, mv, nameif, nanddump, nandwrite,
        nbd-client, nc, netstat, nice, nmeter, nohup, nslookup, ntpd, od,
        openvt, passwd, patch, pgrep, pidof, ping, ping6, pipe_progress,
        pivot_root, pkill, pmap, popmaildir, poweroff, powertop, printenv,
        printf, ps, pscan, pstree, pwd, pwdx, raidautorun, rdate, rdev,
        readahead, readlink, readprofile, realpath, reboot, reformime,
        remove-shell, renice, reset, resize, rev, rm, rmdir, rmmod, route, rpm,
        rpm2cpio, rtcwake, run-parts, runlevel, runsv, runsvdir, rx, script,
        scriptreplay, sed, sendmail, seq, setarch, setconsole, setfont,
        setkeycodes, setlogcons, setserial, setsid, setuidgid, sh, sha1sum,
        sha256sum, sha3sum, sha512sum, showkey, slattach, sleep, smemcap,
        softlimit, sort, split, start-stop-daemon, stat, strings, stty, su,
        sulogin, sum, sv, svlogd, swapoff, swapon, switch_root, sync, sysctl,
        syslogd, tac, tail, tar, tcpsvd, tee, telnet, telnetd, test, tftp,
        tftpd, time, timeout, top, touch, tr, traceroute, traceroute6, true,
        tty, ttysize, tunctl, udhcpc, udhcpd, udpsvd, umount, uname, unexpand,
        uniq, unix2dos, unlzma, unlzop, unxz, unzip, uptime, users, usleep,
        uudecode, uuencode, vconfig, vi, vlock, volname, wall, watch, watchdog,
        wc, wget, which, who, whoami, whois, xargs, xz, xzcat, yes, zcat, zcip</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210179">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						19 Aug 2013, 22:52					</div>
				</div>
				<div class="post-content content">
					<p>I extracted the lastest 1.7 firmware files and am in the process of reading through it. There are several mention of &quot;FLUCARD&quot; within the WifiSD firmware. The two devices are clearly linked now (before we &quot;only&quot; knew they shared the same hardware).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210182">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">500gx</div>
					<div class="post-datetime">
						19 Aug 2013, 23:40					</div>
				</div>
				<div class="post-content content">
					<p>Very interested in all this... Please keep us updated!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210197">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">epdtry</div>
					<div class="post-datetime">
						20 Aug 2013, 07:56					</div>
				</div>
				<div class="post-content content">
					<p>Here&#039;s some interesting bits I found while poking around:<br /></p><div class="codebox"><pre><code>&gt; cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00100000 00010000 &quot;SPI NOR Flash Partition1&quot;
mtd1: 00300000 00010000 &quot;SPI: kernel&quot;
mtd2: 00300000 00010000 &quot;Ramdisk&quot;</code></pre></div><p>So it looks like mtd1 holds the kernel and mtd2 holds the initrd.&nbsp; The 0x300000 = 3MB size limit on the initrd corresponds to what <a href="http://www.fernjager.net/post-8/sdcard">fernjager</a> found.&nbsp; I&#039;m not sure what mtd0 holds - possibly part of the bootloader?&nbsp; Unfortunately I get an error when I try to dump the contents:<br /></p><div class="codebox"><pre><code>cat: can&#039;t open &#039;/dev/mtd0&#039;: No such device or address</code></pre></div><p>(Pretty sure I&#039;m doing something wrong here - let me know if you figure out the trick.)</p><p>I&#039;m also interested in how the flashing process works.&nbsp; To flash the firmware, you put &#039;program.bin&#039; and some other files on the root of the SD card and reboot, and somehow &#039;program.bin&#039; gets executed.&nbsp; But there&#039;s no reference to program.bin in the 1.7 kernel image, and the only references in the 1.7 initrd are for deleting the files after a successful upgrade.&nbsp; So it must be running directly from the bootloader somehow.&nbsp; This seems to agree with the <a href="https://github.com/Kazu-zamasu/PQIAirCard_Script/blob/master/Aircard_bootlog.txt">boot log</a> in <a href="https://github.com/Kazu-zamasu/PQIAirCard_Script">Kazu-zamasu&#039;s github repo</a>, which has a reference to program.bin before the first kernel messages appear.&nbsp; Compare:<br /></p><div class="codebox"><pre><code>....reading program.bin
.................&lt;mmc1&gt;go 208000
&lt;4&gt;(192-96-1)
console [ttyS0] enabled</code></pre></div><p>vs.<br /></p><div class="codebox"><pre><code>&gt; dmesg
(192-96-1)
console [ttyS0] enabled
Mount-cache hash table entries: 512</code></pre></div><p>By the way, the same repo has a <a href="https://github.com/Kazu-zamasu/PQIAirCard_Script/blob/master/&quot;PQI%20Linux%20kernel%20config%20file&quot;">kernel config</a>, which (if it works) might be useful since there doesn&#039;t seem to be one with the official GPL release (available <a href="http://www.transcend-info.com/Support/DLCenter/index.asp">here</a> - click on &quot;Wireless and Multimedia Products&quot; / &quot;Wi-Fi SD Card&quot; / &quot;Wi-Fi SD Card&quot; / (either model), and it&#039;s listed under &quot;Driver/Firmware&quot; as &quot;WiFiSD_GPL&quot;.)</p><p>It seems like there is something useful in <a href="https://lemoidului.wordpress.com/2013/03/18/linux-is-everywhere_pqi-aircard-partie-iv-flash-it/">this blog post</a>, but it&#039;s in French and I haven&#039;t tried reading a translated version yet.&nbsp; I see some references to U-Boot though, which is interesting because program.bin seems to be able to flash that along with the kernel/initrd if it&#039;s present:<br /></p><div class="codebox"><pre><code>$ strings program.bin | grep program
# snip
found u-boot.bin, start program.
found image3, start program.
found image, start program.</code></pre></div><p>Though there is no u-boot.bin in the official 1.7 firmware release.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210202">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						20 Aug 2013, 09:07					</div>
				</div>
				<div class="post-content content">
					<p>Here is my translation of the part you&#039;re talking about : </p><div class="quotebox"><cite>Lemoidului wrote:</cite><blockquote><p><span class="bbu">A â€“ Study of the boot sequence</span></p><p>Thanks to the serial console (detailed on <a href="http://lemoidului.wordpress.com/2013/03/06/linux-is-everywhere_pqi-aircard-partie-iii-les-mains-sous-le-capot/">chapter III</a>) you have access to the card bootloader. Press any key after the start of the boot sequence in the console to stop it (you have something like 3 seconds after the KeyAsic Booloader). This booloader (KA Boot 04240806) lives in the SoC ROM. It works lika a stage 1 and its duty is (among other things) to call program.bin (like a stage 2) as, how we saw in <a href="http://lemoidului.wordpress.com/2013/02/14/linux-is-everywhere-pqi-aircard-partie-2/">chapter II</a>, is based on U-Boot.</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>pixelk</strong> on 20 Aug 2013, 20:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210268">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">djdesign</div>
					<div class="post-datetime">
						20 Aug 2013, 23:30					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone figured out a way to get one of these to boot in a stand-alone fashion, only connected to a 3.3V power supply?&nbsp; I have a PQI Aircard and thought I read somewhere of some success making it boot standalone.&nbsp; &nbsp;My card doesn&#039;t seem to boot (no Wifi anyway) when it is inserted in a SD Card breakout board (Parallax 32313).&nbsp; With the 16 GB MicroSD card installed it takes about 31 mA.&nbsp; Interestingly when the MicroSD card is pulled it, the devices takes around 90 mA for a few seconds before settling to a constant 66 mA current consumption.&nbsp; But still no wifi.&nbsp; I haven&#039;t cut it open yet and attached wires to the serial port.&nbsp; That will probably tell something.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210271">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						21 Aug 2013, 00:10					</div>
				</div>
				<div class="post-content content">
					<p>I have seen no successful description of a stand-alone (without a full, running, SD host) setup. <br />I tried connecting the 3.3V &amp; GND pin to a stable supply with no luck. <br />I also tried powering an external USB SD-Card reader (5V &amp; GND) and it didn&#039;t even light up.<br />I didn&#039;t try a SPI-mode host yet, it might be our best chance to get a running WifiSD/PQI Air/FluCard with minimal hardware.<br />I don&#039;t know about any &quot;light&quot; setup which would init <a href="http://en.wikipedia.org/wiki/Secure_Digital#Transfer_modes">one bit or four-bit mode</a>, but didn&#039;t do any research on that. Maybe a simple bit-banged init sequence would be enough ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210272">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">zamasu110</div>
					<div class="post-datetime">
						21 Aug 2013, 00:35					</div>
				</div>
				<div class="post-content content">
					<p>Hello all<br />I have PQI Air card busybox and Linux kernel sorce.<br />if you need, you can easy DL following address. this is DropBox.</p><p><a href="https://www.dropbox.com/sh/wlj7wzsdu7t8ahg/xbyX2fRl_V">https://www.dropbox.com/sh/wlj7wzsdu7t8ahg/xbyX2fRl_V</a></p><p>Discription<br />Aircard firm:&nbsp; PQI original firmware.<br />Inotify: AIrcard linux image with inotify fs.<br />PQI_Configs: i get from PQI TAIWAN(PQI is Taiwan company), Busybox and Linux configs.<br />busybox_KA_20130702.tar.bz2: this is with out boa server.<br />busybox-1.18.5.tar.gz: This is original PQI Aircard Busybox source file.<br />KA_SDIO_SD_EVB_Manual_v03.pdf: KeyASIC base bord manuals.<br />Linux_KA_2_6_20130702.tar.bz2: This is Original Linux source.</p><p>u-boot source code is waiting from PQI. I think just like any wifi-SDcard devices. All devices use the Key-ASIC solution.</p><p>If, fruitful information with you. I am so happy.<br /><a href="https://github.com/Kazu-zamasu">https://github.com/Kazu-zamasu</a></p><p>yours sinceary goog hakkinng lol</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210273">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						21 Aug 2013, 00:51					</div>
				</div>
				<div class="post-content content">
					<p>Woaw, what a leap forward ! Thank you !</p><p>From the KA_SDIO_SD_EVB_Manual_v03.pdf, we can now be assured that the Wifi chip (bottom left on my photo) is a<br /><em>AF-N-31G Atheros AR6003</em></p>											<p class="post-edited">(Last edited by <strong>pixelk</strong> on 21 Aug 2013, 00:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210314">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						21 Aug 2013, 14:05					</div>
				</div>
				<div class="post-content content">
					<p>I tested it and can confirm, IT DOES NOT start when connected in SPI mode <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210451">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						22 Aug 2013, 17:50					</div>
				</div>
				<div class="post-content content">
					<p>Here is a simple tool to find your WifiSD on your network : <a href="http://stuff.knackes.com/dld/201308/WFSD_ED65C2CB.exe">Win32</a> - <a href="http://stuff.knackes.com/dld/201308/WiFindSD_0.0.1_3468325E.zip">Source (Delphi 7)</a><br /><span class="postimg"><img src="http://stuff.knackes.com/dld/201308/ScreenCap-20130822-165408_7E3CAFB1.png" alt="http://stuff.knackes.com/dld/201308/ScreenCap-20130822-165408_7E3CAFB1.png" /></span></p><p>Tested only with my Transcend WifiSD so far.</p>											<p class="post-edited">(Last edited by <strong>pixelk</strong> on 22 Aug 2013, 17:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210572">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">cnovus</div>
					<div class="post-datetime">
						23 Aug 2013, 20:13					</div>
				</div>
				<div class="post-content content">
					<p>hello<br />for me it looks like rxd is on pad 10 and txd is on pad 14.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210589">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						23 Aug 2013, 22:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cnovus wrote:</cite><blockquote><p>hello<br />for me it looks like rxd is on pad 10 and txd is on pad 14.</p></blockquote></div><p>Thank you for your find ! <br />I&#039;ll try that and modify the picture accordingly. Any though about the other pins&#039; assignment ?<br />I think there is at least the buzzer (mentioned in the scripts and SDK) GPIO available, but it&#039;s just a wish so far</p>											<p class="post-edited">(Last edited by <strong>pixelk</strong> on 23 Aug 2013, 22:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210593">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">cnovus</div>
					<div class="post-datetime">
						23 Aug 2013, 23:33					</div>
				</div>
				<div class="post-content content">
					<p>I tried the pads 10-15 (i damaged 16) for the buzzer, but had no luck. For GPIO the file Linux_KA_2_6\arch\arm\mach-ka2000\gpio.c of the GPL package may lead to something, but it seems it&#039;s not included in Transcendt firmware or maybe it&#039;s a wrong file anyway</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210615">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">smbgaiden</div>
					<div class="post-datetime">
						24 Aug 2013, 04:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pixelk wrote:</cite><blockquote><p>Here is a simple tool to find your WifiSD on your network : <a href="http://stuff.knackes.com/dld/201308/WFSD_ED65C2CB.exe">Win32</a> - <a href="http://stuff.knackes.com/dld/201308/WiFindSD_0.0.1_3468325E.zip">Source (Delphi 7)</a></p><p>Tested only with my Transcend WifiSD so far.</p></blockquote></div><p>I tested with PQI Air Card and can confirm that it does not work. The Transcend is much more elegant with the network than the PQI is. The PQI does the following when used with the Android App:</p><p>Repetitively broadcasts ARP request on the entire subnet, ie.<br />Who has 192.168.x.1? Tell 192.168.x.zzz<br />...<br />Who has 192.168.x.254? Tell 192.168.x.zzz</p><p>This seemed to repeat even after the connection from the app to the air card was established, of course it did not re-request the address of the known air card.</p><p>I was connecting WiFi phone to WiFi Air Card, so unable to sniff the packets to see what everyone responded with and what actions the phone app took upon receiving a response.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210624">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">coolty</div>
					<div class="post-datetime">
						24 Aug 2013, 09:37					</div>
				</div>
				<div class="post-content content">
					<p>I have a PQI Air Card and I would like to know if there&#039;s any progress on OpenWRT being ported or any other distros either?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210633">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">cnovus</div>
					<div class="post-datetime">
						24 Aug 2013, 13:11					</div>
				</div>
				<div class="post-content content">
					<p>got the serial output at boot time:</p><div class="codebox"><pre><code>KA Boot 04240806
scu: 11c33303,00000000,00040404,00009f00,1
Status 20200804

Hit to stop :  0
Status 20200804
RCA0 68, RCA1 b3
....reading program.bin
.....&lt;mmc1&gt;go 208000
&lt;4&gt;(192-96-1)
console [ttyS0] enabled
Mount-cache hash table entries: 512
NET: Registered protocol family 16
bio: create slab &lt;bio-0&gt; at 0
cfg80211: Calling CRDA to update world regulatory domain
NET: Registered protocol family 2
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
ttyS0 at MMIO 0xa0004000 (irq = 1) is a KA2000
msgmni has been set to 58
loop: module loaded
TCP cubic registered
NET: Registered protocol family 17
lib80211: common routines for IEEE802.11 drivers
starting pid 27, tty &#039;/dev/console&#039;: &#039;/etc/init.d/rcS&#039;
KeyASIC WifiSD console ...
Sun Jan  1 00:00:00 UTC 2012
ka2000_sdhc: module license &#039;Proprietary&#039; taints kernel.
Disabling lock debugging due to kernel taint
(0&gt;0)switch_modules
max_blk_size=512, max_blk_count=8, max_req_size=32768
init bomb irq
req irq 40 (1000000)
req irq 43 (40)
req irq 41 (43)
ka_sdhc_drv_init
bw = 22
mmc0: new SDHC card at address b368
mmcblk0: mmc0:b368 CAR 15.0 GiB
 mmcblk0:bootsec @ 2000
 p1
FAT sec 20 sz 3c04 #2 rtdir 7828 csz 10
wsd to sd
wsd to sd
FAT sec 20 sz 3c04 #2 rtdir 7828 csz 10
run autorun.sh
start telnetd server
tcpsvd: listening on 0.0.0.0:21, starting
cid = CID:5dd500801b0000102020434453454a74
Transcend Card
Transcend Card
gen_boa_passwd.sh - USER=admin PASS=admin
rcS done
start boa

-----------------------------------------------
  Production mode-VER. version_147_FEB192013_TE.
-----------------------------------------------

mount: mounting none on /dev/pts failed: Device or resource busy
sleep disable
[01/Jan/2012:00:00:05 +0000] boa: server version Boa/0.94.14rc21
[01/Jan/2012:00:00:05 +0000] boa: server built Feb 25 2013 at 15:18:57.
[01/Jan/2012:00:00:05 +0000] boa: starting server pid=81, port 80
..setup AP mode start
/usr/bin/auto_off.sh: stop
rmmod: can&#039;t unload &#039;ar6000&#039;: unknown symbol in module, or unknown parameter
ifconfig: SIOCGIFFLAGS: No such device
sdio wakeuplo        no wireless extensions.

rm: can&#039;t remove &#039;/tmp/iwconfig_maln0.txt&#039;: No such file or directory
mmc1: new SDIO card at address 0001

ifconfig: SIOCGIFFLAGS: No such device
AR6000: configuration opcode 7 is only used for RTOS systems, not Linux systems
ath6k/AR6003/hw2.1.1/athwlan.bin firmware will be loaded
AR6K: ** HIF layer does not support scatter requests (17)
wmi_control_rx() : Unknown id 0x101e
channel hint set to 0
commit
Add Filter 0 = 01:00:5e:00:00:01
Keep Filter 0 = 01:00:5e:00:00:01
Keep Filter 0 = 01:00:5e:00:00:01
Limit maximum connection count to 3
/usr/bin/auto_off.sh: start
/usr/bin/kcard_app.sh: start
kcard_startup: Set call interval 10
KCARD: Notify driver about pid 139
(0&gt;1)KCARD: Log = 0, Diff Disable, Path /tmp/filediff
Auto OFF 0 seconds
KCARD: Debounce = 1, WiFi Hide Disable, Skip Disable
WiFi 0 can&#039;t less then 60 seconds
KCARD: waitting for sig
dcim c 3 @9838, f:2020 (off 404008)
Folder: 199_WIFIWSD00003 (5f393931 49464957)
Img1: WSD00003 (30445357 33303030 sz 79cdh)
user_dir:(5f333231 20505446)(00000000 00000000)
ctrlimg c 1c01ff @1c0b7f8, f:5823 (off b047f8)

3 c 1c0203-1c0207 @1c0b838 f:5824(o:3)
fat cnt 4, x0, pBuf1 c17e5200, pBuf2 0(1)
misc c 1c0200 @1c0b808
bomb reg2 1c0b808 - 1c0b80d
bomb reg 2020 - 5c24
st 1c0181, 1:3, 2:0, 3:0, 4:0, 5:0
bomb reg 2020 - 5c24
(1&gt;0)Decompress libcrypto ...

Please press Enter to activate this console.</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210634">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						24 Aug 2013, 13:35					</div>
				</div>
				<div class="post-content content">
					<p>my soldering skills aren&#039;t that great so I only manage to get the connection some times, enough to get the same-ish boot time log.</p><div class="codebox"><pre><code>KA Boot 04240806
scu: 11c33303,00000000,00040404,00009f00,1
Status 20200804

Hit to stop :  0
Status 20200804
RCA0 68, RCA1 b3
....reading program.bin
.............&lt;mmc1&gt;go 208000
&lt;4&gt;(192-96-1)
console [ttyS0] enabled
Mount-cache hash table entries: 512
NET: Registered protocol family 16
bio: create slab &lt;bio-0&gt; at 0
cfg80211: Calling CRDA to update world regulatory domain
NET: Registered protocol family 2
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
ttyS0 at MMIO 0xa0004000 (irq = 1) is a KA2000
msgmni has been set to 58
loop: module loaded
TCP cubic registered
NET: Registered protocol family 17
lib80211: common routines for IEEE802.11 drivers
starting pid 27, tty &#039;/dev/console&#039;: &#039;/etc/init.d/rcS&#039;
KeyASIC WifiSD console ...
Sun Jan  1 00:00:00 UTC 2012
ka2000_sdhc: module license &#039;Proprietary&#039; taints kernel.
Disabling lock debugging due to kernel taint
(0&gt;0)switch_modules
max_blk_size=512, max_blk_count=8, max_req_size=32768
init bomb irq
req irq 40 (1000000)
req irq 43 (40)
req irq 41 (43)
ka_sdhc_drv_init
bw = 22
mmc0: new SDHC card at address b368
mmcblk0: mmc0:b368 CAR 15.0 GiB
 mmcblk0:bootsec @ 2000
 p1
FAT sec 20 sz 3c04 #2 rtdir 7828 csz 10
run autorun.sh
start telnetd server
tcpsvd: listening on 0.0.0.0:21, starting
mount: mounting none on /dev/pts failed: Device or resource busy
cid = CID:2fd5003b1c0000102020434453454a74
Transcend Card
Transcend Card
gen_boa_passwd.sh - USER=admin PASS=admin
rcS done
start boa

-----------------------------------------------
  Production mode-VER. version_150_APR172013_TE.
mount: mounting none on /dev/pts failed: Device or resource busy
-----------------------------------------------

sleep disable
[01/Jan/2012:00:00:05 +0000] boa: server version Boa/0.94.14rc21
[01/Jan/2012:00:00:05 +0000] boa: server built Apr 17 2013 at 18:28:52.
[01/Jan/2012:00:00:05 +0000] boa: starting server pid=90, port 80
/usr/bin/auto_off.sh: stop
ifconfig: SIOCGIFFLAGS: No such device
rmmod: can&#039;t unload &#039;ar6000&#039;: unknown symbol in module, or unknown parameter
ifconfig: SIOCGIFFLAGS: No such device
sdio wakeup
mmc1: new SDIO card at address 0001
AR6000: configuration opcode 7 is only used for RTOS systems, not Linux systems
ath6k/AR6003/hw2.1.1/athwlan.bin firmware will be loaded
AR6K: ** HIF layer does not support scatter requests (17)
wmi_control_rx() : Unknown id 0x101e
lo        no wireless extensions.

iwioctl: cmd=0x8b03 not allowed in this mode
iwioctl: cmd=0x8b1d not allowed in this mode
iwioctl: cmd=0x8b23 not allowed in this mode
iwioctl: cmd=0x8b25 not allowed in this mode
mlan0     AR6000 802.11ng  Nickname:&quot;&quot;
          NWID:off/any  Mode:Managed  Bit Rate:1 Mb/s   Tx-Power=0 dBm
          Sensitivity=0/3
          Retry:on   RTS thr=0 B   Fragment thr=0 B
          Encryption key:off
          Power Management:on
          Link Quality:255/94  Signal level:-96 dBm  Noise level:-96 dBm
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

Add Filter 0 = 01:00:5e:00:00:01
Keep Filter 0 = 01:00:5e:00:00:01
Keep Filter 0 = 01:00:5e:00:00:01
Power Saving = Yes
auto connect available router
WIFI_CONN: size 3126
WIFI_CONN: Append list from index 0, get_all_essid 0 -&gt; 3126
WIFI_CONN: ESSID  [SFR_5970], cell 68 -&gt; 970
WIFI_CONN: WPA Version
WIFI_CONN: Cipher: TKIP
WIFI_CONN: PairCipher: CCMP
WIFI_CONN: ESSID  [Unknown Device], cell 970 -&gt; 2068
WIFI_CONN: WPA Version
WIFI_CONN: Cipher: TKIP
WIFI_CONN: PairCipher: TKIP
WIFI_CONN: ESSID  [Unknown Device], cell 2068 -&gt; 3126
WIFI_CONN: WPA Version
WIFI_CONN: Cipher: TKIP
WIFI_CONN: PairCipher: TKIP
WIFI_CONN: size 3126
WIFI_CONN: Append list from index 3, get_all_essid 0 -&gt; 3126
WIFI_CONN: size 5239
WIFI_CONN: Append list from index 3, get_all_essid 0 -&gt; 5239
WIFI_CONN: ESSID  [Livebox-e005], cell 3166 -&gt; 4582
WIFI_CONN: WPA Version
WIFI_CONN: Cipher: TKIP
WIFI_CONN: PairCipher: CCMP
WIFI_CONN: ESSID  [orange], cell 4582 -&gt; 5239
WIFI_CONN: size 6095
WIFI_CONN: Append list from index 5, get_all_essid 0 -&gt; 6095
WIFI_CONN: ESSID  [SFR WiFi Mobile], cell 5279 -&gt; 6095
WIFI_CONN: WPA2 Version
WIFI_CONN: Cipher: CCMP
WIFI_CONN: PairCipher: CCMP
AP:ssid=&lt;MYSSID&gt;, key=&lt;MYKEY&gt;, mode=0, enc_type=1 group 2 pair 2
WMM params
AC 0, ACM 0, AIFSN 3, CWmin 4, CWmax 10, TXOPlimit 0
AC 1, ACM 0, AIFSN 7, CWmin 4, CWmax 10, TXOPlimit 0
AC 2, ACM 0, AIFSN 2, CWmin 3, CWmax 4, TXOPlimit 94
AC 3, ACM 0, AIFSN 2, CWmin 2, CWmax 3, TXOPlimit 47
udhcpc (v1.18.5) started

configure IP address -&gt; deconfig

Sending discover...
Sending select for 192.168.0.45...
Lease of 192.168.0.45 obtained, lease time 86400

configure IP address -&gt; bound

nameserver 192.168.0.128
Keep Filter 0 = 01:00:5e:00:00:01
interface: mlan0
ip: 192.168.0.45
netmask: 255.255.255.0
router: 192.168.0.128
hostname: WifiSD
channel hint set to 0
iwioctl: cmd=0x8b03 not allowed in this mode
iwioctl: cmd=0x8b1d not allowed in this mode
iwioctl: cmd=0x8b23 not allowed in this mode
iwioctl: cmd=0x8b25 not allowed in this mode
script /etc/wevent.script
/usr/bin/auto_off.sh: start
Waiting for Wireless Events from interfaces...
/usr/bin/kcard_app.sh: start
Auto OFF 0 seconds
kcard_startup: Set call interval 10
KCARD: Notify driver about pid 167
WiFi 0 can&#039;t less then 60 seconds(0&gt;1)
KCARD: Log = 0, Diff Disable, Path /tmp/filediff
KCARD: Debounce = 1, WiFi Hide Disable, Skip Disable
KCARD: waitting for sig
dcim c 3 @9838, f:2020 (off 404008)
Folder: 199_WIFI (5f393931 49464957)
user_dir:(5f333231 20505446)(00000000 00000000)
img folder deleted
bomb reg 2020 - 5c24
no image
m1_cmd = f
all 4 images missing
KCARD: get_Kcard_app cmd 8 - KCARD: KCARD_SIG_NO_IMGS(1&gt;0)
KCARD: kcard_app_act - KCARD: KCARD_SIG_NO_IMGS
FAT sec 20 sz 3c04 #2 rtdir 7828 csz 10
mmcblk0p1 mounted
KCARD: check_ctrl_folder_exist: Recovery dir /mnt/sd/DCIM/199_WIFI/
Control folder create
FAT sec 20 sz 3c04 #2 rtdir 7828 csz 10
Decompress libcrypto ...
KCARD: check_ctrl_folder_exist: Recovery 1
kcard_app: can&#039;t stat &#039;/home/sd/DCIM/199_WIFI/WSD00003.JPG&#039;: No such file or directory
chmod: /mnt/sd/DCIM/199_WIFI/*: No such file or directory
KCARD: check_ctrl_folder_exist umount &amp; mount
FAT sec 20 sz 3c04 #2 rtdir 7828 csz 10
argc 1, argv[0] = instant_upload_clean
INUP_CLEAN: Log Level = 0
dcim c 3 @9838, f:2020 (off 404008)
Folder: 199_WIFI (5f393931 49464957)
user_dir:(5f333231 20505446)(00000000 00000000)
img folder deleted
(0&gt;4)KCARD: waitting for sig

misc c 1c0200 @1c0b808
bomb reg2 1c0b808 - 1c0b80d
KCARD: get_Kcard_app cmd 6 - KCARD: KCARD_SIG_DPOF(4&gt;0)
KCARD: kcard_app_act - KCARD: KCARD_SIG_DPOF
FAT sec 20 sz 3c04 #2 rtdir 7828 csz 10

Please press Enter to activate this console. KCARD: waitting for sig</code></pre></div><p>I modified the pin picture accordingly</p><p>I&#039;m sure I did something wrong because now my console stops after outputing this (but the card works, pings, telnets, etc...) :<br /></p><div class="codebox"><pre><code>KA Boot 04240806

scu: 11c33303,00000000,00040404,00009f00,1
Status 20200804
              
Hit to stop :  2 1 0
Status 20200804
RCA0 68, RCA1 b3
....reading program.bin
.............&lt;mmc1&gt;go 208000
&lt;4&gt;(192-96-1)
console [ttyS0] enabled
Mount-cache hash table entries: 512
NET: Registered protocol family 16
bio: create slab &lt;bio-0&gt; at 0
cfg80211: Calling CRDA to update world regulatory domain
NET: Registered protocol family 2
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
ttyS0 at MMIO 0xa0004000 (irq = 1) is a KA2000
msgmni has been set to 58
loop: module loaded
TCP cubic registered
NET: Registered protocol family 17
lib80211: common routines for IEEE802.11 drivers

starting pid 27, tty &#039;/dev/console&#039;: &#039;/etc/init.d/rcS&#039;
KeyASIC WifiSD console ...
Sun Jan  1 00:00:00 UTC 2012
ka2000_sdhc: module license &#039;Proprietary&#039; taints kernel.
Disabling lock debugging due to kernel taint
(0&gt;0)switch_modules
max_blk_size=512, max_blk_count=8, max_req_size=32768
init bomb irq
req irq 40 (1000000)
req irq 43 (40)
req irq 41 (43)
ka_sdhc_drv_init
bw = 22
mmc0: new SDHC card at address b368
mmcblk0: mmc0:b368 CAR 15.0 GiB 
 mmcblk0:bootsec @ 2000
 p1
FAT sec 20 sz 3c04 #2 rtdir 7828 csz 10</code></pre></div>											<p class="post-edited">(Last edited by <strong>pixelk</strong> on 24 Aug 2013, 13:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210635">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						24 Aug 2013, 14:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>smbgaiden wrote:</cite><blockquote><p>I was connecting WiFi phone to WiFi Air Card, so unable to sniff the packets to see what everyone responded with and what actions the phone app took upon receiving a response.</p></blockquote></div><p>On android you can use tcpdump or <a href="https://play.google.com/store/apps/details?id=lv.n3o.shark&amp;hl=en">Shark for root</a></p><p>That discovery method is indeed not very elegant. I ordered an AirCard, will try to find an alternative discovery once I receive my packet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210637">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">cnovus</div>
					<div class="post-datetime">
						24 Aug 2013, 15:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pixelk wrote:</cite><blockquote><p>my soldering skills aren&#039;t that great so I only manage to get the connection some times, enough to get the same-ish boot time log.</p><p>...</p><p>I&#039;m sure I did something wrong because now my console stops after outputing this (but the card works, pings, telnets, etc...) :</p></blockquote></div><p>how does your setup look like.<br />i&#039;m using an arduino micro for uart with this sketch:</p><div class="codebox"><pre><code>void setup()
{
  Serial.begin(38400);
  Serial1.begin(38400);  
}

void loop()
{
  byte data = 0;
  
  if(Serial.available()&gt;0)
  {
    data = Serial.read();
    Serial1.write(data);
  }
  if(Serial1.available()&gt;0)
  {
    data = Serial1.read();
    Serial.write(data);
  }  
}</code></pre></div><p>it&#039;s electrical connected like this:</p><div class="codebox"><pre><code>arduino            wifisd
GND -------------- GND
RX --------------- TX
TX -[4k1]---[8k2]- GND
          &#039;------- RX</code></pre></div>											<p class="post-edited">(Last edited by <strong>cnovus</strong> on 24 Aug 2013, 19:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210657">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						24 Aug 2013, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>I used a USB/Serial 3.3V board (in fact 3 of them, only one worked), but now I&#039;m using your solution (with a teensy 2.0) and it now works every time, thank you.<br />Do you also receive garbage after the boot sequence until you press enter ? Like if the Serial console changed speed after the <br /></p><div class="codebox"><pre><code>Please press Enter to activate this console.</code></pre></div><p> But stty remains on 38400 bauds<br />Are you able to send anything with the console after the boot sequence ? I can&#039;t.<br /></p><div class="codebox"><pre><code># echo Hello world &gt; /dev/ttyS</code></pre></div><p> works from telnet.<br />Apparently the operation on the SD memory output a log on the console too<br /></p><div class="codebox"><pre><code>X+20170807 :s24:2000
W+20170816 :s25:a418
W+20170816 :s25:9848
W+20170816 :s25:9848</code></pre></div><p>appeared after I copied some files on the SD</p><p><span class="postimg"><img src="http://stuff.knackes.com/dld/201308/IMG_20130824_181606_cr_98197973.jpg" alt="http://stuff.knackes.com/dld/201308/IMG_20130824_181606_cr_98197973.jpg" /></span><br />(you can ignore the white opto and resistor network in the middle and the usb/serial adpter on the right)</p><p><span class="postimg"><img src="http://stuff.knackes.com/dld/201308/Wires_BE2DBA12.jpg" alt="http://stuff.knackes.com/dld/201308/Wires_BE2DBA12.jpg" /></span><br />I used 0.1mm enamel coated wires to be able to close the SD while piping through the RX/TX/GND. Not my best job, but it seems my soldering wasn&#039;t at fault after all.</p>											<p class="post-edited">(Last edited by <strong>pixelk</strong> on 24 Aug 2013, 19:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210662">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">pixelk</div>
					<div class="post-datetime">
						24 Aug 2013, 20:52					</div>
				</div>
				<div class="post-content content">
					<p>I just received my PQI Aircard and I can confirm that its discovery method is horrible. The client launches ARP request for all /24 of your network (regardless of your netmask) then asks<br /></p><div class="codebox"><pre><code>GET /cgi-bin/get_config.pl HTTP/1.1</code></pre></div><p>Which answers with the full configuration stored in wsd.conf (and passwords in plaintext).</p><p>The default firmware on the WifiSD is far from perfect, but it&#039;s better by any metric.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210668">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">cnovus</div>
					<div class="post-datetime">
						24 Aug 2013, 21:28					</div>
				</div>
				<div class="post-content content">
					<p>the console works fine, but when i press a key to enter the bootloader i get problems. i can receive the output, but when i try input something i&#039;m only getting garbage... by the way i&#039;ve examined program.bin a little bit and it looks like it includes a build of u-boot</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 10</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=45820&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=45820&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=45820&amp;p=10.html">10</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>