<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> conntrack_rtsp</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p17033">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">beat</div>
					<div class="post-datetime">
						11 Dec 2005, 16:03					</div>
				</div>
				<div class="post-content content">
					<p>hi all</p><p>Has anybody of the developers thought about integrating the conntrack_rtsp patch for netfilter? It would be really nice to be able to conntracking RTP streams (used for video). Together with the l7-filter rtsp pattern one could have nice qos features. I am not experienced in patching so that&#039;s why I am asking...</p><p>bye, beat</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p17047">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						11 Dec 2005, 17:29					</div>
				</div>
				<div class="post-content content">
					<p>It is on my todo list, with the conntrack_sip modules</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p17904">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tonfa</div>
					<div class="post-datetime">
						28 Dec 2005, 18:54					</div>
				</div>
				<div class="post-content content">
					<p>patch here <a href="http://perso.ens-lyon.fr/benoit.boissinot/rtsp.diff">http://perso.ens-lyon.fr/benoit.boissinot/rtsp.diff</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18075">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Bourdieu</div>
					<div class="post-datetime">
						1 Jan 2006, 15:39					</div>
				</div>
				<div class="post-content content">
					<p>I have downloaded the source but how do you apply the patch ?<br />Aren&#039;t you supposed to put the file in the target/linux/linux-2.4/patches/generic directory?</p><p>Do you have to change an option in menuconfig ?</p><p>Any help would be appreciated</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18079">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						1 Jan 2006, 15:55					</div>
				</div>
				<div class="post-content content">
					<p>Connection tracking for RTSP has been added in #2794 and is now built by default and packaged in iptables-nat-extra package and kmod-ipt-nat-extra.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18099">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Bourdieu</div>
					<div class="post-datetime">
						1 Jan 2006, 19:55					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your reply</p><p>But where do i find these new packages, I can&#039;t find them at <a href="http://downloads.openwrt.orgt">http://downloads.openwrt.orgt</a> or anywhere.<br />Sorry if it&#039;s a dumb question</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18101">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						1 Jan 2006, 20:06					</div>
				</div>
				<div class="post-content content">
					<p>You have to build you own packages using latest svn revision.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18137">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Bourdieu</div>
					<div class="post-datetime">
						2 Jan 2006, 12:30					</div>
				</div>
				<div class="post-content content">
					<p>I patched the source of whiterussian with the diff file above. Then I installed the package ipt-kmod-nat-extra which contains the files /lib/modules/2.4.30/ip_conntrack_rtsp.o and /lib/modules/2.4.30/ip_nat_rtsp.o.</p><p>When I insmod ip_conntrack_rtsp, I have this:</p><div class="codebox"><pre><code>root@babbage:~# insmod ip_conntrack_rtsp
Using /lib/modules/2.4.30/ip_conntrack_rtsp.o
insmod: unresolved symbol memchr
root@babbage:~#</code></pre></div><p>I tried to install others newly compiled packages such as kmod-ipt-nat, iptables-mod-nat, kmod-ipt-extra and iptables-mod-extra but I still have the same error.<br />I don&#039;t know what package to install now, maybe I did something wrong.</p>											<p class="post-edited">(Last edited by <strong>Bourdieu</strong> on 2 Jan 2006, 12:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18138">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						2 Jan 2006, 13:05					</div>
				</div>
				<div class="post-content content">
					<p>This is a strange error because the symbol is clearly exported in arch/mips/kernel/mips_ksyms.c</p><p>I will see.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18143">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Bourdieu</div>
					<div class="post-datetime">
						2 Jan 2006, 13:54					</div>
				</div>
				<div class="post-content content">
					<p>I bypassed the problem by installing the firmware image I had compiled and It works now. I think the uclibc package was also modified and I had to install this one to, but I&#039;m not sure.</p><p>Now rtsp conntrack works great, I can watch tv on my computer without redirecting all udp ports to one specific machine.</p><p>Thanks for your help, if someone needs help on this specific topic I can help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18167">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						2 Jan 2006, 21:20					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t think this relates anymore to uClibc, but more to the openwrt kernel itself. If you see the patch, you will see that there is a memchr symbol export in arch/mips/kernel/mips_ksyms.c.</p><p>Sorry, I did not see that you had an older kernel version, that is why it can&#039;t work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18177">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">AjCg</div>
					<div class="post-datetime">
						3 Jan 2006, 00:47					</div>
				</div>
				<div class="post-content content">
					<p>So if I understand well, the only way to get conntrack_rtsp working is to switch to the trunk instead of the stable branch...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18211">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						3 Jan 2006, 11:36					</div>
				</div>
				<div class="post-content content">
					<p>For the moment, yes, at least for the kernel/iptables part.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18631">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Bourdieu</div>
					<div class="post-datetime">
						10 Jan 2006, 13:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>So if I understand well, the only way to get conntrack_rtsp working is to switch to the trunk instead of the stable branch...</p></blockquote></div><p>No, you just need to download the source of white russian by svn, and then apply the patch given in this thread and finally compile it.</p><p>Don&#039;t forget to buil the modules needed by iptables when you configure the kernel.</p><p>It works like a charm for me.</p>											<p class="post-edited">(Last edited by <strong>Bourdieu</strong> on 10 Jan 2006, 13:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20158">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">thierry_b</div>
					<div class="post-datetime">
						4 Feb 2006, 13:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Connection tracking for RTSP has been added in #2794 and is now built by default and packaged in iptables-nat-extra package and kmod-ipt-nat-extra.</p></blockquote></div><p>So there is just to install these packages without compiling the source of openwrt?</p><p>I have found kmod-ipt-nat-extra with ipkg list but not iptables-nat-extra :-(</p><p>And if I have to compile, I have to add something with make menuconfig for rtsp or it&#039;s not necessary?<br />and if it&#039;s not necessary, what I have to do with the defaut config of make menuconfig, when I will install my own image o make rtsp working?</p><p>PS: I have rc4 version.</p><p>Thanks :-)</p><p>Bye</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20173">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						4 Feb 2006, 19:06					</div>
				</div>
				<div class="post-content content">
					<p>As we mentioned earlier, you have to build a kamikaze kernel in order to benefit from the ip_conntrack_rtsp features. I don&#039;t plan to backport it to whiterussian for the moment.</p><p>using kmod-ipt-nat-extra and iptables-nat-extra will NOT work with whiterussian firmwares !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20213">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Stereo</div>
					<div class="post-datetime">
						5 Feb 2006, 20:28					</div>
				</div>
				<div class="post-content content">
					<p>No, it works if you apply the patch to Whiterussian, and I will challenge anyone who says otherwise in a duel. I am, as I type, watching TV with the Freebox Multiposte, which seems to be what everyone here is using. As has been described above, you need to</p><p>* patch your repository manually with the patch at <a href="http://perso.ens-lyon.fr/benoit.boissinot/rtsp.diff">http://perso.ens-lyon.fr/benoit.boissinot/rtsp.diff</a><br />* Enable the nat-extra packages in <strong>make menuconfig</strong><br />* then flash the router with the produced whiterussan image<br />* finally install the packages from your <em>own</em> repository. <strong>ipkg install kmod-ipt-nat-extra iptables-mod-extra</strong> will do.</p><p>For the Freebox, I added this to <strong>/etc/firewall.user</strong>. Adapt to your configuration.</p><div class="codebox"><pre><code>### Allow RTSP from the Freebox
iptables -A forwarding_rule -i $WAN -s 212.27.38.253 -m state --state ESTABLISHED,RELATED -j ACCEPT
iptables -A forwarding_rule -i $LAN -d 212.27.38.253 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT</code></pre></div><p>For more information (in French), see the thread on debian-users-french at <a href="http://www.mail-archive.com/debian-user-french@lists.debian.org/msg114032.html">http://www.mail-archive.com/debian-user â€¦ 14032.html</a></p><p>Post success stories here, TIMTOWTDI, YMMV, etc.</p>											<p class="post-edited">(Last edited by <strong>Stereo</strong> on 5 Feb 2006, 20:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20252">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						6 Feb 2006, 12:15					</div>
				</div>
				<div class="post-content content">
					<p>I did not meant to provoke you <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> When I wrote, you have to use kamikaze, I meant, you can not use the kamikaze modules out of the box in whiterussian, because the whiterussian kernel does not support the needed infos, but of course, patch backporting will work. Thank you very much for it !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20495">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">thierry_b</div>
					<div class="post-datetime">
						9 Feb 2006, 00:49					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I&#039;ve compiled the firmware from source, and now I&#039;va that insalled:</p><p>root@OpenWrt:~# ipkg list_installed|grep &quot;iptables&quot;<br />iptables - 1.3.3-1 - The netfilter firewalling software for IPv4<br />iptables-mod-extra - 1.3.3-1 - Other extra Iptables (IPv4) extensions<br />iptables-mod-nat - 1.3.3-1 - Iptables (IPv4) extensions for different NAT targets</p><br /><p>root@OpenWrt:~# ipkg list_installed|grep &quot;kmod&quot;<br />kmod-brcm-wl - 2.4.30-brcm-3 -<br />kmod-diag - 2.4.30-brcm-3 -<br />kmod-ipt-extra - 2.4.30-brcm-2 - Other extra Netfilter (IPv4) kernel modules<br />kmod-ipt-nat - 2.4.30-brcm-2 - Netfilter (IPv4) kernel modules for different NAT targets<br />kmod-ipt-nat-extra - 2.4.30-brcm-2 - Extra Netfilter (IPv4) NAT kernel modules for special protocols<br />kmod-ppp - 2.4.30-brcm-3 -<br />kmod-pppoe - 2.4.30-brcm-3 -<br />kmod-switch - 2.4.30-brcm-1 -<br />kmod-wlcompat - 2.4.30-brcm-3 - Compatibility module for using the Wireless Extension with broadcom&#039;s wl</p><p>I have to load any modules to use conntrack_rtsp or install other packages?</p><p>I add also to add this rule?<br />iptables -A FORWARD -i $WAN -s 212.27.38.253 -m state --state ESTABLISHED,RELATED -j ACCEPT</p><p>Because I already have a rule like that:<br />iptables -A FORWARD -i $WAN -m state --state RELATED,ESTABLISHED -j ACCEPT</p><p>and I already accept all forward traffic from lan.</p><br /><p>A lsmod give me that:</p><p>Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Tainted: P<br />switch-robo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4444&nbsp; &nbsp;0 (unused)<br />switch-core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4896&nbsp; &nbsp;0 [switch-robo]<br />ip_conntrack_tftp&nbsp; &nbsp; &nbsp; &nbsp;1728&nbsp; &nbsp;0 (unused)<br />ip_nat_snmp_basic&nbsp; &nbsp; &nbsp; &nbsp;8928&nbsp; &nbsp;0 (unused)<br />ip_nat_pptp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2428&nbsp; &nbsp;0 (unused)<br />ip_conntrack_pptp&nbsp; &nbsp; &nbsp; &nbsp;2956&nbsp; &nbsp;1<br />ip_nat_proto_gre&nbsp; &nbsp; &nbsp; &nbsp; 1536&nbsp; &nbsp;0 (unused)<br />ip_conntrack_proto_gre&nbsp; &nbsp; 2440&nbsp; &nbsp;0 [ip_nat_pptp ip_conntrack_pptp]<br />ip_conntrack_amanda&nbsp; &nbsp; &nbsp;1232&nbsp; &nbsp;0 (unused)<br />wlcompat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14896&nbsp; &nbsp;0 (unused)<br />ipt_limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 880&nbsp; &nbsp;1<br />ipt_LOG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3888&nbsp; &nbsp;0 (unused)<br />wl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 423640&nbsp; &nbsp;0 (unused)<br />diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2720&nbsp; &nbsp;0 (unused)</p><p>So I don&#039;t have any conntrack_rtsp module loaded :-(.</p><p>I didn&#039;t apply the rtsp patch because ritalman told me that it was included now in openwrt source.</p><p>the Freebox Multiposte didn&#039;t work :-(.</p><p>This is my debug error in vlc:</p><p>livedotcom debug: RTP subsession &#039;video/MP2T&#039;<br />main debug: thread 4172 (stream out) created at priority 1 (src/input/demux.c:335)<br />main debug: using access_demux module &quot;livedotcom&quot;<br />main debug: creating demux: access=&#039;&#039; demux=&#039;ts&#039; path=&#039;&#039;<br />main debug: `rtsp://mafreebox.freebox.fr/freeboxtv/205&#039; successfully opened<br />livedotcom warning: no data received in 10s. Switching to TCP<br />livedotcom debug: RTP subsession &#039;video/MP2T&#039;<br />livedotcom error: PLAY failed No RTSP session is currently in progress</p><p>livedotcom error: TCP rollover failed, aborting</p><br /><p>Thanks :-)</p><p>Bye</p>											<p class="post-edited">(Last edited by <strong>thierry_b</strong> on 9 Feb 2006, 02:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20506">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Stereo</div>
					<div class="post-datetime">
						9 Feb 2006, 04:11					</div>
				</div>
				<div class="post-content content">
					<p>Are you sure you patched the thing right? Try</p><div class="codebox"><pre><code>insmod ip_nat_rtsp
insmod ip_conntrack_rtsp</code></pre></div><p>but <strong>/etc/modules.d/40-ipt-nat-extra</strong> should already load them at boot, in theory.</p><p>What command did you run for the patch?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20518">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">thierry_b</div>
					<div class="post-datetime">
						9 Feb 2006, 10:09					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t run a command for the patch because Ritalman told me it was included in source, and there is that files, when I search:</p><p>thierry@debian:~/Install/openwrt/whiterussian$ find . -type f|grep &quot;rtsp&quot;<br />./openwrt/target/linux/linux-2.4/patches/generic/.svn/text-base/118-netfilter_nat_rtsp.patch.svn-base<br />./openwrt/target/linux/linux-2.4/patches/generic/.svn/prop-base/118-netfilter_nat_rtsp.patch.svn-base<br />./openwrt/target/linux/linux-2.4/patches/generic/.svn/props/118-netfilter_nat_rtsp.patch.svn-work<br />./openwrt/target/linux/linux-2.4/patches/generic/.svn/wcprops/118-netfilter_nat_rtsp.patch.svn-work<br />./openwrt/target/linux/linux-2.4/patches/generic/118-netfilter_nat_rtsp.patch</p><p>but in the files 40-ipt-nat-extra, Ihave nothing with rtsp.</p><p>root@OpenWrt:~# cat /etc/modules.d/40-ipt-nat-extra<br />ip_conntrack_amanda<br />ip_conntrack_proto_gre<br />ip_nat_proto_gre<br />ip_conntrack_pptp<br />ip_nat_pptp<br />ip_nat_snmp_basic<br />ip_conntrack_tftp</p><p>Thanks.<br />Bye</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20519">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">thierry_b</div>
					<div class="post-datetime">
						9 Feb 2006, 10:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>No, you just need to download the source of white russian by svn, and then apply the patch given in this thread and finally compile it</p></blockquote></div><p>They tell me that there is some files to replace, and each time, I had to tpe &quot;yes&quot; or &quot;not&quot;.... (I try to patch with source downloaded by svn).</p><p>Do you have an idea?</p><p>Thanks.</p><p>Bye</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20533">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						9 Feb 2006, 14:51					</div>
				</div>
				<div class="post-content content">
					<p>rtsp connection tracking has been added in the whiterussian svn, so there is not need to apply benoit&#039;s patch anymore.</p><p>Please either use svn snapshots of whiterussian, or better, wait a little bit more till rc5 is released !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20550">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">thierry_b</div>
					<div class="post-datetime">
						9 Feb 2006, 19:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>tsp connection tracking has been added in the whiterussian svn, so there is not need to apply benoit&#039;s patch anymore.<br />Please either use svn snapshots of whiterussian, or better, wait a little bit more till rc5 is released !</p></blockquote></div><p>So why I haven&#039;t any rtsp in the source that I&#039;ve compiled from svn (svn co <a href="https://svn.openwrt.org/openwrt/branches/whiterussian/)">https://svn.openwrt.org/openwrt/branches/whiterussian/)</a></p><p>BusyBox v1.00 (2006.02.06-08:09+0000) Built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>root@OpenWrt:~# find / -type f |grep -i &quot;rtsp&quot;</p><p>root@OpenWrt:~# lsmod<br />Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Tainted: P<br />ipt_conntrack&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1104&nbsp; &nbsp;0 (unused)<br />switch-robo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4444&nbsp; &nbsp;0 (unused)<br />switch-core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4896&nbsp; &nbsp;0 [switch-robo]<br />ip_conntrack_tftp&nbsp; &nbsp; &nbsp; &nbsp;1728&nbsp; &nbsp;0 (unused)<br />ip_nat_snmp_basic&nbsp; &nbsp; &nbsp; &nbsp;8928&nbsp; &nbsp;0 (unused)<br />ip_nat_pptp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2428&nbsp; &nbsp;0 (unused)<br />ip_conntrack_pptp&nbsp; &nbsp; &nbsp; &nbsp;2956&nbsp; &nbsp;1<br />ip_nat_proto_gre&nbsp; &nbsp; &nbsp; &nbsp; 1536&nbsp; &nbsp;0 (unused)<br />ip_conntrack_proto_gre&nbsp; &nbsp; 2440&nbsp; &nbsp;0 [ip_nat_pptp ip_conntrack_pptp]<br />ip_conntrack_amanda&nbsp; &nbsp; &nbsp;1232&nbsp; &nbsp;0 (unused)<br />wlcompat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14896&nbsp; &nbsp;0 (unused)<br />ipt_limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 880&nbsp; &nbsp;1<br />ipt_LOG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3888&nbsp; &nbsp;0 (unused)<br />wl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 423640&nbsp; &nbsp;0 (unused)<br />diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2720&nbsp; &nbsp;0 (unused)</p><p>root@OpenWrt:~# cat /etc/modules.d/40-ipt-nat-extra<br />ip_conntrack_amanda<br />ip_conntrack_proto_gre<br />ip_nat_proto_gre<br />ip_conntrack_pptp<br />ip_nat_pptp<br />ip_nat_snmp_basic<br />ip_conntrack_tftp</p><p>root@OpenWrt:~# ipkg list_installed|grep &quot;iptables&quot;<br />iptables - 1.3.3-1 - The netfilter firewalling software for IPv4<br />iptables-mod-extra - 1.3.3-1 - Other extra Iptables (IPv4) extensions<br />iptables-mod-nat - 1.3.3-1 - Iptables (IPv4) extensions for different NAT targets<br />kmod-iptables-extra - 2.4.30-brcm-2 - Extra kernel modules for iptables</p><p>root@OpenWrt:~# ipkg list_installed|grep &quot;kmod&quot;<br />kmod-brcm-wl - 2.4.30-brcm-3 -<br />kmod-diag - 2.4.30-brcm-3 -<br />kmod-ipt-conntrack - 2.4.30-brcm-2 - Extra Netfilter (IPv4) kernel modules for connection tracking<br />kmod-ipt-extra - 2.4.30-brcm-2 - Other extra Netfilter (IPv4) kernel modules<br />kmod-ipt-filter - 2.4.30-brcm-2 - Netfilter (IPv4) kernel modules for packet content inspection<br />kmod-ipt-ipopt - 2.4.30-brcm-2 - Netfilter (IPv4) kernel modules for matching/changing IP packet options<br />kmod-ipt-ipsec - 2.4.30-brcm-2 - Netfilter (IPv4) kernel modules for matching special IPsec packets<br />kmod-ipt-nat - 2.4.30-brcm-2 - Netfilter (IPv4) kernel modules for different NAT targets<br />kmod-ipt-nat-extra - 2.4.30-brcm-2 - Extra Netfilter (IPv4) NAT kernel modules for special protocols<br />kmod-ipt-queue - 2.4.30-brcm-2 - Netfilter (IPv4) kernel module for user-space packet queuing<br />kmod-ipt-ulog - 2.4.30-brcm-2 - Netfilter (IPv4) kernel module for user-space packet logging<br />kmod-iptables-extra - 2.4.30-brcm-2 - Extra kernel modules for iptables<br />kmod-ppp - 2.4.30-brcm-3 -<br />kmod-pppoe - 2.4.30-brcm-3 -<br />kmod-switch - 2.4.30-brcm-1 -<br />kmod-wlcompat - 2.4.30-brcm-3 - Compatibility module for using the Wireless Extension with broadcom&#039;s wl</p><p>I&#039;ve forgotten something?</p><p>Thanks.</p><p>Bye.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20583">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">thierry_b</div>
					<div class="post-datetime">
						10 Feb 2006, 11:05					</div>
				</div>
				<div class="post-content content">
					<p>Ok.</p><p>I finally understand what anybody told me or I didn&#039;t understand well.</p><p>I didn&#039;t find any rtsp modules because&nbsp; when you told me to install iptables-mod-extra and kmod-ipt-nat-extra, I did, ipkg update and I install it from an ipkg source, and not with the ipk generated frim my compilation....lol.</p><p>it&#039;s loaded now.<br />oot@OpenWrt:~# lsmod<br />Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Tainted: P<br />ip_nat_rtsp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5488&nbsp; &nbsp;0 (unused)<br />ip_conntrack_rtsp&nbsp; &nbsp; &nbsp; &nbsp;4872&nbsp; &nbsp;1<br />wlcompat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;14896&nbsp; &nbsp;0 (unused)<br />ipt_limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 880&nbsp; &nbsp;1<br />ipt_LOG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3888&nbsp; &nbsp;0 (unused)<br />wl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 423640&nbsp; &nbsp;0 (unused)<br />et&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;32064&nbsp; &nbsp;0 (unused)<br />diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2560&nbsp; &nbsp;0 (unused)</p><p>Thanks :-)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>