<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> EXT2-fs error :ext2_lookup: deleted inode referenced(read-only)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p114204">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">feelnow</div>
					<div class="post-datetime">
						2 Aug 2010, 08:06					</div>
				</div>
				<div class="post-content content">
					<p>Dear all,</p><p>I compiled backfire(10.03) from SVN trunk,x86 platform with ext2 file system.</p><p>When I use a period of time, there will be an error “<strong> Read-only file system</strong>&quot;</p><p>Please help me, thanks a lot!</p><p>***dmesg log<br /></p><div class="codebox"><pre><code>EXT2-fs error (device sda2): ext2_lookup: deleted inode referenced: 529315
Remounting filesystem read-only
EXT2-fs error (device sda2): ext2_lookup: deleted inode referenced: 529315
Remounting filesystem read-only
EXT2-fs error (device sda2): ext2_lookup: deleted inode referenced: 529315
Remounting filesystem read-only</code></pre></div><div class="codebox"><pre><code>Linux version 2.6.32.14 (vint@s116) (gcc version 4.3.5 (GCC) ) #1 SMP Fri Jul 9 17:43:53 CST 2010
KERNEL supported cpus:
  Intel GenuineIntel
  AMD AuthenticAMD
  NSC Geode by NSC
  Cyrix CyrixInstead
  Centaur CentaurHauls
  Transmeta GenuineTMx86
  Transmeta TransmetaCPU
  UMC UMC UMC UMC
BIOS-provided physical RAM map:
 BIOS-e820: 0000000000000000 - 000000000009f800 (usable)
 BIOS-e820: 000000000009f800 - 00000000000a0000 (reserved)
 BIOS-e820: 00000000000dc000 - 0000000000100000 (reserved)
 BIOS-e820: 0000000000100000 - 000000000fef0000 (usable)
 BIOS-e820: 000000000fef0000 - 000000000feff000 (ACPI data)
 BIOS-e820: 000000000feff000 - 000000000ff00000 (ACPI NVS)
 BIOS-e820: 000000000ff00000 - 0000000010000000 (usable)
 BIOS-e820: 00000000fec00000 - 00000000fec10000 (reserved)
 BIOS-e820: 00000000fee00000 - 00000000fee01000 (reserved)
 BIOS-e820: 00000000fffe0000 - 0000000100000000 (reserved)
DMI present.
Phoenix BIOS detected: BIOS may corrupt low RAM, working around it.
e820 update range: 0000000000000000 - 0000000000010000 (usable) ==&gt; (reserved)
Failed to get TSC freq from the hypervisor
last_pfn = 0x10000 max_arch_pfn = 0x100000
MTRR default type: uncachable
MTRR variable ranges disabled:
x86 PAT enabled: cpu 0, old 0x0, new 0x7010600070106
CPU MTRRs all blank - virtualized system.
initial memory mapped : 0 - 01800000
init_memory_mapping: 0000000000000000-0000000010000000
 0000000000 - 0000400000 page 4k
 0000400000 - 0010000000 page 2M
kernel direct mapping tables up to 10000000 @ 10000-14000
ACPI: RSDP 000f6c70 00014 (v00 PTLTD )
ACPI: RSDT 0fefab74 00030 (v01 PTLTD    RSDT   06040000  LTP 00000000)
ACPI: FACP 0fefef14 00074 (v01 INTEL  440BX    06040000 PTL  000F4240)
ACPI: DSDT 0fefaba4 04370 (v01 PTLTD  Custom   06040000 MSFT 0100000D)
ACPI: FACS 0fefffc0 00040
ACPI: APIC 0fefef88 00050 (v01 PTLTD  ? APIC   06040000  LTP 00000000)
ACPI: BOOT 0fefefd8 00028 (v01 PTLTD  $SBFTBL$ 06040000  LTP 00000001)
ACPI: Local APIC address 0xfee00000
256MB LOWMEM available.
  mapped low ram: 0 - 10000000
  low ram: 0 - 10000000
  node 0 low ram: 00000000 - 10000000
  node 0 bootmap 00010000 - 00012000
(7 early reservations) ==&gt; bootmem [0000000000 - 0010000000]
  #0 [0000000000 - 0000001000]   BIOS data page ==&gt; [0000000000 - 0000001000]
  #1 [0000001000 - 0000002000]    EX TRAMPOLINE ==&gt; [0000001000 - 0000002000]
  #2 [0000006000 - 0000007000]       TRAMPOLINE ==&gt; [0000006000 - 0000007000]
  #3 [0001000000 - 00013666c4]    TEXT DATA BSS ==&gt; [0001000000 - 00013666c4]
  #4 [000009f800 - 0000100000]    BIOS reserved ==&gt; [000009f800 - 0000100000]
  #5 [0001367000 - 000136d170]              BRK ==&gt; [0001367000 - 000136d170]
  #6 [0000010000 - 0000012000]          BOOTMAP ==&gt; [0000010000 - 0000012000]
found SMP MP-table at [c00f6ce0] f6ce0
Zone PFN ranges:
  DMA      0x00000010 -&gt; 0x00001000
  Normal   0x00001000 -&gt; 0x00010000
Movable zone start PFN for each node
early_node_map[3] active PFN ranges
    0: 0x00000010 -&gt; 0x0000009f
    0: 0x00000100 -&gt; 0x0000fef0
    0: 0x0000ff00 -&gt; 0x00010000
On node 0 totalpages: 65407
free_area_init_node: node 0, pgdat c12ea000, node_mem_map c136e200
  DMA zone: 32 pages used for memmap
  DMA zone: 0 pages reserved
  DMA zone: 3951 pages, LIFO batch:0
  Normal zone: 480 pages used for memmap
  Normal zone: 60944 pages, LIFO batch:15
Using APIC driver default
ACPI: PM-Timer IO Port: 0x1008
ACPI: Local APIC address 0xfee00000
ACPI: LAPIC (acpi_id[0x00] lapic_id[0x00] enabled)
ACPI: LAPIC_NMI (acpi_id[0x00] high edge lint[0x1])
ACPI: IOAPIC (id[0x01] address[0xfec00000] gsi_base[0])
IOAPIC[0]: apic_id 1, version 17, address 0xfec00000, GSI 0-23
ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 high edge)
ACPI: IRQ0 used by override.
ACPI: IRQ2 used by override.
ACPI: IRQ9 used by override.
Using ACPI (MADT) for SMP configuration information
SMP: Allowing 1 CPUs, 0 hotplug CPUs
nr_irqs_gsi: 24
Allocating PCI resources starting at 10000000 (gap: 10000000:eec00000)
NR_CPUS:4 nr_cpumask_bits:4 nr_cpu_ids:1 nr_node_ids:1
PERCPU: Embedded 13 pages/cpu @c1800000 s31512 r0 d21736 u4194304
pcpu-alloc: s31512 r0 d21736 u4194304 alloc=1*4194304
pcpu-alloc: [0] 0 
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 64895
Kernel command line: root=/dev/sda2 rootfstype=ext2 rootwait console=tty0 console=ttyS0,38400n8 noinitrd reboot=bios
PID hash table entries: 1024 (order: 0, 4096 bytes)
Dentry cache hash table entries: 32768 (order: 5, 131072 bytes)
Inode-cache hash table entries: 16384 (order: 4, 65536 bytes)
Enabling fast FPU save and restore... done.
Enabling unmasked SIMD FPU exception support... done.
Initializing CPU#0
Memory: 255480k/262144k available (2367k kernel code, 5828k reserved, 629k data, 344k init, 0k highmem)
virtual kernel memory layout:
    fixmap  : 0xfff6b000 - 0xfffff000   ( 592 kB)
    vmalloc : 0xd0800000 - 0xfff69000   ( 759 MB)
    lowmem  : 0xc0000000 - 0xd0000000   ( 256 MB)
      .init : 0xc12ee000 - 0xc1344000   ( 344 kB)
      .data : 0xc124fc92 - 0xc12ed2e0   ( 629 kB)
      .text : 0xc1000000 - 0xc124fc92   (2367 kB)
Checking if this processor honours the WP bit even in supervisor mode...Ok.
SLUB: Genslabs=13, HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Hierarchical RCU implementation.
NR_IRQS:2304 nr_irqs:256
CPU 0 irqstacks, hard=c1800000 soft=c1801000
Console: colour VGA+ 80x25
console [tty0] enabled
console [ttyS0] enabled
Fast TSC calibration using PIT
Detected 1202.442 MHz processor.
Calibrating delay loop (skipped), value calculated using timer frequency.. 2404.88 BogoMIPS (lpj=12024420)
Mount-cache hash table entries: 512
CPU: L1 I cache: 32K, L1 D cache: 32K
CPU: L2 cache: 2048K
mce: CPU supports 0 MCE banks
Checking &#039;hlt&#039; instruction... OK.
SMP alternatives: switching to UP code
Freeing SMP alternatives: 11k freed
ACPI: Core revision 20090903
Enabling APIC mode:  Flat.  Using 1 I/O APICs
..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
CPU0: Intel Pentium(R) Dual-Core  CPU      E5200  @ 2.50GHz stepping 08
Brought up 1 CPUs
Total of 1 processors activated (2404.88 BogoMIPS).
NET: Registered protocol family 16
ACPI: bus type pci registered
PCI: PCI BIOS revision 2.10 entry at 0xfd9a0, last bus=1
PCI: Using configuration type 1 for base access
bio: create slab &lt;bio-0&gt; at 0
ACPI: EC: Look up EC in DSDT
ACPI: Interpreter enabled
ACPI: (supports S0 S5)
ACPI: Using IOAPIC for interrupt routing
ACPI: PCI Root Bridge [PCI0] (0000:00)
pci 0000:00:00.0: reg 10 32bit mmio pref: [0xe8000000-0xebffffff]
pci 0000:00:07.1: reg 20 io port: [0x1050-0x105f]
pci 0000:00:07.3: quirk: region 1000-103f claimed by PIIX4 ACPI
pci 0000:00:07.3: quirk: region 1040-104f claimed by PIIX4 SMB
pci 0000:00:0f.0: reg 10 io port: [0x1480-0x148f]
pci 0000:00:0f.0: reg 14 32bit mmio: [0xf0000000-0xf7ffffff]
pci 0000:00:0f.0: reg 18 32bit mmio: [0xec000000-0xec7fffff]
pci 0000:00:0f.0: reg 30 32bit mmio pref: [0x000000-0x007fff]
pci 0000:00:10.0: reg 10 io port: [0x1060-0x107f]
pci 0000:00:10.0: reg 14 32bit mmio: [0xec800000-0xec80001f]
pci 0000:00:10.0: reg 30 32bit mmio pref: [0x000000-0x003fff]
pci 0000:00:11.0: reg 10 io port: [0x1080-0x10ff]
pci 0000:00:11.0: reg 30 32bit mmio pref: [0x000000-0x00ffff]
pci 0000:00:12.0: reg 10 io port: [0x1400-0x147f]
pci 0000:00:12.0: reg 30 32bit mmio pref: [0x000000-0x00ffff]
pci_bus 0000:00: on NUMA node 0
ACPI: PCI Interrupt Routing Table [\_SB_.PCI0._PRT]
ACPI: PCI Interrupt Link [LNKA] (IRQs 3 4 5 6 7 9 10 11 14 15) *0, disabled.
ACPI: PCI Interrupt Link [LNKB] (IRQs 3 4 5 6 7 9 10 *11 14 15)
ACPI: PCI Interrupt Link [LNKC] (IRQs 3 4 5 6 7 *9 10 11 14 15)
ACPI: PCI Interrupt Link [LNKD] (IRQs 3 4 5 6 7 9 *10 11 14 15)
SCSI subsystem initialized
libata version 3.00 loaded.
PCI: Using ACPI for IRQ routing
Switching to clocksource tsc
pnp: PnP ACPI init
ACPI: bus type pnp registered
pnp: PnP ACPI: found 12 devices
ACPI: ACPI bus type pnp unregistered
system 00:01: ioport range 0x1000-0x103f has been reserved
system 00:01: ioport range 0x1040-0x104f has been reserved
pci 0000:00:01.0: PCI bridge, secondary bus 0000:01
pci 0000:00:01.0:   IO window: disabled
pci 0000:00:01.0:   MEM window: disabled
pci 0000:00:01.0:   PREFETCH window: disabled
pci 0000:00:01.0: setting latency timer to 64
pci_bus 0000:00: resource 0 io:  [0x00-0xffff]
pci_bus 0000:00: resource 1 mem: [0x000000-0xffffffff]
NET: Registered protocol family 2
IP route cache hash table entries: 2048 (order: 1, 8192 bytes)
TCP established hash table entries: 8192 (order: 4, 65536 bytes)
TCP bind hash table entries: 8192 (order: 4, 65536 bytes)
TCP: Hash tables configured (established 8192 bind 8192)
TCP reno registered
NET: Registered protocol family 1
pci 0000:00:00.0: Limiting direct PCI/PCI transfers
pci 0000:00:0f.0: Boot video device
Simple Boot Flag at 0x36 set to 0x1
scx200: NatSemi SCx200 Driver
microcode: CPU0 sig=0x10678, pf=0x1, revision=0x60c
Microcode Update Driver: v2.00 &lt;tigran@aivazian.fsnet.co.uk&gt;, Peter Oruba
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  © 2001-2006 Red Hat, Inc.
msgmni has been set to 499
io scheduler noop registered
io scheduler deadline registered (default)
processor LNXCPU:00: registered as cooling_device0
isapnp: Scanning for PnP cards...
isapnp: No Plug &amp; Play device found
Real Time Clock Driver v1.12b
Non-volatile memory driver v1.3
Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
serial8250: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
serial8250: ttyS1 at I/O 0x2f8 (irq = 3) is a 16550A
00:09: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
00:0a: ttyS1 at I/O 0x2f8 (irq = 3) is a 16550A
ata_piix 0000:00:07.1: version 2.13
scsi0 : ata_piix
scsi1 : ata_piix
ata1: PATA max UDMA/33 cmd 0x1f0 ctl 0x3f6 bmdma 0x1050 irq 14
ata2: PATA max UDMA/33 cmd 0x170 ctl 0x376 bmdma 0x1058 irq 15
ata2: port disabled. ignoring.
PNP: PS/2 Controller [PNP0303:KBC,PNP0f13:MOUS] at 0x60,0x64 irq 1,12
serio: i8042 KBD port at 0x60,0x64 irq 1
serio: i8042 AUX port at 0x60,0x64 irq 12
mice: PS/2 mouse device common for all mice
cpuidle: using governor ladder
TCP westwood registered
NET: Registered protocol family 17
Bridge firewalling registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Using IPI Shortcut mode
input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input0
ata1.00: ATA-4: VMware Virtual IDE Hard Drive, 00000001, max UDMA/33
ata1.00: 4194304 sectors, multi 16: LBA 
ata1.00: configured for UDMA/33
scsi 0:0:0:0: Direct-Access     ATA      VMware Virtual I 0000 PQ: 0 ANSI: 5
sd 0:0:0:0: [sda] 4194304 512-byte logical blocks: (2.14 GB/2.00 GiB)
sd 0:0:0:0: [sda] Write Protect is off
sd 0:0:0:0: [sda] Mode Sense: 00 3a 00 00
sd 0:0:0:0: [sda] Write cache: disabled, read cache: enabled, doesn&#039;t support DPO or FUA
 sda: sda1 sda2
sd 0:0:0:0: [sda] Attached SCSI disk
input: ImPS/2 Generic Wheel Mouse as /devices/platform/i8042/serio1/input/input1
EXT2-fs warning: feature flags set on rev 0 fs, running e2fsck is recommended
VFS: Mounted root (ext2 filesystem) readonly on device 8:2.
Freeing unused kernel memory: 344k freed
Please be patient, while OpenWrt loads ...
EXT2-fs warning: mounting unchecked fs, running e2fsck is recommended
PPP generic driver version 2.4.2
tun: Universal TUN/TAP device driver, 1.6
tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;
ip_tables: (C) 2000-2006 Netfilter Core Team
NET: Registered protocol family 24
nf_conntrack version 0.5.0 (4002 buckets, 16008 max)
CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use
nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or
sysctl net.netfilter.nf_conntrack_acct=1 to enable it.
xt_time: kernel timezone is -0000
IMQ driver loaded successfully.
        Hooking IMQ before NAT on PREROUTING.
        Hooking IMQ after NAT on POSTROUTING.
Intel(R) PRO/1000 Network Driver - version 7.3.21-k5-NAPI
Copyright (c) 1999-2006 Intel Corporation.
pcnet32.c:v1.35 21.Apr.2008 tsbogend@alpha.franken.de
  alloc irq_desc for 18 on node -1
  alloc kstat_irqs on node -1
pcnet32 0000:00:11.0: PCI INT A -&gt; GSI 18 (level, low) -&gt; IRQ 18
pcnet32: PCnet/PCI II 79C970A at 0x1080, 00:0c:29:61:c3:c1 assigned IRQ 18.
eth0: registered as PCnet/PCI II 79C970A
  alloc irq_desc for 19 on node -1
  alloc kstat_irqs on node -1
pcnet32 0000:00:12.0: PCI INT A -&gt; GSI 19 (level, low) -&gt; IRQ 19
pcnet32: PCnet/PCI II 79C970A at 0x1400, 00:0c:29:61:c3:cb assigned IRQ 19.
eth1: registered as PCnet/PCI II 79C970A
pcnet32: 2 cards_found.
via-rhine.c:v1.10-LK1.4.3 2007-03-06 Written by Donald Becker
eth0: link up
device eth0 entered promiscuous mode
br-lan: port 1(eth0) entering forwarding state
eth1: link up
EXT2-fs error (device sda2): ext2_lookup: deleted inode referenced: 529315
Remounting filesystem read-only
EXT2-fs error (device sda2): ext2_lookup: deleted inode referenced: 529315
Remounting filesystem read-only
EXT2-fs error (device sda2): ext2_lookup: deleted inode referenced: 529315
Remounting filesystem read-only
device eth1 entered promiscuous mode
br-wan: port 1(eth1) entering forwarding state</code></pre></div><p>*** df -h<br /></p><div class="codebox"><pre><code>Filesystem                Size      Used Available Use% Mounted on
/dev/root                 1.6G    159.3M      1.4G  10% /
tmpfs                   125.1M     24.0K    125.1M   0% /tmp
tmpfs                   512.0K         0    512.0K   0% /dev</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114209">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">feelnow</div>
					<div class="post-datetime">
						2 Aug 2010, 11:39					</div>
				</div>
				<div class="post-content content">
					<p>Try &quot;e2fsck /dev/sdb1&quot; and &quot;e2fsck /dev/sdb2&quot;</p><p>testing ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115498">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">feelnow</div>
					<div class="post-datetime">
						19 Aug 2010, 06:16					</div>
				</div>
				<div class="post-content content">
					<p>error again :</p><div class="codebox"><pre><code>EXT2-fs error (device sda2): ext2_free_blocks: bit already cleared for block 3111024
Remounting filesystem read-only
EXT2-fs error (device sda2): ext2_free_blocks: bit already cleared for block 3111025
Remounting filesystem read-only
EXT2-fs error (device sda2): ext2_free_blocks: bit already cleared for block 3111026
Remounting filesystem read-only
EXT2-fs error (device sda2): ext2_free_inode: bit already cleared for inode 921384
Remounting filesystem read-only</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115499">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">feelnow</div>
					<div class="post-datetime">
						19 Aug 2010, 06:17					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>root@OpenWrt:/# df -h
Filesystem                Size      Used Available Use% Mounted on
/dev/root                 3.1G    432.8M      2.5G  14% /
tmpfs                   441.5M    172.0K    441.4M   0% /tmp
tmpfs                   512.0K         0    512.0K   0% /dev
root@OpenWrt:/# 
root@OpenWrt:/# df -i
Filesystem              Inodes      Used Available Use% Mounted on
/dev/root              1001112     36639    964473   4% /
tmpfs                   113033        52    112981   0% /tmp
tmpfs                   113033       127    112906   0% /dev</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140734">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">thinkwrt</div>
					<div class="post-datetime">
						7 Aug 2011, 06:28					</div>
				</div>
				<div class="post-content content">
					<p>you can try, first time system start?donn&#039;t operate keboard?cann&#039;t input until system init complete.</p>											<p class="post-edited">(Last edited by <strong>thinkwrt</strong> on 7 Aug 2011, 06:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p150040">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">normunds</div>
					<div class="post-datetime">
						1 Dec 2011, 12:36					</div>
				</div>
				<div class="post-content content">
					<p>i&#039;m having the same problems on usb/flash media.<br />Wht is first time start ??</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>