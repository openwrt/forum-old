<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> 3G / HSPA Router with SIM CARD slot</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 6 Apr 2018 and 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=33250&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=33250&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p248959">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						3 Oct 2014, 11:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>if you read previous posts on this topic you&#039;ll see Kyklas has made backup so you could ask him to send you dump.</p></blockquote></div><p>Thanks, I read it. I had that impression (he was able to run it). I hope Kyklas reads this post. do you know if there is a way to contact him? (my email address is paolo.ulm(at)gmail.com)</p><div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>no, for .rmt firmware another syntax should be used, if it is possible to update .rmt firmware from tftp which i&#039;m not sure of.</p><p>don&#039;t try to flash anymore firmwares for now before you screw it completely. </p><p>instead try to see what firmware version 3G modem has and what version it had before if you can remember. this should be somewhere under maintenance or device info in webinterface.</p><p>i know when i was playing with mine i managed to upgrade it from 1.7 to 2.2 but i don&#039;t remember if i ever made a downgrade back to 1.7</p></blockquote></div><p>I will not run the flash command. I was just wondering about the syntax of it.</p><p>Before I had FW_GS3_R1N89.rmt (R1N89 was the latest) then I downgraded to FW_GS3_R1A63.rmt (R1A63). now I am stuck to (R1A63) and I cannot upgrade it any more since the upgrade process stops immediately and the Globesurfer reboot without upgrading.</p><div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>also what i&#039;ve experienced a few times is that it would not connect just like yours, sometimes you have to wait up to 20 minutes for device to settle itself (i read this somewhere on option website or manual that came with fw update).</p><p>can you check your APN configuration and other provider specific settings are correct? does it detect network at all?</p></blockquote></div><p>I have waited for hours but no changes. I have also checked the apn configuration : it is ok. </p><p>A strange thing: If I manually scan for networks available (carries) it does not find any. Probably the old firmware I installed was about a different country with different frequencies.... no idea.</p><p>Thanks again for your time</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248960">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						3 Oct 2014, 11:19					</div>
				</div>
				<div class="post-content content">
					<p>another piece of info.<br />probably I have understood why my globesurferIII+ is not allowing to update firmware any more. when I downgraded it I installed a firmware that was done for globesurferIII (R1A63) and not for globesurferIII+ R1Nxx. What a mistake!!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248969">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						3 Oct 2014, 12:56					</div>
				</div>
				<div class="post-content content">
					<p>To whom it concernes:<br />I built a 4G Router using &quot;pcengines.ch&quot; APU board + Sierra MC7710 (LTE-Modem card mPCIe), running Voyage (debian based small LINUX).<br />No need to fiddle around with FW-flashes, as APU-board even can be equipped with various flash storage media.<br />And Voyage allows usage of newest LINUX-drivers for the 3G/4G-Modem.<br />Price definitely is competitive to Globalsurfer, as I have seen.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248997">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						3 Oct 2014, 16:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>please copy the output of flash_layout command and it should become more clear.</p></blockquote></div><p>Thanks.</p><p>I will do it in 3 / 4 hours (I do not have the router with me now) </p><p>thanks again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249034">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						3 Oct 2014, 19:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>please copy the output of flash_layout command and it should become more clear.</p></blockquote></div><p>here it is . thanks again</p><p>flash&gt; layout<br />Flash layout:</p><p>Section 00 Type UNKNOWN&nbsp; &nbsp; Range 0x00000000-0x00040000 MaxSize 0x00040000<br />&nbsp; &nbsp; &nbsp; &nbsp; No more information.</p><p>Section 01 Type IMAGE&nbsp; &nbsp; &nbsp; Range 0x00040000-0x00840000 MaxSize 0x007FFF6C<br />&nbsp; &nbsp; &nbsp; &nbsp; Size 0x007C7000 Name &#039;Downloaded at: Sat Sep 27 21:19:38 2014&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; Checksum 0x3EE330EF Counter 0x0000021D Start Offset 0x00000000</p><p>Section 02 Type IMAGE&nbsp; &nbsp; &nbsp; Range 0x00840000-0x01040000 MaxSize 0x007FFF6C<br />&nbsp; &nbsp; &nbsp; &nbsp; Size 0x00000000 Name &#039;&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; Checksum 0x00000363 Counter 0x00000000 Start Offset 0x00000000</p><p>Section 03 Type UNKNOWN&nbsp; &nbsp; Range 0x01040000-0x01FA0000 MaxSize 0x00F5FF6C<br />&nbsp; &nbsp; &nbsp; &nbsp; Size 0x00000000 Name &#039;&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; Checksum 0x00000363 Counter 0x00000000 Start Offset 0x00000000</p><p>Section 04 Type CONF&nbsp; &nbsp; &nbsp; &nbsp;Range 0x01FA0000-0x01FC0000 MaxSize 0x0001FF6C<br />&nbsp; &nbsp; &nbsp; &nbsp; Size 0x00004480 Name &#039;rg_conf&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; Checksum 0x0022367F Counter 0x00000272 Start Offset 0x00000000</p><p>Section 05 Type CONF&nbsp; &nbsp; &nbsp; &nbsp;Range 0x01FC0000-0x01FE0000 MaxSize 0x0001FF6C<br />&nbsp; &nbsp; &nbsp; &nbsp; Size 0x00004497 Name &#039;rg_conf&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; Checksum 0x002286B8 Counter 0x00000273 Start Offset 0x00000000</p><p>Section 06 Type FACTORY&nbsp; &nbsp; Range 0x01FE0000-0x01FF0000 MaxSize 0x0000FF6C<br />&nbsp; &nbsp; &nbsp; &nbsp; Size 0x00001284 Name &#039;rg_factory&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; Checksum 0x0004EA23 Counter 0x00000115 Start Offset 0x00000000</p><p>Section 07 Type UNKNOWN&nbsp; &nbsp; Range 0x01FF0000-0x02000000 MaxSize 0x00010000<br />&nbsp; &nbsp; &nbsp; &nbsp; No more information.</p><p>Total 8 sections found.</p><p>Returned 0<br />flash&gt;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249046">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						3 Oct 2014, 21:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>flash load -u tftp://192.168.1.1/openwrt-GlobeSurfer3-squashfs.bin -r 0x00040000</p><p>it will take several minutes, don&#039;t interrupt anything.</p></blockquote></div><p>thanks again.</p><p>I will do so. and get back to you with the feedback.</p><p>I saw in other areas of this forum that it was release a (I think a sorth of) &quot;stable&quot; version of openwrt with the recent drivers for globesurfer III+ and probably it was included in the very last version of openwrt. </p><p>to make it short... do you think it will work with my globesurfer iii+ ?</p><p>Thanks again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249048">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						3 Oct 2014, 21:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>if the 3G modem firmware was not corrupted by downgrade it will work. you&#039;ll just need to modify the GPIO script located in /etc/init.d/</p></blockquote></div><p>sorry to abuse of your patience but what does it mean ? (I apologise for my ignorance)</p><p>will it be accessible via web (with luci) ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249099">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						4 Oct 2014, 10:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>you have router. it has 3G miniPCIe modem inside. the router has it&#039;s own flash and firmware and 3G modem has it&#039;s own too. with some firmware updates you can update modem firmware too. if you didn&#039;t &#039;break&#039; modem firmware it will work with openwrt.</p><p>luci is included in that image so yes, you can access it via web. but you will need to access it via ssh and modify the script to the values Kyklas posted in <a href="https://forum.openwrt.org/viewtopic.php?pid=215585#p215585.">https://forum.openwrt.org/viewtopic.php â€¦ 5#p215585.</a> i think i named the script 3G but i&#039;m not sure.</p><p>make a reboot and then your 3G modem should be enabled</p></blockquote></div><p>hi anarchy99 and thanks once more for your kind help. it is not easy to deal with newbies like me... I know.</p><p>I have been able to flash the bin you made available. !great success!<br />now I can log to luci interface. If i &quot;TELNET 192.168.1.1 22&quot; the GSIII+ replies. I am still study how to use ssh with telnet I just receive a first line of reply from the router and I do not know how to proceed (this is a problem caused of my ignorance. I will try to document myself over the weekend.)</p><p>Due to the fact I am new to this environment I still have not managed to change the GPIO as suggested by you. I think this is the reason why I cannot still connect to the carrier. I will work on it.</p><p>question1: did you meant the following as far as GPIO settings are concerned (from what I read in the post they are needed to switch on the modem)?</p><div class="codebox"><pre><code>root@OpenWrt:~# cat /etc/init.d/gtm661
#!/bin/sh /etc/rc.common

START=11

cd /sys/class/gpio

echo 4 &gt; export
echo 5 &gt; export

cd

echo out &gt;  /sys/devices/virtual/gpio/gpio4/direction
echo 1 &gt; /sys/devices/virtual/gpio/gpio4/value

echo out &gt;  /sys/devices/virtual/gpio/gpio5/direction
echo 1 &gt; /sys/devices/virtual/gpio/gpio5/value

echo out &gt;  /sys/devices/virtual/gpio/gpio4/direction
echo 1 &gt; /sys/devices/virtual/gpio/gpio4/value

echo out &gt;  /sys/devices/virtual/gpio/gpio5/direction
echo 1 &gt; /sys/devices/virtual/gpio/gpio5/value

echo out &gt;  /sys/devices/virtual/gpio/gpio4/direction
echo 1 &gt; /sys/devices/virtual/gpio/gpio4/value

echo out &gt;  /sys/devices/virtual/gpio/gpio5/direction
echo 1 &gt; /sys/devices/virtual/gpio/gpio5/value

echo out &gt;  /sys/devices/virtual/gpio/gpio4/direction
echo 1 &gt; /sys/devices/virtual/gpio/gpio4/value

echo out &gt;  /sys/devices/virtual/gpio/gpio5/direction
echo 1 &gt; /sys/devices/virtual/gpio/gpio5/value</code></pre></div><p>question2: do you think I could come back to my old firmware (FW_GS3_R1N89.rmt) if I upload it with openwrt interface relevant to the firmware upgrade?</p><p>a super thanks you again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249169">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						4 Oct 2014, 22:47					</div>
				</div>
				<div class="post-content content">
					<p>It is WORKING !!!! back to life !!!!!</p><p>Thank you anarchy99 . THANK YOU !!</p><p>I would not be able to do it without your help.</p><p>THANKS AGAIN !!! if you came to Italy I own you a pizza (where are you from by the way) !!!</p><p>I will test it and get back to this post with my findings.</p><p>last question a) <br />Do you know if there is a package (maybe with web interface) to:</p><p>1) receive and send SMS<br />2) DDNS service (like dyndns)<br />3) monthly data&nbsp; traffic counter</p><p>last question b)<br />is there an autoupdate of openwrt?<br />what happen if I update it? do I have to play with the &quot;enable3G&quot; file again?</p><br /><p>super thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249182">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						5 Oct 2014, 00:13					</div>
				</div>
				<div class="post-content content">
					<p>thanks for the links.</p><p>..umhhh probably I was celebrating too quickly .</p><p>unfortunately from a first test the router is not stable.</p><p>it restarts several times if i connect to internet. especially it look very sensitive to heavy navigation (if I go to websites with a lot of images and links) the router crashes and then it reboots.</p><p>if I remember well this (not stable) was experience also by Kyklas. do you know if/how he solved it?</p><p>thanks again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249226">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						5 Oct 2014, 10:10					</div>
				</div>
				<div class="post-content content">
					<p>thanks again.</p><p>now my &quot;/etc/config/network&quot; has a part with &quot;config interface &#039;wan&#039;&quot; not with &quot;<br />config interface &#039;wwan&#039;&quot;</p><p>now it is:<br /></p><div class="quotebox"><cite>code wrote:</cite><blockquote><p>config interface &#039;wan&#039;<br />&nbsp; &nbsp; option _orig_ifname &#039;eth0.0&#039;<br />&nbsp; &nbsp; option _orig_bridge &#039;false&#039;<br />&nbsp; &nbsp; option proto &#039;3g&#039;<br />&nbsp; &nbsp; option apn &#039;ibox.tim.it&#039;<br />&nbsp; &nbsp; option device &#039;/dev/ttyHS3&#039;<br />&nbsp; &nbsp; option service &#039;umts_only&#039;</p></blockquote></div><p>and with this configuration it works but quite often it crashes</p><p>Kyklas configuration was:<br /></p><div class="quotebox"><cite>code wrote:</cite><blockquote><p>config interface &#039;wwan&#039;<br />&nbsp; &nbsp; option ifname &#039;hso0&#039;<br />&nbsp; &nbsp; option proto &#039;hso&#039;<br />&nbsp; &nbsp; option apn &#039;&lt;your apn&gt;&#039;<br />&nbsp; &nbsp; option pincode &#039;&lt;your pin&gt;&#039;<br />&nbsp; &nbsp; option device &#039;/dev/ttyHS2&#039;</p></blockquote></div><p>should my configuration become the following?<br /></p><div class="quotebox"><cite>code wrote:</cite><blockquote><p>config interface &#039;wan&#039;<br />&nbsp; &nbsp; option _orig_ifname &#039;eth0.0&#039;<br />&nbsp; &nbsp; option _orig_bridge &#039;false&#039;<br />&nbsp; &nbsp; option ifname &#039;hso0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;hso&#039;<br />&nbsp; &nbsp; option apn &#039;ibox.tim.it&#039;<br />&nbsp; &nbsp; option device &#039;/dev/ttyHS3&#039;<br />&nbsp; &nbsp; option service &#039;umts_only&#039;</p></blockquote></div><p>thanks again</p>											<p class="post-edited">(Last edited by <strong>paolo.ulm</strong> on 5 Oct 2014, 10:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249315">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						5 Oct 2014, 23:59					</div>
				</div>
				<div class="post-content content">
					<p>I entered your setting, now it is stable. :-)<br />thanks again.</p><p>Initially i created a new interface ( so I had &quot;wanold&quot; and &quot;wan&quot;) but when the router started the interface did not start automatically.&nbsp; now the only wan is the one with your settings and the interface starts and connects automatically .</p><p>I noticed that when the router boots the wifi is not available, even if it was when i switched it off. If i click on &quot;save and apply&quot; in the wifi interface (luci) it starts. any trick to starts it automatically?</p><p>thanks again. I am very happy. now I can use again my globesurfer.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249374">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						6 Oct 2014, 13:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>you can try to put the following lines in your System-&gt;Startup script in luci at the bottom, before exit line</p><p>iwconfig wl0 txpower off<br />iwconfig wl0 txpower auto</p><p>on GS3 wifi start after reboot but network is unreachable, so i used these startup commands to restart wifi. it might work on GS3+ too</p></blockquote></div><p>thanks again for the tip.<br />with the setting you gave me now it starts automatically but it looks like if the wifi has no access to the internet while the lan has.<br />Unfortunately I have not had a lot of time to test it. <br />As soon as it is more clear I will get back to this forum with detailed info.</p><p>Thanks again for your patience.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249431">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						6 Oct 2014, 21:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>you can try to put the following lines in your System-&gt;Startup script in luci at the bottom, before exit line</p><p>iwconfig wl0 txpower off<br />iwconfig wl0 txpower auto</p><p>on GS3 wifi start after reboot but network is unreachable, so i used these startup commands to restart wifi. it might work on GS3+ too</p></blockquote></div><p>I run other tests. now it is clear.</p><p>putting your line in the luci&#039;s startup scripts the WIFI turns on together with the router but it seems that the wifi does not communicate with the LAN nor the WAN. So if a computer is connected to wiFI it is not even released an IP&nbsp; through the DHCP.</p><p>if I go to wifi interface (of luci) and I click disable and then I click enable after this the WIFI is working properly.</p><p>another issue: do you think there is a way to run a ping every 15 minutes and if ping does not reply to reboot the router?</p><p>thanks again... of course</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249446">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						6 Oct 2014, 22:54					</div>
				</div>
				<div class="post-content content">
					<p>that is strange because the ethernet port has dhcp working.<br />I will try to play with it according to your suggestion.</p><p>thanks again. you are extremely useful</p><p>ps. I saw watchdog was integrated in openwrt thanks ( <a href="https://dev.openwrt.org/ticket/2270">https://dev.openwrt.org/ticket/2270</a> )</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249578">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						7 Oct 2014, 18:57					</div>
				</div>
				<div class="post-content content">
					<p>Dear Anarchy99,</p><p>Probably I can manage to find an original flash.bin exported from a working globesurfer III +.</p><p>If I can get it, what should I do to flash my globesurfer since it has openwrt now ?<br />is it possible?</p><p>super thank you as usual.</p><p>Ciao<br />Paolo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249693">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						8 Oct 2014, 11:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>you can install DDNS from software packages. search wiki for details.</p></blockquote></div><p>thanks.</p><p>I saw that there are packages relevant to the various versions, eg:<br />../<br />12.09/&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;09-Jul-2014 08:05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />12.09-beta/&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14-Oct-2012 21:01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />12.09-beta2/&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;05-Nov-2012 11:28&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />12.09-rc1/&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;27-Nov-2012 22:53&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-<br />12.09-rc2/&nbsp; &nbsp; &nbsp; &nbsp; </p><p>But I have not found the ones relevant to the version you gave me that appears like 12.09.1 .</p><p>does &quot;12.09.1&quot; mean &quot;12.09-rc1&quot;?<br />could I download the packages from &quot;12.09/&quot;?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249696">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						8 Oct 2014, 11:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>you can try to put the following lines in your System-&gt;Startup script in luci at the bottom, before exit line</p><p>iwconfig wl0 txpower off<br />iwconfig wl0 txpower auto</p><p>on GS3 wifi start after reboot but network is unreachable, so i used these startup commands to restart wifi. it might work on GS3+ too</p></blockquote></div><p>thanks anarchy.</p><p>on GS3+ I have been able to fix it adding &quot;wifi&quot; to the startup commands. now it is:</p><p>iwconfig wl0 txpower off<br />iwconfig wl0 txpower auto<br />wifi</p><br /><p>Thanks again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249741">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						8 Oct 2014, 17:21					</div>
				</div>
				<div class="post-content content">
					<p>Thanks anarchy,</p><p>It sounds difficult. I need to document myself, train myself and... a surgery room before doing it.</p><p>Is it so difficult to extract/export the flash from my globesurfer too?<br />I mean, how can I export the flash of my current configuration and keep it for the future in case I must do a recovery of my GS3+?</p><p>I am looking for a way to create a file like the one you gave me before. Is there an easy way to create a backup?</p><p>thanks again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250287">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">Kyklas</div>
					<div class="post-datetime">
						13 Oct 2014, 00:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I had issue with OpenWRT 14.07 and the HSO driver. It seems that rfkill has been disabled by default in this version of OpenWRT. Making my own image with rfkill enabled (USE_RFKILL in Global build settings), I managed to have my modem working on TP-WR710N. I tested that also on my WR1043ND and to my surprise i had an error using hso and rfkill, i was missing input-core but it is not listed as a dependency.</p><p>I made modification to hso connection scripts. The network mode can be selected ( GSM or UMTS ). The PDP context used is # 2 so the modem GPS can use PDP context # 1 for A-GPS connection. The modem connection log can be viewed with logread. chat is still used for the connection.</p><p>To know if hso in the comgt package, i like to add hso to PKG_RELEASE in the makefile. I haven&#039;t tested authentication. The patch need to be applied in the comgt package directory ( package/comgt for 12.09 or package/network/utils/comgt 14.07)</p><div class="codebox"><pre><code>diff --git a/Makefile b/Makefile
index 5324903..98c8502 100644
--- a/Makefile
+++ b/Makefile
@@ -50,7 +50,10 @@ define Package/comgt/install
     $(INSTALL_DIR) $(1)/etc/chatscripts
     $(INSTALL_DATA) ./files/3g.chat $(1)/etc/chatscripts/3g.chat
     $(INSTALL_DATA) ./files/evdo.chat $(1)/etc/chatscripts/evdo.chat
+    $(INSTALL_DATA) ./files/hso.chat $(1)/etc/chatscripts/hso.chat
+    $(INSTALL_DATA) ./files/hsohup.chat $(1)/etc/chatscripts/hsohup.chat
     $(INSTALL_DIR) $(1)/etc/gcom
+    $(INSTALL_DATA) ./files/setuser.gcom $(1)/etc/gcom/setuser.gcom
     $(INSTALL_DATA) ./files/setpin.gcom $(1)/etc/gcom/setpin.gcom
     $(INSTALL_DATA) ./files/setmode.gcom $(1)/etc/gcom/setmode.gcom
     $(INSTALL_DATA) ./files/getcardinfo.gcom $(1)/etc/gcom/getcardinfo.gcom
@@ -62,6 +65,7 @@ define Package/comgt/install
     $(INSTALL_DATA) ./files/3g.usb $(1)/etc/hotplug.d/tty/30-3g
     $(INSTALL_DIR) $(1)/lib/netifd/proto
     $(INSTALL_BIN) ./files/3g.sh $(1)/lib/netifd/proto/3g.sh
+    $(INSTALL_BIN) ./files/hso.sh $(1)/lib/netifd/proto/hso.sh
 endef
 
 $(eval $(call BuildPackage,comgt))
diff --git a/files/hso.chat b/files/hso.chat
new file mode 100644
index 0000000..cb87d5a
--- /dev/null
+++ b/files/hso.chat
@@ -0,0 +1,13 @@
+ABORT   BUSY
+ABORT   &#039;NO CARRIER&#039;
+ABORT   ERROR
+REPORT  CONNECT
+TIMEOUT 10
+&quot;&quot;    &quot;ATZ&quot;
+OK    &#039;AT+CGDCONT=2,&quot;IP&quot;,&quot;$USE_APN&quot;&#039;
+SAY    &quot;Service Mode $MODE&quot;
+TIMEOUT 30
+OK    &quot;AT_OPSYS=$MODE,2&quot;
+OK    &quot;AT_OWANCALL=2,1,0&quot;
+OK    &quot;\d\d\d\d\d\dAT_OWANDATA=2&quot;
+OK    &quot;&quot;
diff --git a/files/hso.sh b/files/hso.sh
new file mode 100644
index 0000000..05ff818
--- /dev/null
+++ b/files/hso.sh
@@ -0,0 +1,137 @@
+#!/bin/sh
+INCLUDE_ONLY=1
+
+. ../netifd-proto.sh
+init_proto &quot;$@&quot;
+
+proto_hso_init_config() {
+
+    no_device=1
+    available=1
+        
+    proto_config_add_string &quot;device&quot;
+    proto_config_add_string &quot;maxwait&quot;
+    proto_config_add_string &quot;apn&quot;
+    proto_config_add_string &quot;pincode&quot;
+    proto_config_add_int &quot;mtu&quot;
+    proto_config_add_string &quot;username&quot;
+    proto_config_add_string &quot;password&quot;
+    proto_config_add_string &quot;ifname&quot;
+}
+
+
+proto_hso_setup() {
+
+    local iface=&quot;$1&quot;
+    local chat=&quot;/etc/chatscripts/hso.chat&quot;
+    
+    json_get_var device device
+    json_get_var maxwait maxwait
+    maxwait=${maxwait:-20}
+    while [ ! -e &quot;$device&quot; -a $maxwait -gt 0 ];do # wait for driver loading to catch up
+        maxwait=$(($maxwait - 1))
+        sleep 1
+    done
+
+    json_get_var apn apn
+    json_get_var pincode pincode
+    json_get_var mtu mtu
+    json_get_var service service
+    json_get_var username username
+    json_get_var password password
+    json_get_type ifnametype ifname
+    
+    if [ &quot;$ifnametype&quot; = &quot;array&quot; ]
+    then
+        json_select ifname
+        json_get_var ifname 1
+        json_select &quot;..&quot;
+    fi
+    
+    if [ &quot;$ifnametype&quot; = &quot;string&quot; ]
+    then
+        json_get_var ifname ifname
+    fi
+
+    # set pin if configured
+    if [ ! -z &quot;$pincode&quot; ]
+    then
+        PINCODE=&quot;$pincode&quot; gcom -d &quot;$device&quot; -s /etc/gcom/setpin.gcom || {
+            echo &quot;$iface (hso): Failed to set the PIN code.&quot;
+            proto_notify_error &quot;$iface&quot; PIN_FAILED
+            return 1
+        }
+    fi
+
+    # set username and password if configured
+    if [ -n &quot;$username&quot; -a -n &quot;$password&quot; ]
+    then
+        USER=&quot;$username&quot; PASS=&quot;$password&quot; gcom -d &quot;$device&quot; -s /etc/gcom/setuser.gcom || {
+            echo &quot;$iface (hso): Failed to set username and password.&quot;
+            proto_notify_error &quot;$iface&quot; AUTH_FAILED
+            return 1
+        }
+    fi
+    
+    
+    case &quot;$service&quot; in
+        umts_only) service_mode=1;;
+        gprs_only) service_mode=0;;
+        *) service_mode=3;;
+    esac
+    
+    local pip counter
+    local outputfile=&quot;/tmp/hsoout.$$&quot;
+    while [ -z &quot;$pip&quot; -a &quot;$counter&quot; != &quot;---------------&quot; ]
+    do
+        sleep 2
+        rm -f $outputfile
+        ( USE_APN=$apn MODE=$service_mode /usr/sbin/chat -E -v -V -f $chat &lt;$device &gt; $device ) 2&gt; $outputfile
+        iserror=`grep &#039;^ERROR&#039; $outputfile`
+        if [ -z &quot;$iserror&quot; ]
+        then
+            pip=&quot;`grep &#039;^_OWANDATA&#039; $outputfile | cut -d, -f2`&quot;
+            gw=&quot;`grep &#039;^_OWANDATA&#039; $outputfile | cut -d, -f3`&quot;
+            ns1=&quot;`grep &#039;^_OWANDATA&#039; $outputfile | cut -d, -f4`&quot;
+            ns2=&quot;`grep &#039;^_OWANDATA&#039; $outputfile | cut -d, -f5`&quot;
+        fi
+
+        counter=&quot;${counter}-&quot;
+    done
+
+    rm -f $outputfile
+
+    if [ -z $pip ]
+    then
+        echo &quot;$iface (hso): Failed to connect and obtain IP address.&quot;
+        return 1
+    fi
+
+    proto_init_update $ifname 1
+    proto_set_keep 1
+    proto_add_ipv4_address &quot;$pip&quot; 32
+    proto_add_dns_server &quot;$ns1&quot;
+    proto_add_dns_server &quot;$ns2&quot;
+    proto_add_ipv4_route &quot;0.0.0.0&quot; 0 $gw
+    proto_add_data
+    json_add_string &quot;ppp-type&quot; &quot;hso&quot;
+    proto_close_data
+    proto_send_update &quot;$iface&quot;
+    
+    touch /var/run/$ifname.pid
+}
+
+
+proto_hso_teardown() {
+
+    local config=&quot;$1&quot;
+    local chat=&quot;/etc/chatscripts/hsohup.chat&quot;
+
+    json_get_var device device
+    /usr/sbin/chat -v -f $chat &lt;$device &gt; $device    
+    
+    
+    killall gcom &gt;/dev/null 2&gt;/dev/null
+}
+
+add_protocol hso
diff --git a/files/hsohup.chat b/files/hsohup.chat
new file mode 100644
index 0000000..9e82183
--- /dev/null
+++ b/files/hsohup.chat
@@ -0,0 +1,8 @@
+ABORT   BUSY
+ABORT   &#039;NO CARRIER&#039;
+ABORT   ERROR
+REPORT  CONNECT
+SAY    &quot;Hanging up...&quot;
+TIMEOUT 30
+&quot;&quot;    &quot;AT_OWANCALL=2,0&quot;
+OK    &quot;&quot;
diff --git a/files/setuser.gcom b/files/setuser.gcom
new file mode 100644
index 0000000..511d90b
--- /dev/null
+++ b/files/setuser.gcom
@@ -0,0 +1,29 @@
+# set username and password
+opengt
+ set com 115200n81
+ set senddelay 0.02
+ waitquiet 1 0.2
+ flash 0.1
+
+:start
+ print &quot;Trying to set username and password\n&quot;
+ send &quot;AT$QCPDPP=1,1,&quot;
+ send $env(&quot;USER&quot;)
+ send &quot;,&quot;
+ send $env(&quot;PASS&quot;)
+ send &quot;^m&quot;
+
+ waitfor 15 &quot;OK&quot;,&quot;ERR&quot;,&quot;ERROR&quot;
+ if % = 0 goto continue
+ if % = 1 goto modeerror
+ if % = 2 goto modeerror
+
+ print &quot;Timeout setting username and password!\n&quot;
+ exit 1
+
+:modeerror
+ print &quot;Error setting username and password!\n&quot;
+ exit 1
+
+:continue
+ exit 0</code></pre></div><p>The LuCI configuration interface that goes with this is base on <a href="http://git.openwrt.org/project/luci.git.">http://git.openwrt.org/project/luci.git.</a> You can changed which luci you are using on OpenWRT 12.09 by editing the LuCI repository in feeds.conf.default. The following patch adds luci-proto-hso package to LuCI protocols list. The patch need to be applied in feeds/luci directory, using svn doesn&#039;t work.</p><div class="codebox"><pre><code>diff --git a/contrib/package/luci/Makefile b/contrib/package/luci/Makefile
index 5ee13d4..9154121 100644
--- a/contrib/package/luci/Makefile
+++ b/contrib/package/luci/Makefile
@@ -192,6 +192,7 @@ endef
 $(eval $(call protocol,ppp,Support for PPP/PPPoE/PPPoA/PPtP))
 $(eval $(call protocol,ipv6,Support for DHCPv6/6in4/6to4/6rd/DS-Lite))
 $(eval $(call protocol,3g,Support for 3G,+PACKAGE_luci-proto-3g:comgt))
+$(eval $(call protocol,hso,Support for hso,+PACKAGE_luci-proto-hso:comgt +PACKAGE_luci-proto-hso:kmod-usb-net-hso))
 $(eval $(call protocol,relay,Support for relayd pseudo bridges,+PACKAGE_luci-proto-relay:relayd))
 
 
diff --git a/protocols/hso/Makefile b/protocols/hso/Makefile
new file mode 100644
index 0000000..f7fac77
--- /dev/null
+++ b/protocols/hso/Makefile
@@ -0,0 +1,2 @@
+include ../../build/config.mk
+include ../../build/module.mk
diff --git a/protocols/hso/luasrc/model/cbi/admin_network/proto_hso.lua b/protocols/hso/luasrc/model/cbi/admin_network/proto_hso.lua
new file mode 100644
index 0000000..1515df1
--- /dev/null
+++ b/protocols/hso/luasrc/model/cbi/admin_network/proto_hso.lua
@@ -0,0 +1,158 @@
+--[[
+LuCI - Lua Configuration Interface
+
+Copyright 2011 Jo-Philipp Wich &lt;xm@subsignal.org&gt;
+
+Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
+you may not use this file except in compliance with the License.
+You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+]]--
+
+local map, section, net = ...
+
+local hsoname,hsotype,hsointerface
+local device, apn, service, pincode, username, password
+local ipv6, maxwait, defaultroute, metric, peerdns, dns,
+      keepalive_failure, keepalive_interval, demand
+
+
+device = section:taboption(&quot;general&quot;, Value, &quot;device&quot;, translate(&quot;Control interface&quot;))
+device.rmempty = false
+
+local device_suggestions = nixio.fs.glob(&quot;/dev/ttyHS*&quot;)
+    or nixio.fs.glob(&quot;/dev/tts/*&quot;)
+
+if device_suggestions then
+    local node
+    for node in device_suggestions do
+        hsoname = string.gsub(node,&quot;/dev/&quot;,&quot;&quot;)
+        hsotype = nixio.fs.readfile(&quot;/sys/class/tty/&quot; .. hsoname .. &quot;/hsotype&quot;)
+        device:value(node, hsotype .. &quot; (&quot; .. node ..&quot;)&quot; )
+        if string.find(hsotype,&quot;Application&quot;) ~= nil then
+            device.default = node
+        end
+    end
+end
+
+
+service = section:taboption(&quot;general&quot;, Value, &quot;service&quot;, translate(&quot;Service Type&quot;))
+service.default = &quot;umts&quot;
+service:value(&quot;umts&quot;, &quot;UMTS/GPRS&quot;)
+service:value(&quot;umts_only&quot;, translate(&quot;UMTS only&quot;))
+service:value(&quot;gprs_only&quot;, translate(&quot;GPRS only&quot;))
+
+
+apn = section:taboption(&quot;general&quot;, Value, &quot;apn&quot;, translate(&quot;APN&quot;))
+
+
+pincode = section:taboption(&quot;general&quot;, Value, &quot;pincode&quot;, translate(&quot;PIN&quot;))
+
+
+username = section:taboption(&quot;general&quot;, Value, &quot;username&quot;, translate(&quot;PAP/CHAP username&quot;))
+
+
+password = section:taboption(&quot;general&quot;, Value, &quot;password&quot;, translate(&quot;PAP/CHAP password&quot;))
+password.password = true
+
+
+if luci.model.network:has_ipv6() then
+
+    ipv6 = section:taboption(&quot;advanced&quot;, Flag, &quot;ipv6&quot;,
+        translate(&quot;Enable IPv6 negotiation on the PPP link&quot;))
+
+    ipv6.default = ipv6.disabled
+
+end
+
+
+maxwait = section:taboption(&quot;advanced&quot;, Value, &quot;maxwait&quot;,
+    translate(&quot;Modem init timeout&quot;),
+    translate(&quot;Maximum amount of seconds to wait for the modem to become ready&quot;))
+
+maxwait.placeholder = &quot;20&quot;
+maxwait.datatype    = &quot;min(1)&quot;
+
+
+defaultroute = section:taboption(&quot;advanced&quot;, Flag, &quot;defaultroute&quot;,
+    translate(&quot;Use default gateway&quot;),
+    translate(&quot;If unchecked, no default route is configured&quot;))
+
+defaultroute.default = defaultroute.enabled
+
+
+metric = section:taboption(&quot;advanced&quot;, Value, &quot;metric&quot;,
+    translate(&quot;Use gateway metric&quot;))
+
+metric.placeholder = &quot;0&quot;
+metric.datatype    = &quot;uinteger&quot;
+metric:depends(&quot;defaultroute&quot;, defaultroute.enabled)
+
+
+peerdns = section:taboption(&quot;advanced&quot;, Flag, &quot;peerdns&quot;,
+    translate(&quot;Use DNS servers advertised by peer&quot;),
+    translate(&quot;If unchecked, the advertised DNS server addresses are ignored&quot;))
+
+peerdns.default = peerdns.enabled
+
+
+dns = section:taboption(&quot;advanced&quot;, DynamicList, &quot;dns&quot;,
+    translate(&quot;Use custom DNS servers&quot;))
+
+dns:depends(&quot;peerdns&quot;, &quot;&quot;)
+dns.datatype = &quot;ipaddr&quot;
+dns.cast     = &quot;string&quot;
+
+
+keepalive_failure = section:taboption(&quot;advanced&quot;, Value, &quot;_keepalive_failure&quot;,
+    translate(&quot;LCP echo failure threshold&quot;),
+    translate(&quot;Presume peer to be dead after given amount of LCP echo failures, use 0 to ignore failures&quot;))
+
+function keepalive_failure.cfgvalue(self, section)
+    local v = m:get(section, &quot;keepalive&quot;)
+    if v and #v &gt; 0 then
+        return tonumber(v:match(&quot;^(%d+)[ ,]+%d+&quot;) or v)
+    end
+end
+
+function keepalive_failure.write() end
+function keepalive_failure.remove() end
+
+keepalive_failure.placeholder = &quot;0&quot;
+keepalive_failure.datatype    = &quot;uinteger&quot;
+
+
+keepalive_interval = section:taboption(&quot;advanced&quot;, Value, &quot;_keepalive_interval&quot;,
+    translate(&quot;LCP echo interval&quot;),
+    translate(&quot;Send LCP echo requests at the given interval in seconds, only effective in conjunction with failure threshold&quot;))
+
+function keepalive_interval.cfgvalue(self, section)
+    local v = m:get(section, &quot;keepalive&quot;)
+    if v and #v &gt; 0 then
+        return tonumber(v:match(&quot;^%d+[ ,]+(%d+)&quot;))
+    end
+end
+
+function keepalive_interval.write(self, section, value)
+    local f = tonumber(keepalive_failure:formvalue(section)) or 0
+    local i = tonumber(value) or 5
+    if i &lt; 1 then i = 1 end
+    if f &gt; 0 then
+        m:set(section, &quot;keepalive&quot;, &quot;%d %d&quot; %{ f, i })
+    else
+        m:del(section, &quot;keepalive&quot;)
+    end
+end
+
+keepalive_interval.remove      = keepalive_interval.write
+keepalive_interval.placeholder = &quot;5&quot;
+keepalive_interval.datatype    = &quot;min(1)&quot;
+
+
+demand = section:taboption(&quot;advanced&quot;, Value, &quot;demand&quot;,
+    translate(&quot;Inactivity timeout&quot;),
+    translate(&quot;Close inactive connection after the given amount of seconds, use 0 to persist connection&quot;))
+
+demand.placeholder = &quot;0&quot;
+demand.datatype    = &quot;uinteger&quot;
diff --git a/protocols/hso/luasrc/model/network/proto_hso.lua b/protocols/hso/luasrc/model/network/proto_hso.lua
new file mode 100644
index 0000000..5323e83
--- /dev/null
+++ b/protocols/hso/luasrc/model/network/proto_hso.lua
@@ -0,0 +1,59 @@
+--[[
+LuCI - Network model - 3G, PPP, PPtP, PPPoE and PPPoA protocol extension
+
+Copyright 2011 Jo-Philipp Wich &lt;xm@subsignal.org&gt;
+
+Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
+you may not use this file except in compliance with the License.
+You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing, software
+distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+See the License for the specific language governing permissions and
+limitations under the License.
+
+]]--
+
+local netmod = luci.model.network
+
+local _, p
+
+local proto = netmod:register_protocol(&quot;hso&quot;)
+
+function proto.ifname(self)
+        return &quot;hso-&quot; .. self.sid
+end
+
+function proto.get_i18n(self)
+    return luci.i18n.translate(&quot;HSO&quot;)
+end
+
+function proto.opkg_package(self)
+    return &quot;comgt&quot;
+end
+
+function proto.is_installed(self)
+    return nixio.fs.access(&quot;/lib/netifd/proto/hso.sh&quot;)
+end
+
+function proto.is_floating(self)
+    return false
+end
+
+function proto.is_virtual(self)
+    return false
+end
+
+function proto.get_interfaces(self)
+    return netmod.protocol.get_interfaces(self)
+end
+
+function proto.contains_interface(self, ifc)
+    return netmod.protocol.contains_interface(self, ifc)
+end
+
+netmod:register_pattern_virtual(&quot;^hso-%%w&quot;)
+</code></pre></div><p>I may look to submit those patches for integration after people have tested them.</p><p>A sample of configuration in /etc/config/network<br /></p><div class="codebox"><pre><code>config interface &#039;wwan&#039;
        option proto &#039;hso&#039;
        option ifname &#039;hso0&#039;
        option device &#039;/dev/ttyHS3&#039;
        option service &#039;umts&#039;
        option apn &#039;&lt;APN&gt;&#039;
        option pincode &#039;&lt;PIN&gt;&#039;</code></pre></div>											<p class="post-edited">(Last edited by <strong>Kyklas</strong> on 13 Oct 2014, 01:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250296">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">Kyklas</div>
					<div class="post-datetime">
						13 Oct 2014, 01:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>paolo.ulm wrote:</cite><blockquote><p>Thanks anarchy,</p><p>It sounds difficult. I need to document myself, train myself and... a surgery room before doing it.</p><p>Is it so difficult to extract/export the flash from my globesurfer too?<br />I mean, how can I export the flash of my current configuration and keep it for the future in case I must do a recovery of my GS3+?</p><p>I am looking for a way to create a file like the one you gave me before. Is there an easy way to create a backup?</p><p>thanks again</p></blockquote></div><p>From what i remember you can backup either from OpenRG ( GlobeSurfer firmware ) or CFE ( the bootloader which require to have a serial connection to the device pin)</p><p>I had in a file the following commands. I thing those are for the bootloader. I remember it being easier in the bootloader as it send you the dump to a tftp server. Change the 192.168.1.9 ip to your tftp server ip.<br /></p><div class="codebox"><pre><code>save 192.168.1.9:GS_Sec00_bc000000_bc040000_V2 bc000000 40000
save 192.168.1.9:GS_Sec01_bc040000_bc840000_V2 bc040000 800000
save 192.168.1.9:GS_Sec02_bc840000_bd040000_V2 bc840000 800000
save 192.168.1.9:GS_Sec03_bd040000_bdFA0000_V2 bd040000 F60000
save 192.168.1.9:GS_Sec04_bdFA0000_bdFC0000_V2 bdFA0000 20000
save 192.168.1.9:GS_Sec05_bdFC0000_bdFE0000_V2 bdFC0000 20000
save 192.168.1.9:GS_Sec06_bdFE0000_bdFF0000_V2 81FE0000 10000

save 192.168.1.9:GS_FlashDump_V2 bc000000 2000000

save 192.168.1.9:GS_FlashBackUP bc000000 2000000</code></pre></div><p>Example to flash the dump back into the device from the bootloader<br /></p><div class="codebox"><pre><code>    Section 1
flash -offset=0x00040000 -noheader 192.168.1.9:openwrt-GS3+-squashfs.bin flash0
    Section 2
flash -offset=0x00840000 -noheader 192.168.1.9:GS_Sec02 flash0</code></pre></div><p>Example to flash from OpenRG<br /></p><div class="codebox"><pre><code>load -u tftp://192.168.1.2/openwrt-GlobeSurfer3-squashfs.bin -r 0x00040000</code></pre></div><p>I have some dump of the device if you want i can send you a link by private message.</p>											<p class="post-edited">(Last edited by <strong>Kyklas</strong> on 13 Oct 2014, 01:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250420">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						13 Oct 2014, 21:54					</div>
				</div>
				<div class="post-content content">
					<p>nice to meet you Kyklas !!!<br />Without your help and (anarchy&#039;s) I would have never been able to install openwrt on my globesurfer 3 +!<br />as you will see from my posts I am really new to your world !</p><p>I saw there is a lot of work to install the latest openwrt on gs3+. (thanks for the post)</p><div class="quotebox"><cite>Kyklas wrote:</cite><blockquote><p>From what i remember you can backup either from OpenRG ( GlobeSurfer firmware ) or CFE ( the bootloader which require to have a serial connection to the device pin)</p></blockquote></div><p>now I have been able to install openwrt on my gs3+ . </p><p>1) is using bootloader the only way to send the dump to a flash file from globesurfer?<br />2) do I need to sold a serial port to the pins ( <a href="http://postimg.org/image/9ew81ktyj/">http://postimg.org/image/9ew81ktyj/</a>&nbsp; ) to be able to run the commands with bootloader?</p><p>thansk again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250436">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">Kyklas</div>
					<div class="post-datetime">
						13 Oct 2014, 23:39					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>1) I have posted example command lines on how to backup GS frimware from the bootloader. I remember doing it from OpenRG but i don&#039;t have the command nor the device to be sure<br />2) You can solder connector to those pins and use wires with a USB to TLL serial converter ( 3.3V level ) to access the console of OpenRG or OpenWRT. Dealing with flash is sensible, doing it from the bootloader seems safer for me.</p><p>The version run on GS3+ is OpenWRT 12.09 with is not the latest.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250550">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						14 Oct 2014, 19:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Kyklas wrote:</cite><blockquote><p>Hi,</p><p>1) I have posted example command lines on how to backup GS frimware from the bootloader. I remember doing it from OpenRG but i don&#039;t have the command nor the device to be sure<br />2) You can solder connector to those pins and use wires with a USB to TLL serial converter ( 3.3V level ) to access the console of OpenRG or OpenWRT. Dealing with flash is sensible, doing it from the bootloader seems safer for me.</p><p>The version run on GS3+ is OpenWRT 12.09 with is not the latest.</p></blockquote></div><p>thanks kyklas,<br />Unfortunately I am not a super expert in soldering and the possibilities to damage the gs3 are quite high.</p><p>I have found this page that speaks of flashing and so on... of course for me it is quite unreadable...&nbsp; &nbsp; </p><p><a href="http://www.cesareriva.com/cfe-bootloader-dump-with-openwrt/">http://www.cesareriva.com/cfe-bootloade â€¦ h-openwrt/</a></p><p>do you think I use this method to backup the gs?</p><p>thanks again</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251461">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">paolo.ulm</div>
					<div class="post-datetime">
						21 Oct 2014, 18:46					</div>
				</div>
				<div class="post-content content">
					<p>Changing subject,</p><p>I plugged an usb key (memory), followed all the tutorials, installed all the needed packages but still cannot see it.</p><p>it does not appear as \dev\sdax</p><p>have you been able to mount a usb disk into the globesurfer and making it work?</p><p>thanks again</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 3 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=33250&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=33250&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>