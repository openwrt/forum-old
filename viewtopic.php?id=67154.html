<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Support of TP-LINK TALON AD7200</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 9 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p335843">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						24 Aug 2016, 23:23					</div>
				</div>
				<div class="post-content content">
					<p>I have put my hands on this new router ans start to play with it (US, HW:v1,FW:V1.0.8)<br />It&#039;s based on Qualcomm AP148/IPQ806x + OpenWrt (similar to c2600)</p><p><span class="bbu">Status</span></p><p>- the serial port is opened and we can get a console with some HW modifications (similar to C2600)<br />- the stock firmware has RSA signature and the WEB UI firmware upgrade is checking it. No way to use the TP-LINK Web UI to upgrade the device with 3rd party firmware.<br />- Uboot prompt is available by stroking &#039;tpl&#039; at power up.<br />- Firmware recovery (uboot) is operating by pressing 10s the reset at power up. The recovery is trying to download AD7200_recovery_firmware.bin on tftp server&nbsp; @192.168.0.66.<br />- The firmware recovery can be used to flash OpenWrt factory image ( RSA signature is not mandatory <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> )<br />- SSH remote access on stock firmware is possible by patching the rootfs of stock firmware binary (similar to C2600)<br />- Openwrt is runing on it (based on C2600 LEDE + some patches) with some failures and limitations</p><p><span class="bbu">Issues </span><br />- the device tree has to be reversed. How to get/create it ?<br />- What is the best way to add AD7200 target support inside OpenWrt repo&nbsp; (sorry, i&#039;m a newbie on OpenWrt...)</p>											<p class="post-edited">(Last edited by <strong>bzh35</strong> on 24 Aug 2016, 23:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337866">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">DanielAW</div>
					<div class="post-datetime">
						11 Sep 2016, 00:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>sorry for the late reply, but this is really cool! I&#039;m currently working in an university institute which also does research on 802.11ad. </p><p>We are located in europe and got a few problems to get our hands on the AD7200 (but we are working on it). We are especially interested in the Quallcom QCA9500 chip used for 802.11ad. Would it be possible for your to look into the stock TP-Link system and look for a firmware file which is used by the Quallcom chip? </p><p>We can&#039;t look yourselfs because we lack the hardware and TP-Link does not provide any firmware on their homepage jet.</p><p>Regards Daniel</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337871">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						11 Sep 2016, 01:17					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />You can try the TP link .us website (instead of .com)</p><p>What is your QCA9500 platform ?</p>											<p class="post-edited">(Last edited by <strong>bzh35</strong> on 11 Sep 2016, 01:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337898">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">DanielAW</div>
					<div class="post-datetime">
						11 Sep 2016, 10:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>.us did the trick, thanks ;-) I quickly downloaded and extracted the current image, but after a first glace I&#039;m unsure what binaries are used for the 802.11ad hardare. I have to dig a little deeper I guess.</p><div class="quotebox"><blockquote><p>What is your QCA9500 platform ?</p></blockquote></div><p>What do you mean? The QCA9500 seems to be one of the first 802.11ad chipsets which is used commodity hardware. At least this is what &quot;wikidevi&quot; states.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337899">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						11 Sep 2016, 11:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi Daniel,<br />Do you already have a hardware device with QCA9500 inside?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337901">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">DanielAW</div>
					<div class="post-datetime">
						11 Sep 2016, 11:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />unfortunately not. Still waiting for the AD7200 to arrive.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337903">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						11 Sep 2016, 12:32					</div>
				</div>
				<div class="post-content content">
					<p>Daniel, <br />You can also have a look on GPL source code for the AD7200 (available on TP LINK website).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339236">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">DanielAW</div>
					<div class="post-datetime">
						26 Sep 2016, 17:26					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I was able to find the FW I was looking for. But now our AD7200 router finally arrived. :-)</p><p>We want to unlock SSH access for the default firmware. I looked into repacking the original firmware. As far as I can tell are there two different ways the firmware got checked during boot:</p><div class="codebox"><pre><code>    if(strcmp(fw_type_name, &quot;Cloud&quot;) == 0)
    {
        ret = check_cloud(buf, len);
        if (ret != 1)
        {
            REC_ERROR(&quot;wrong RSA found&quot;);
            return 0;
        }
        REC_DEBUG(&quot;cloud checked ok&quot;);
    }
    else
    {
        //check md5
        memcpy(md5, buf + IMAGE_SIZE_LEN, MD5_LEN);
        memcpy(buf + IMAGE_SIZE_LEN, md5ImageKey, MD5_LEN);
        ret = check_Md5(md5, buf + IMAGE_SIZE_LEN, len - IMAGE_SIZE_LEN);
        if (ret != 1)
        {
            REC_ERROR(&quot;wrong md5 found&quot;);
            return 0;
        }
        REC_DEBUG(&quot;md5 checked ok&quot;);
    }</code></pre></div><p>I found this in the uboot source code (openwrt/qca/src/u-boot/arch/arm/cpu/armv7/ipq/FirmwareRecovery/recovery.c) in the GPL Zip file. The <em>check_cloud()</em> function verifies the RSA signature. This function gets called if the the &quot;Cloud&quot; string is found in the beginning of the firmware. Otherwise it simply checks a MD5 checksum. The default firmware of the AD7200 contains this &quot;Cloud&quot; string. </p><p>@bzh35:<br />How did you manage to repack the AD7200 firmware? Did you simply exclude the &quot;fw-type:Cloud&quot; string at the beginning of the firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339249">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						26 Sep 2016, 19:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi DanielAW,<br />Correct.<br /> 1.You have to change the string &#039;fw-type:cloud&#039; by anything else.<br />2. Modify the squashfs binary section with your new file system. Take care to use the correct options to compress the binary section. You can refer to the tp-link image build script from openwrt.<br />3. Modify the MD5 checksum.</p>											<p class="post-edited">(Last edited by <strong>bzh35</strong> on 26 Sep 2016, 20:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339323">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">DanielAW</div>
					<div class="post-datetime">
						27 Sep 2016, 12:56					</div>
				</div>
				<div class="post-content content">
					<p>I think I bricked my current device, here is what I did:</p><p>- Booting my repacked firmware over tftp did not work<br />- I tried to load my firmware over the web interface, strangely enough it was acceped<br />- But after uploading the firmware the router is stuck in a boot loop<br />- I&#039;m still able to enter uboot via the reset button on startup. But now the firmware asks for ArcherC2600_1.0_tp_recovery.bin instead of TalonAD7200_1.0_tp_recovery.bin<br />- Renaming the original AD7200 to the file mentioned above does work. But the router does still not boot.<br />- Why does it now ask for the ArcherC2600 FW? The gpl code for the AD7200 also seems to define this file:<br /></p><div class="codebox"><pre><code>#define RECOVERY_IMAGE            &quot;ArcherC2600_1.0_tp_recovery.bin&quot;</code></pre></div><p>I would really appreciate some help :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339325">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">james04</div>
					<div class="post-datetime">
						27 Sep 2016, 13:18					</div>
				</div>
				<div class="post-content content">
					<p>Weird.. it asks for ArcherC2600 recovery because it is in fact a C2600 with one addition: the QCA9500.</p><p>It looks like tplink engineers used some nasty hacks and not a proper setup.</p><p>The main difference between the two, is the C2600 uses a 32MB NOR flash, while the Talon uses 128MB NAND, and I think this is why it fails to boot..</p><p>Maybe the partitions were messed up when the half-baked firmware tried to overwrite the Talon&#039;s partitions with those of C2600. Only way to know would be to obtain serial access and see what it says. This is all just speculation so don&#039;t quote me. In any case bootloader was not overwritten so I wouldn&#039;t worry that much, just needs some figuring out. GL</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339327">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						27 Sep 2016, 13:34					</div>
				</div>
				<div class="post-content content">
					<p>Normally, the correct name is AD7200_1.0_tp_recovery.bin</p><p>You have to unbrick your device first.<br />Try to flash your device with a stock firmware v1.8.<br />Rename the .bin file with the correct name requested by the firmware recovery command.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339335">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">DanielAW</div>
					<div class="post-datetime">
						27 Sep 2016, 14:38					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve managed to unbrick my device :-) The problem was that I did not wait long enough to let the recovery process finish. My device does not reboot after recovery, I need to manually reset the power (after waiting for &gt; 5 min).</p><p>Now the device correctly asks for the AD7200_1.0_tp_recovery.bin during recovery. </p><p><strong>Update</strong> these are the steps which worked for me in the end:</p><p>- Binwalk on the current FW (160309) looks as follows:<br /></p><div class="codebox"><pre><code>DECIMAL       HEXADECIMAL     DESCRIPTION
--------------------------------------------------------------------------------
306577        0x4AD91         Certificate in DER format (x509 v3), header length: 4, sequence length: 1284
306693        0x4AE05         Certificate in DER format (x509 v3), header length: 4, sequence length: 1288
356060        0x56EDC         CRC32 polynomial table, little endian
357884        0x575FC         CRC32 polynomial table, little endian
430656        0x69240         Minix filesystem, V1, little endian, 0 zones
451249        0x6E2B1         uImage header, header size: 64 bytes, header CRC: 0x1D4EB8A5, created: 2016-03-09 02:08:13, image size: 1868608 bytes, Data Address: 0x41508000, Entry Point: 0x41508000, data CRC: 0xD2FA6374, OS: Linux, CPU: ARM, image type: OS Kernel Image, compression type: none, image name: &quot;Linux-3.4.103&quot;
465248        0x71960         xz compressed data
465469        0x71A3D         xz compressed data
2321074       0x236AB2        Squashfs filesystem, little endian, version 4.0, compression:xz, size: 17694738 bytes, 3197 inodes, blocksize: 262144 bytes, created: 2016-03-09 02:09:06
20016075      0x1316BCB       XML document, version: &quot;1.0&quot;
20023572      0x1318914       XML document, version: &quot;1.0&quot;
20025003      0x1318EAB       Unix path: /var/run/appflow/tccpipe&lt;/listen_path&gt;
20029086      0x1319E9E       Unix path: /usr/share/miniupnpd/firewall.include&lt;/path&gt;
20033316      0x131AF24       Unix path: /cover.jpg/AlbumArtSmall.jpg/albumartsmall.jpg/AlbumArt.jpg/albumart.jpg/Album.jpg/album.jpg/Folder.jpg/folder.jpg/Thumb.jpg/thu
20040237      0x131CA2D       Unix path: /usr/local/bin/jiggle_firewall&lt;/exec&gt;
20041083      0x131CD7B       Unix path: /usr/local/bin/apply_appflow&lt;/exec&gt;</code></pre></div><p>- I extract the squash file system:<br /></p><div class="codebox"><pre><code>dd if=AD7200-US-up-ver1-0-10-P1\[20160902-rel57400\]_2016-09-02_15.50.11.bin bs=1 skip=2321074 count=17694450 of=squash_fs.bin</code></pre></div><p>- Unpack it (use the binary from the GPL code):<br /></p><div class="codebox"><pre><code>unsquashfs squash_fs.bin</code></pre></div><p>- Edit stuff ...<br />- Delete the &#039;/dev&#039; directory<br />- Repack it:<br /></p><div class="codebox"><pre><code>mksquashfs4 squashfs-root/ squash_fs_repacked.bin -nopad -noappend -root-owned -comp xz -Xpreset 9 -Xe -Xlc 0 -Xlp 2 -Xpb 2 -b 256k  -p &#039;/dev d 755 0 0&#039; -p &#039;/dev/console c 600 0 0 5 1&#039;</code></pre></div><p>- Prepare coping the modified squash fs back:<br /></p><div class="codebox"><pre><code>cp AD7200-US-up-ver1-0-8-P1[20160309-rel36550]_2016-03-09_10.10.34.bin repacked.bin</code></pre></div><p>- Check that the new file does not exceed the lenght of the origianl squashfs binary<br />- Copy the modified squash-fs binary into the firmware binary<br /></p><div class="codebox"><pre><code>dd if=squash_fs_repacked.bin of=repacked.bin bs=1 seek=2321074 conv=notrunc</code></pre></div><p>To recalculate the MD5 sum I do the following:<br />- Strip away 4 byte FW lenght + 16 byte old MD5sum:<br /></p><div class="codebox"><pre><code>dd bs=20 skip=1 if=repacked.bin of=repacked_trimmed.bin</code></pre></div><p>- Generate a binary file from the 16 byte MD5 &quot;key&quot;:<br /></p><div class="codebox"><pre><code>echo -n $&#039;\x7A\x2B\x15\xED\x9B\x98\x59\x6D\xE5\x04\xAB\x44\xAC\x2A\x9F\x4E&#039; &gt; md5key.bin</code></pre></div><p>- Generate 14 byte zeros (needed to overwrite &quot;fw-type:cloud&quot; string)<br /></p><div class="codebox"><pre><code>echo -n &quot;0000000000000000000000000000&quot; | xxd -r -p &gt; 14byte_zeros.bin</code></pre></div><p>- Create data part to create md5sum<br /></p><div class="codebox"><pre><code>dd bs=34 skip=1 if=repacked.bin of=repacked_trimmed.bin</code></pre></div><p>- Append md5key and 14 byte zeros to the rest of the image<br /></p><div class="codebox"><pre><code>cat md5key.bin 14byte_zeros.bin repacked_trimmed.bin &gt; repacked_md5rdy.bin</code></pre></div><p>- Create md5sum<br /></p><div class="codebox"><pre><code>md5sum repacked_md5rdy.bin |awk &#039;{print $1&quot;0000000000000000000000000000&quot;}&#039; | xxd -r -p &gt; md5_new.bin</code></pre></div><p>- Copy new md5sum into repacked image<br /></p><div class="codebox"><pre><code>dd if=md5_new.bin of=repacked.bin bs=1 seek=4 conv=notrunc</code></pre></div><p>Daniel</p>											<p class="post-edited">(Last edited by <strong>DanielAW</strong> on 24 Oct 2016, 16:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339342">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">james04</div>
					<div class="post-datetime">
						27 Sep 2016, 15:57					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m curious why not compile an image from the GPL with dropbear set to allow SSH?<br />Note you might need an old linux dist to compile successfully, as you know those QCA SDKs are based on ancient OWRT releases. Compiling on current linux dists throws all kinds of errors. Setup a VM or so..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339351">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						27 Sep 2016, 16:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi james04, <br />I&#039;ve tried to compile a binary image from GPL but without success. The config file was incorrect and the compilation failed on some packages ( xt-addons). <br />Did you try to compile it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339354">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						27 Sep 2016, 16:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi DanielAW,<br />Everything seems to be good except the file length is missing. It&#039;s the first word of the file.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339356">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">DanielAW</div>
					<div class="post-datetime">
						27 Sep 2016, 17:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi bzh35,<br />the file length should be unchanged in my opinion. I copy the (smaller than the original) squash-fs back at the same startpoint where the original one also started. There is still stuff behind the squash-fs which I do not touch. </p><p>Is it a problem if there is space in between the end of my squash-fs and the stuff behind it?</p><p>Regarding compiling from source:<br />I did not event tought about this to be honest. I quickly tried it (using Ubuntu 12.04). My compilation stops after:<br /></p><div class="codebox"><pre><code>make[4] -C toolchain/prebuilt install
make -r world: build failed. Please re-run make with V=s to see what&#039;s going on
make[1]: *** [world] Error 1
make[1]: Leaving directory `/home/seemoo/TP-Link_AD7200/AD7200_gpl/openwrt&#039;
make: *** [build] Error 2</code></pre></div><p>I&#039;m unsure why.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339357">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						27 Sep 2016, 17:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi DanielAW,<br />The first word of the file shall be the file length.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339359">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">DanielAW</div>
					<div class="post-datetime">
						27 Sep 2016, 17:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>The first word of the file shall be the file length.</p></blockquote></div><p>Sure, but I dont see why I need to change them. My current workflow do not change the original 4 bytes, they are just copied</p>											<p class="post-edited">(Last edited by <strong>DanielAW</strong> on 27 Sep 2016, 17:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339361">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						27 Sep 2016, 17:34					</div>
				</div>
				<div class="post-content content">
					<p>Can you post the bin file somewhere ? I will check it on my device using the serial port.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339363">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">DanielAW</div>
					<div class="post-datetime">
						27 Sep 2016, 17:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Can you post the bin file somewhere ?</p></blockquote></div><p>Sure, see <a href="https://drive.google.com/file/d/0Bxy-sW7-zQXja0RvNENaTElKaFk/view">https://drive.google.com/file/d/0Bxy-sW â€¦ lKaFk/view</a></p><p>Regarding the serial port: Can I just use the 4 open pins on the board for this? Are the connection parameters the same as on the C2600 (115200, 8N1)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339364">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						27 Sep 2016, 17:49					</div>
				</div>
				<div class="post-content content">
					<p>Yes it&#039;s the same as c2600.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339368">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						27 Sep 2016, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve tested your .bin on my target.<br />The binary file is correct (MD5sum, partitions,..). everything seems to be correct.<br />Linux is not able to decompress the root filesystem.<br /></p><div class="codebox"><pre><code>[    1.611027] SQUASHFS error: Failed to initialise xz decompressor
[    1.664604] VFS: Cannot open root device &quot;mtd:rootfs&quot; or unknown-block(31,1): error -5
[    1.671477] Please append a correct &quot;root=&quot; boot option; here are the available partitions:</code></pre></div><p>We have to recheck the squash compression options....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339371">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						27 Sep 2016, 18:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi DanielAW,<br />I already face this issue. you have to use the the right mksquashfs4 with the following options.</p><div class="codebox"><pre><code>[b]mksquashfs4 [/b] squashfs-root/ squash_fs_repacked.bin -nopad -noappend -root-owned -comp xz -Xpreset 9 -Xe -Xlc 0 -Xlp 2 -Xpb 2 -Xbcj arm -b 256k -p &#039;/dev d 755 0 0&#039; -p &#039;/dev/console c 600 0 0 5 1&#039; -processors 1 -fixed-time 1473352556</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339373">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">bzh35</div>
					<div class="post-datetime">
						27 Sep 2016, 18:39					</div>
				</div>
				<div class="post-content content">
					<p>DanielAW,</p><p>the toolchain is missing.<br />You have to change the .config:<br />- remove the flag to use &#039;prebuilt toolchain&#039;<br />- enable the flags to build the toolchain</p><br /><div class="quotebox"><cite>DanielAW wrote:</cite><blockquote><p>Hi bzh35,<br />the file length should be unchanged in my opinion. I copy the (smaller than the original) squash-fs back at the same startpoint where the original one also started. There is still stuff behind the squash-fs which I do not touch. </p><p>Is it a problem if there is space in between the end of my squash-fs and the stuff behind it?</p><p>Regarding compiling from source:<br />I did not event tought about this to be honest. I quickly tried it (using Ubuntu 12.04). My compilation stops after:<br /></p><div class="codebox"><pre><code>make[4] -C toolchain/prebuilt install
make -r world: build failed. Please re-run make with V=s to see what&#039;s going on
make[1]: *** [world] Error 1
make[1]: Leaving directory `/home/seemoo/TP-Link_AD7200/AD7200_gpl/openwrt&#039;
make: *** [build] Error 2</code></pre></div><p>I&#039;m unsure why.</p></blockquote></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>