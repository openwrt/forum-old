<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Linksys ea6200 Smart WiFi Router</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p321573">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">luiggybit</div>
					<div class="post-datetime">
						28 Apr 2016, 02:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi there!!! I recently bought the Linksys EA6200 smart wifi router.</p><p>I checked the Wiki / toh page and found this:</p><p><span class="postimg"><img src="https://i.gyazo.com/0ea4e6b42611678bb5f1242b0a57e7b2.png" alt="https://i.gyazo.com/0ea4e6b42611678bb5f1242b0a57e7b2.png" /></span></p><p>So, basicly is the ea6300 firmware compatible with this router? I&#039;ve read that the ea6200 hw is pretty the same as the ea6300.</p><p>Anyone has running OpenWRT on this device?</p><p>I&#039;d running OpenWrt on my tp-link 841 from 3 years with no problems, and I like to install it to my ea6200.</p><p>ty in advance <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>											<p class="post-edited">(Last edited by <strong>luiggybit</strong> on 28 Apr 2016, 02:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321741">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">luiggybit</div>
					<div class="post-datetime">
						29 Apr 2016, 04:38					</div>
				</div>
				<div class="post-content content">
					<p>Any suggestions?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321784">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						29 Apr 2016, 11:06					</div>
				</div>
				<div class="post-content content">
					<p>-1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321865">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">luiggybit</div>
					<div class="post-datetime">
						29 Apr 2016, 22:20					</div>
				</div>
				<div class="post-content content">
					<p>I ended up installing DD-WRT</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323952">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tekkamanninja</div>
					<div class="post-datetime">
						15 May 2016, 12:52					</div>
				</div>
				<div class="post-content content">
					<p>I have tried to compile and install the latest OpenWRT on EA6200,&nbsp; But finally I got :<br />--------------<br />[&nbsp; &nbsp; 7.090777] UBI: auto-attach mtd5<br />[&nbsp; &nbsp; 7.093921] ubi0: attaching mtd5<br />[&nbsp; &nbsp; 7.205939] ubi0: scanning is finished<br />[&nbsp; &nbsp; 7.236784] ubi0: volume 1 (&quot;rootfs_data&quot;) re-sized from 9 to 119 LEBs<br />[&nbsp; &nbsp; 7.244063] ubi0: attached mtd5 (name &quot;ubi&quot;, size 25 MiB)<br />[&nbsp; &nbsp; 7.249445] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes<br />[&nbsp; &nbsp; 7.256329] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048<br />[&nbsp; &nbsp; 7.263096] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096<br />[&nbsp; &nbsp; 7.270022] ubi0: good PEBs: 199, bad PEBs: 1, corrupted PEBs: 0<br />[&nbsp; &nbsp; 7.276012] ubi0: user volume: 2, internal volumes: 1, max. volumes count: 128<br />[&nbsp; &nbsp; 7.283208] ubi0: max/mean erase counter: 1/0, WL threshold: 4096, image sequence number: 432917767<br />[&nbsp; &nbsp; 7.292219] ubi0: available PEBs: 0, total reserved PEBs: 199, PEBs reserved for bad PEB handling: 19<br />[&nbsp; &nbsp; 7.301468] ubi0: background thread &quot;ubi_bgt0d&quot; started, PID 334<br />[&nbsp; &nbsp; 7.308893] block ubiblock0_0: created from ubi0:0(rootfs)<br />[&nbsp; &nbsp; 7.349335] squashfs: SQUASHFS error: unable to read id index table<br />[&nbsp; &nbsp; 7.355892] List of all partitions:<br />[&nbsp; &nbsp; 7.359395] 1f00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512 mtdblock0&nbsp; (driver?)<br />[&nbsp; &nbsp; 7.364465] 1f01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1024 mtdblock1&nbsp; (driver?)<br />[&nbsp; &nbsp; 7.369498] 1f02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512 mtdblock2&nbsp; (driver?)<br />[&nbsp; &nbsp; 7.374556] 1f04&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4095 mtdblock4&nbsp; (driver?)<br />[&nbsp; &nbsp; 7.379591] 1f05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;25600 mtdblock5&nbsp; (driver?)<br />[&nbsp; &nbsp; 7.384637] 1f06&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;99328 mtdblock6&nbsp; (driver?)<br />[&nbsp; &nbsp; 7.389673] 1f07&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1869 mtdblock7&nbsp; (driver?)<br />[&nbsp; &nbsp; 7.394719] 1f08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;97458 mtdblock8&nbsp; (driver?)<br />[&nbsp; &nbsp; 7.399756] 1f09&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;85760 mtdblock9&nbsp; (driver?)<br />[&nbsp; &nbsp; 7.404802] fe00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7068 ubiblock0_0&nbsp; (driver?)<br />[&nbsp; &nbsp; 7.410007] No filesystem could mount root, tried:&nbsp; squashfs<br />[&nbsp; &nbsp; 7.415672] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,8)<br />[&nbsp; &nbsp; 7.423984] ---[ end Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,8)<br />--------<br />I think the rootfs has some problem(maybe it is the ubi format problem ??)<br />Did some one get this problem before ???</p>											<p class="post-edited">(Last edited by <strong>tekkamanninja</strong> on 15 May 2016, 13:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323961">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Xotic750</div>
					<div class="post-datetime">
						15 May 2016, 14:44					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://wiki.openwrt.org/toh/linksys/linksys_ea6200_1.0">https://wiki.openwrt.org/toh/linksys/linksys_ea6200_1.0</a></p><p>Looks very much work in progress.</p><p>I had a look at the source in <em>target/bcm53xx</em> and there is not much there except for <em>generic</em> build code. So I guess some more work is needed building a profile for this unit. But there is probably enough information there to get a build profile working.</p>											<p class="post-edited">(Last edited by <strong>Xotic750</strong> on 15 May 2016, 14:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324152">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">tekkamanninja</div>
					<div class="post-datetime">
						16 May 2016, 18:54					</div>
				</div>
				<div class="post-content content">
					<p>I have made my EA6200 boot into OpenWRT, with a kernel patch below:<br /></p><div class="codebox"><pre><code>diff --git a/drivers/mtd/Kconfig b/drivers/mtd/Kconfig
index 63b6dbd..a9863b9 100644
--- a/drivers/mtd/Kconfig
+++ b/drivers/mtd/Kconfig
@@ -18,6 +18,12 @@ config MTD_ROOTFS_ROOT_DEV
        bool &quot;Automatically set &#039;rootfs&#039; partition to be root filesystem&quot;
        default y
 
+config MTD_ROOTFS_ROOT_DEV_IGNORE_FORMER
+       bool &quot;ignore the former &#039;rootfs&#039; partition found&quot;
+       depends on MTD_ROOTFS_ROOT_DEV
+       default n
+
+
 config MTD_SPLIT_FIRMWARE
        bool &quot;Automatically split firmware partition for kernel+rootfs&quot;
        default y
diff --git a/drivers/mtd/ubi/block.c b/drivers/mtd/ubi/block.c
index 965ff37..180c4c3 100644
--- a/drivers/mtd/ubi/block.c
+++ b/drivers/mtd/ubi/block.c
@@ -452,7 +452,8 @@ int ubiblock_create(struct ubi_volume_info *vi)
 
        if (!strcmp(vi-&gt;name, &quot;rootfs&quot;) &amp;&amp;
            config_enabled(CONFIG_MTD_ROOTFS_ROOT_DEV) &amp;&amp;
-           ROOT_DEV == 0) {
+           (config_enabled(CONFIG_MTD_ROOTFS_ROOT_DEV_IGNORE_FORMER) ||
+            ROOT_DEV == 0)) {
                pr_notice(&quot;ubiblock: device ubiblock%d_%d (%s) set to be root filesystem\n&quot;,
                          dev-&gt;ubi_num, dev-&gt;vol_id, vi-&gt;name);
                ROOT_DEV = MKDEV(gd-&gt;major, gd-&gt;first_minor);</code></pre></div><p>Sorry for this hacking style, I just want to point out where is the problem:<br />(1)kernel(linux-bcm53xx) will parse the partition table by reading MTD block, then it will get:<br />[&nbsp; &nbsp; 6.118072] Creating 9 MTD partitions on &quot;brcmnand.0&quot;:<br />[&nbsp; &nbsp; 6.123205] 0x000000000000-0x000000080000 : &quot;boot&quot;<br />[&nbsp; &nbsp; 6.129153] 0x000000080000-0x000000180000 : &quot;nvram&quot;<br />[&nbsp; &nbsp; 6.135221] 0x000000180000-0x000000200000 : &quot;nvram&quot;<br />[&nbsp; &nbsp; 6.141265] 0x000000200000-0x00000020001c : &quot;firmware&quot;<br />[&nbsp; &nbsp; 6.148049] 0x00000020001c-0x000000600000 : &quot;linux&quot;<br />[&nbsp; &nbsp; 6.153999] 0x000000600000-0x000001f00000 : &quot;ubi&quot;<br />[&nbsp; &nbsp; 6.159838] 0x000001f00000-0x000008000000 : &quot;firmware&quot;<br />[&nbsp; &nbsp; 6.166873] 0x000001f0001c-0x0000020d3650 : &quot;linux&quot;<br />[&nbsp; &nbsp; 6.172874] 0x0000020d3650-0x000008000000 : &quot;rootfs&quot;</p><p>then kernel will set &quot;0x0000020d3650-0x000008000000 : &quot;rootfs&quot; &quot; as rootfs which is wrong.</p><p>(2)after (1) ubi driver will parse the ubi partition, then find a partition with roorfs lable. ubi driver can set this partition as rootfs, but it already got a &quot;rootfs&quot; in (1), so this time, the right rootfs will be ignore.</p><p>(3) then system boot fail because of getting the wrong rootfs partition.<br />---------------------</p><p>my patch just makes kernel to ignore&nbsp; &nbsp;the former rootfs partiton and use the rootfs in ubi partiton.</p><br /><p>But I found another problem, the image I made just can boot once.&nbsp; In the next boot I got:<br /></p><div class="codebox"><pre><code>Boot version: v0.5.5

Device eth0:  hwaddr 98-FC-11-F0-AF-BD, ipaddr 192.168.1.1, mask 255.255.255.0
        gateway not set, nameserver not set
Invalid boot block on disk
Loader:raw, invalid tftp target filename (:)!
Could not load :: Invalid parameter
Invalid boot block on disk
nflash1.trx CRC check failed!
Changed to the other image 1
Loader:raw Filesys:raw Dev:nflash0.os2 File: Options:(null)
Loading: .... 4678976 bytes read</code></pre></div><p>that means I system falls back to the default kernel.<br />Does some one know how to solve this problem ???</p>											<p class="post-edited">(Last edited by <strong>tekkamanninja</strong> on 16 May 2016, 18:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p331839">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">weltonrodrigo</div>
					<div class="post-datetime">
						16 Jul 2016, 15:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I used <a href="https://downloads.openwrt.org/snapshots/trunk/bcm53xx/generic/openwrt-bcm53xx-linksys-ea6300-v1-squashfs.trx">https://downloads.openwrt.org/snapshots â€¦ uashfs.trx</a> as stated in <a href="https://wiki.openwrt.org/toh/linksys/linksys_ea6200_1.0">https://wiki.openwrt.org/toh/linksys/linksys_ea6200_1.0</a></p><p>Device stopped responding to ping and showed no wifi activity.</p><p>I power cycled and it became ping responsive, but no GUI, no wifi and no telnet.</p><p>Can I still revert to original? Can anyone give me a hint?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p331844">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						16 Jul 2016, 15:52					</div>
				</div>
				<div class="post-content content">
					<p>Be so kind to <a href="https://wiki.openwrt.org/doc/howto/firstlogin">RTFW</a> <strong>before</strong> posting.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352023">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">namen</div>
					<div class="post-datetime">
						15 Feb 2017, 22:23					</div>
				</div>
				<div class="post-content content">
					<p>Hello i have a ea6200 ac900 and i read that the ea6300 is a compatible firmware <br /> and i neet to know if the 5gz and 2.4 is working fine with openwrt.</p><p>Regards</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>