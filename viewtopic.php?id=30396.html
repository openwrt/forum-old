<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Help needed to Compile LCD4Linux with dpfhack Driver</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p136903">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">DarkStarXxX</div>
					<div class="post-datetime">
						11 Jun 2011, 17:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>i need some help to Compile LCD4Linux with the DPF Driver for my TP-Link 1043ND (mips)</p><p>i&#039;ve setup the Buildroot for Compiling an was able to Compile the standard LCD4Linux from the feed ( with has no driver <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> )</p><br /><p>But i dont have any idea how to compile this with drivers (dpf).</p><p>maybe someone can take a look on it.</p><br /><p>Some info about the stuff i wold compile:</p><br /><br /><p><a href="http://tech.section5.ch/files/dpfhack-0.1alpha.tgz">http://tech.section5.ch/files/dpfhack-0.1alpha.tgz</a>&nbsp; &nbsp;&lt;--- the driver<br /><a href="http://tech.section5.ch/files/dpf-lcd4linux.tgz">http://tech.section5.ch/files/dpf-lcd4linux.tgz</a> &lt;-- lcd4linux with some patches for this driver</p><p>My idea is to get this Picture Frame working as a Status Display for my Router</p><p>I hope someone can help me (i&#039;am a beginner in compiling) or compile this for me.</p><p>Thanks</p><br /><p><span class="postimg"><img src="http://geekparadise.de/wp-content/uploads/lcd-1024x805.jpg" alt="http://geekparadise.de/wp-content/uploads/lcd-1024x805.jpg" /></span></p>											<p class="post-edited">(Last edited by <strong>DarkStarXxX</strong> on 11 Jun 2011, 17:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152810">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mitsch</div>
					<div class="post-datetime">
						3 Jan 2012, 01:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>I woul like to put this back on top <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>The german IT-equipment-trader pearl offers this 6cm 320x240 digital foto frame capable for working with lcd4linux for just 2,9E (around 4$).<br /><a href="http://www.pearl.de/a-HPM1184-5618.shtml">http://www.pearl.de/a-HPM1184-5618.shtml</a></p><p>The problem is, that the lcd4linux must be patched with the patch developed and offered by fulfisk (<a href="http://tech.section5.ch/news/?p=68">http://tech.section5.ch/news/?p=68</a>) and like DarkStar, I am incapable to do this for the openWRT platform by my own.<br />On plain ubuntu, the offered manuals are working like a charm (german: <a href="http://geekparadise.de/2011/04/digitaler-bilderrahmen-von-pearl-als-statusdisplay-fur-dockstar/">http://geekparadise.de/2011/04/digitale … -dockstar/</a>, english: <a href="http://www.staerk.de/thorsten/Lcd)">http://www.staerk.de/thorsten/Lcd)</a></p><p>But - hey guys - this display is so neat and so cheap, this is the optimal status display for an openWRT driven router ... <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>BR<br />Michael</p><p>edit: typos</p>											<p class="post-edited">(Last edited by <strong>mitsch</strong> on 3 Jan 2012, 01:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152891">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">irimi</div>
					<div class="post-datetime">
						3 Jan 2012, 17:49					</div>
				</div>
				<div class="post-content content">
					<p>Hey that gadget looks very interesting !</p><p>After a first view it should be possible to cross compile.<br />After first run of <br /></p><div class="codebox"><pre><code>./build-dpf-lcd4linux.sh ../src/dpflib/</code></pre></div><p>to create patched i386 version of lcd4linux you can try to crosscompile it again:</p><p>1. Install mips cross toolchain for TP-Link<br />2. go to lcd4linux directory and recall ./configure with different parameters to setup the cross toolchain</p><div class="codebox"><pre><code>./configure CC=mips-openwrt-linux-gcc --with-drivers=&#039;DPF&#039; --with-plugins=&#039;all,!dbus,!mpris_dbus&#039;  --host=...</code></pre></div><p>resp.<br /></p><div class="codebox"><pre><code>./configure --help</code></pre></div><p>may help</p><p>3. after ./configure recall make manually</p><p>But I recommend to create a new dpf-lcd4linux openwrt custom package based on recent already included lcd4linux package/Makefile:<br />It is easier to rebuild it any time and it is easy to add the patch too.</p><p>I know that is not easy but not impossible <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152949">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">irimi</div>
					<div class="post-datetime">
						4 Jan 2012, 01:50					</div>
				</div>
				<div class="post-content content">
					<p>Off course the driver has to be cross compiled too.</p><p>But I had some first success, I was able to cross compile this driver :</p><div class="codebox"><pre><code>mips-openwrt-linux-ar ruv libdpf.a dpflib.o rawusb.o
mips-openwrt-linux-ar: creating libdpf.a
a - dpflib.o
a - rawusb.o
irimi@host:/src/dpflib$ file dpflib.o 
dpflib.o: ELF 32-bit MSB relocatable, MIPS, MIPS-I version 1 (SYSV), with unknown capability 0x41000000 = 0xf676e75, with unknown capability 0x10000 = 0x70403, not stripped
irimi@host:/src/dpflib$ file rawusb.o 
rawusb.o: ELF 32-bit MSB relocatable, MIPS, MIPS-I version 1 (SYSV), with unknown capability 0x41000000 = 0xf676e75, with unknown capability 0x10000 = 0x70403, not stripped</code></pre></div><p>lcd4linux is still under inverstigation ....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153188">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">irimi</div>
					<div class="post-datetime">
						5 Jan 2012, 13:40					</div>
				</div>
				<div class="post-content content">
					<p>Status update:</p><p>I successfully created an ar7xx package of lcd4linux with dpf driver: lcd4linux-dpf_r1142-3_ar71xx.ipk</p><p>The package is still untested but he digital photo frame is already ordered and I&#039;m looking forward to installing it to my TP-Link router ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153577">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">wXXX</div>
					<div class="post-datetime">
						8 Jan 2012, 15:18					</div>
				</div>
				<div class="post-content content">
					<p>@irimi</p><p>can you please upload the package?</p><p>I have 3 of these displays/dpf&#039;s here and i could test this on my WR1043ND.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153833">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">irimi</div>
					<div class="post-datetime">
						11 Jan 2012, 14:58					</div>
				</div>
				<div class="post-content content">
					<p>@wXXX: </p><p>Sorry for the late reply , was busy ...</p><p>Actually I identified that there are different versions and it is not clear for which is the best.</p><p>My latest package is based on above 0.1alpha firmware/dpflib.</p><p>But there is a newer trunk version at <a href="http://sourceforge.net/projects/dpf-ax/">http://sourceforge.net/projects/dpf-ax/</a> (11th april 2011)<br />and the latest devoloper version at <a href="http://tech.section5.ch/files/dpfhack-0.12devel.tgz">http://tech.section5.ch/files/dpfhack-0.12devel.tgz</a>&nbsp; &nbsp;(18th april 2011)</p><p>Did you successfully try any of these versions on your PC&nbsp; ?</p><p>I&#039;m still waiting for my own dpf hence I can&#039;t check <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153838">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">wXXX</div>
					<div class="post-datetime">
						11 Jan 2012, 16:55					</div>
				</div>
				<div class="post-content content">
					<p>i run dpfhack-0.12devel with two displays on my linux sat receiver.</p><p>The third one should be for my TP-Link <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> </p><p>Look here: <a href="http://www.vuplus-support.org/wbb2/thread.php?threadid=23657">http://www.vuplus-support.org/wbb2/thre … adid=23657</a></p>											<p class="post-edited">(Last edited by <strong>wXXX</strong> on 11 Jan 2012, 16:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153844">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">irimi</div>
					<div class="post-datetime">
						11 Jan 2012, 19:17					</div>
				</div>
				<div class="post-content content">
					<p>Mmh, I still can&#039;t compile with all plugins, due to unresolved dependencies ( I still have to investigate), but <br />a compiled package can be found at</p><br /><p>[EDIT] Link removed due to package problems</p><p>This version supports the plugins; cpuinfo, discstats,exec,meminfo,mpd,uname and uptime and is based on latest dpflib v0.12dev.</p>											<p class="post-edited">(Last edited by <strong>irimi</strong> on 12 Jan 2012, 17:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p153967">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">irimi</div>
					<div class="post-datetime">
						12 Jan 2012, 17:38					</div>
				</div>
				<div class="post-content content">
					<p>Above package I mentioned can be installed but it seems the DPF driver has not been linked to lcd4linux ... I have to check the Makefiles</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154078">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">irimi</div>
					<div class="post-datetime">
						13 Jan 2012, 15:59					</div>
				</div>
				<div class="post-content content">
					<p>The picture frame is now running on my openwrt system <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="codebox"><pre><code>root@OpenWrt:~# lcd4linux -l
LCD4Linux 0.11.0-SVN-1092
Copyright (C) 2005, 2006, 2007, 2008, 2009 The LCD4Linux Team &lt;lcd4linux-devel@users.sourceforge.net&gt;

available display drivers:
   DPF                 : generic hacked photo frame

available plugins:
  cfg, math, string, test, time, cpuinfo, loadavg, meminfo, proc_stat, uptime</code></pre></div><p>Had some trouble because the screen was always mirrored ! The solution: use latest 0.12devel firmware version but old 0.1alpha dpf driver, hence it seems to be a driver problem !?</p><p>Give me some time: I want to write a howto and provide my openwrt custom build scripts that everyone can build his own target specific binary package.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154115">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">irimi</div>
					<div class="post-datetime">
						13 Jan 2012, 23:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>now there is a new package available for mips/ar71xxx , that is running on my TP-Link router.</p><p>Feel free to test it. The included /etc/lcd4linux.conf still has to be optimized !<br />The screen is not refreshed on my display. Due to the configuraton ?? I&#039;m still not experienced with lcd4linux.<br />Maybe someone can help !?</p><p><a href="http://dl.dropbox.com/u/55682296/openwrt/lcd4linux/lcd4linux-dpf_r1142-2_ar71xx.ipk">lcd4linux-dpf_r1142-3_ar71xx.ipk</a></p><p>Following plugins are supported.</p><div class="codebox"><pre><code>root@openwrt:lcd4linux -l
LCD4Linux 0.11.0-SVN-1092
Copyright (C) 2005, 2006, 2007, 2008, 2009 The LCD4Linux Team &lt;lcd4linux-devel@users.sourceforge.net&gt;

available display drivers:
   DPF                 : generic hacked photo frame

available plugins:
  cfg, math, string, test, time, apm, asterisk, button_exec, cpuinfo, diskstats, exec, event, fifo, file, huawei, i2c_sensors, isdn, loadavg, meminfo, mpd, netdev, pop3, ppp, proc_stat, statfs, uname, uptime, w1retap</code></pre></div><p>Some plugins could not be compiled due to uclibc dependencies of libm.</p><br /><p>Same libs have to be installed manually:<br /></p><div class="codebox"><pre><code>opkg  install libmpd
opkg  install libiconv-full
opkg  install libintl-full</code></pre></div>											<p class="post-edited">(Last edited by <strong>irimi</strong> on 18 Jan 2012, 22:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154391">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">irimi</div>
					<div class="post-datetime">
						16 Jan 2012, 14:58					</div>
				</div>
				<div class="post-content content">
					<p>HowTo (build own packge) now available at</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=34133">https://forum.openwrt.org/viewtopic.php?id=34133</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184603">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">derrij</div>
					<div class="post-datetime">
						28 Nov 2012, 21:11					</div>
				</div>
				<div class="post-content content">
					<p>please reshare lcd4linux-dpf_r1142-3_ar71xx.ipk</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221005">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">DarioX7</div>
					<div class="post-datetime">
						27 Dec 2013, 15:36					</div>
				</div>
				<div class="post-content content">
					<p>Please refresh the link for&nbsp; lcd4linux-dpf_r1142-3_ar71xx.ipk</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>