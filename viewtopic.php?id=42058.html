<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Dlink dir-835 working fine</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p190628">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tcrisall</div>
					<div class="post-datetime">
						1 Feb 2013, 17:54					</div>
				</div>
				<div class="post-content content">
					<p>I thought I would put this note up - in case there is anyone else like me trying to get a Dlink dir-835 working.&nbsp; I started out with dd-wrt as they have emerging support for this model - but I couldn&#039;t get vlan&#039;s working to my satisfaction.&nbsp; In doing this I came across details stating that the Dlink dir-825 rev C1 is architecturally similar to the dir-835 rev A1.</p><p>I&#039;ve deployed OpenWrt Barrier Breaker r35412 / LuCI Trunk (trunk+svn9663) for D-Link DIR-825 rev. C1 and am happy to report great success!</p><p>I am further able to say that I managed to get the vlan configuration which I originally wanted which is trunking from my basement switch (2 vlans) and 2 ssid&#039;s advertised on both radio&#039;s each ssid in one of the 2 vlan&#039;s (basically a dual band access point with support for multiple ssid across vlans)</p><p>So:<br />home vlan with 2.4ghz home ssid and 5.8ghz home ssid <br />work vlan with 2.4ghz work ssid and 5.8ghz work ssid</p><p>The vlan config wasn&#039;t directly achievable from luci - I was able to finish things off using a combination of web gui and swconfig at the shell.</p><p>Thanks whoever is working on the Atheros stuff in the trunk!!!&nbsp; you rock!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p190839">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">tcrisall</div>
					<div class="post-datetime">
						3 Feb 2013, 23:27					</div>
				</div>
				<div class="post-content content">
					<p>Update:</p><p>When I first started out I said:</p><p>&quot;The vlan config wasn&#039;t directly achievable from luci - I was able to finish things off using a combination of web gui and swconfig at the shell.&quot;</p><p>It turns out after getting a better understanding of the port numbering scheme versus the actual labeling on the device itself - it is possible to do the vlan configuration with luci.&nbsp; I have been able to setup the &#039;WAN&#039; port as a trunk to the basement and the 4 &#039;LAN&#039; ports as untagged on my Home lan </p><p>This is a great device for the price and again many thanks to the people working on the Atheros stuff.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191027">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">apc</div>
					<div class="post-datetime">
						5 Feb 2013, 19:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tcrisall wrote:</cite><blockquote><p>I&#039;ve deployed OpenWrt Barrier Breaker r35412 / LuCI Trunk (trunk+svn9663) for D-Link DIR-825 rev. C1 and am happy to report great success!</p></blockquote></div><p>Hello,</p><p>You wouldn&#039;t happen to have saved the firmware file you used to flash, did you? If so, that would be fantastic news.</p><p>I have a DIR-825 C1 I am trying to set up. Current snapshot (tried Feb 4th and Feb 5th) are not working. The router kind of boots but then all leds turn off (including LAN port) and the WPS led starts blinking, to eventually remain lit. I don&#039;t know any better, but looks like a kernel panic to me.</p><p>So... if you have the flash file from that snapshot and you are willing to share it, that would be super awesome.</p><p>Please let me know.</p><p>Cheers!</p><p>PS: I don&#039;t think it&#039;s the router or my setup, as I can flash back to stock or to DDWRT with no issues. The current snapshots just crap out. Sure enough, this is the alpha version of OpenWRT... but hopefully you can help me out.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191087">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">apc</div>
					<div class="post-datetime">
						6 Feb 2013, 03:45					</div>
				</div>
				<div class="post-content content">
					<p>I checked out the sources for build 35412 and built from scratch. Not sure if I did everything right, but everything compiled OK. The router still doesn&#039;t like it: all LEDs dark but for DLink one, and blinking WPS led.</p><p>tcrisall, maybe you&#039;re lucky... the firmware works great for a DIR-835 or even your DIR-835.</p><p>Has anyone been able to get a DIR-825 C1 to work? Anyone else having issues like mine? Any pointers are welcome, and mfor sure misery loves company.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191741">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">ajpasic</div>
					<div class="post-datetime">
						12 Feb 2013, 05:14					</div>
				</div>
				<div class="post-content content">
					<p>Greetings OpenWRT Community,</p><p>Inspired by tcrisall&#039;s initial post I decided to give it a go.</p><p>Here is what I have come up with:</p><p>I picked up a DIR-835 and flashed it with the Feb 9th build of&nbsp; barrier breaker for the DIR 825-C1 (squashfs)]. (I don&#039;t see why the current one wouldn&#039;t work.)</p><p>Only the internal WPS light indicated after the initial install (I setup a few others once I got luci up and running).</p><p>In order to remote into the router I had to use a static IP (192.168.1.100). (I cant remember if this was true for telnet but it was for SSH.) I was unable reach the internet.</p><p>Initially the Ethernet port labeled 4 on the back didn&#039;t work and when you plugged into the WAN port you were given a DHCP address.&nbsp; ^_^&nbsp; </p><p>After monkeying around with it for a bit I found which ports in the network configuration needed to get switched around.</p><p>Here is the original switch configuration (see /etc/config/network):<br /></p><div class="codebox"><pre><code>config switch_vlan
        option device &#039;eth0&#039;
        option vlan &#039;1&#039;
        option ports &#039;0t 2 3 4 5&#039;

config switch_vlan
        option device &#039;eth0&#039;
        option vlan &#039;2&#039;
        option ports &#039;0t 1&#039;</code></pre></div><p>Here is what worked for me:<br /></p><div class="codebox"><pre><code>config switch_vlan
        option device &#039;eth0&#039;
        option vlan &#039;1&#039;
        option ports &#039;0t 1 2 3 4&#039;

config switch_vlan
        option device &#039;eth0&#039;
        option vlan &#039;2&#039;
        option ports &#039;0t 5&#039;</code></pre></div><p>After that my Ethernet ports started handing out IP addresses correctly and the WAN port gets me to the internet I was able to opkg the luci web interface, turn on the Wi-Fi and that is about as far as I have got at the moment. </p><p>I still don&#039;t understand how everything works entirely, so I am not sure if this is correct but it working for me. This is my first time using OpenWRT and my first deeper dive into Linux. It has been allot of frustrating fun learning about all this... </p><p>I am not longer afraid of vim <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" />,</p><p>Good Luck</p><p>[Edit: (Feb. 12) Just cleaning up a little]</p>											<p class="post-edited">(Last edited by <strong>ajpasic</strong> on 12 Feb 2013, 05:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191832">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">apc</div>
					<div class="post-datetime">
						12 Feb 2013, 23:54					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><div class="quotebox"><cite>ajpasic wrote:</cite><blockquote><p>Only the internal WPS light indicated after the initial install (I setup a few others once I got luci up and running).</p></blockquote></div><p>That sounds too familiar. You are telling me that the router was responding only on WAN port? I&#039;ve got to give this thing another try.</p><p>Cheers!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191837">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ajpasic</div>
					<div class="post-datetime">
						13 Feb 2013, 01:00					</div>
				</div>
				<div class="post-content content">
					<p>Just to clarify, before the fix above, the WAN port was acting like one of the LAN ports. I was still able to remote in using a static IP from three of the lan ports. The WAN light didn&#039;t blink it was the WPS led tucked under the WPS button. It would flash while booting and be solid when on. If you tap the reset button while it is flashing it goes into one of the OpenWRT recovery modes.</p><p>AS I understand it, on a physical level it is all one switch but it gets partitioned virtually in the /etc/config/network file.</p><p>This is for the DIR-835. For the DIR-825 C-1 the lights may be different. </p><p>I never completely wrapped my head around these two articles but was able to figure it out mainly from these three links:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Primarily: <a href="http://wiki.openwrt.org/doc/uci/network/switch">http://wiki.openwrt.org/doc/uci/network/switch</a><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; And: <a href="http://wiki.openwrt.org/doc/techref/internal.layout">http://wiki.openwrt.org/doc/techref/internal.layout</a><br />Good general info: <a href="http://wiki.openwrt.org/doc/networking/network.interfaces">http://wiki.openwrt.org/doc/networking/ â€¦ interfaces</a></p><p>[Edit] I dumped the UCI code from the <a href="http://wiki.openwrt.org/toh/d-link/dir-825?s#repair.leds.after.flashing.openwrt">repair LEDs</a> section for the DIR-825 into the console and tweaked it a bit once I got luci up and running. However, I was only able&nbsp; figured out how to get the WAN light to blink on and off. [/Edit]</p><p>Good Luck.</p><p>P.S.&nbsp; I was able to deduce the following ports by turning them on and off:</p><div class="codebox"><pre><code>Back of router:  WAN | LAN1 | LAN2 | LAN3 | LAN4
Port:             5  |  4   |  3   |  2   |  1     </code></pre></div><p>Which leads me to believe port 0t is the back end port as seen on the <a href="http://wiki.openwrt.org/doc/uci/network/switch">switch</a> page. (I am guessing that is what the &#039;t&#039; flag denotes.)</p>											<p class="post-edited">(Last edited by <strong>ajpasic</strong> on 13 Feb 2013, 01:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p191840">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						13 Feb 2013, 03:22					</div>
				</div>
				<div class="post-content content">
					<p>&#039;t&#039; denotes a tagged VLAN. Any port that carries more than one VLAN requires tags to distinguish them.</p><p>By default the only port to carry more than one VLAN is the CPU port.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192337">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						18 Feb 2013, 01:39					</div>
				</div>
				<div class="post-content content">
					<p>DIR-835 rev A1 works great for me on r36508 except for the LED config and default tx power being maxed out by default. Tickets filed, but really minor issues that should be easily addressed. Thanks to everyone for the hard work!</p>											<p class="post-edited">(Last edited by <strong>drawz</strong> on 18 Feb 2013, 01:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192746">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">tyler</div>
					<div class="post-datetime">
						21 Feb 2013, 22:16					</div>
				</div>
				<div class="post-content content">
					<p>I just bought 2 DIR-825 and cannot get the file to flash. .</p><p>Using the file: openwrt-ar71xx-dir-825-b1-squashfs-factory.bin <br />From: <a href="http://downloads.openwrt.org/backfire/10.03.1/ar71xx/">http://downloads.openwrt.org/backfire/10.03.1/ar71xx/</a></p><p>My routers are version C1 but the doc says to use the b1 file. I cannot file a c1 file. Can somebody show me a link for my 825???</p><br /><p>Found it at: <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/">http://downloads.openwrt.org/snapshots/trunk/ar71xx/</a></p><p>Its currently flashing</p>											<p class="post-edited">(Last edited by <strong>tyler</strong> on 21 Feb 2013, 22:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192751">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tyler</div>
					<div class="post-datetime">
						21 Feb 2013, 23:11					</div>
				</div>
				<div class="post-content content">
					<p>Failed Flash....</p><p>When it boots up I get an ip address but all the lights shut off. I cannot get to web console. no internet connection.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192757">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">tyler</div>
					<div class="post-datetime">
						22 Feb 2013, 00:36					</div>
				</div>
				<div class="post-content content">
					<p>Little update after flashing again. Using the same fw <br />Found it at: <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/">http://downloads.openwrt.org/snapshots/trunk/ar71xx/</a><br />825-c1-squashfs-factory.bin </p><p>I can ping 192.168.1.1<br />I have web access<br />I am getting a DHCP address</p><p>Cannot log into 192.168.1.1. (I do not even get a login screen)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192775">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						22 Feb 2013, 07:55					</div>
				</div>
				<div class="post-content content">
					<p>Follow the getting started links in the wiki. Sounds like you need to telnet in, set a password, then SSH in and install the Luci web interface.</p>											<p class="post-edited">(Last edited by <strong>drawz</strong> on 22 Feb 2013, 07:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p192810">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">tyler</div>
					<div class="post-datetime">
						22 Feb 2013, 15:45					</div>
				</div>
				<div class="post-content content">
					<p>I will try that this morning. THANK YOU.</p><div class="quotebox"><cite>drawz wrote:</cite><blockquote><p>Follow the getting started links in the wiki. Sounds like you need to telnet in, set a password, then SSH in and install the Luci web interface.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p259325">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">skyscraper5</div>
					<div class="post-datetime">
						31 Dec 2014, 16:53					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve been trying to follow this post but can&#039;t find /etc/config/network in my router configuration.&nbsp; I have a D-Link DIR-835 A1 which I flashed with the files in the router database (<a href="http://www.dd-wrt.com/site/support/router-database">http://www.dd-wrt.com/site/support/router-database</a>). Currently Port 1 functions as the WAN port and the WAN port functions like a LAN port. Ports 2-4 are not functional, at least they&#039;re not issuing IP addresses if I plug into them.</p><p>My goal is to get the ports to function in accordance with the hardware configuration.&nbsp; For anyone trying to follow me, I got to this point by installing the telnet feature in Windows, going Start-&gt;cmd from a computer on the DIR-835 wifi network, and typing &#039;telnet 192.168.1.1&#039;.&nbsp; Username = root (regardless of what you set it to in the Web UI), Password is the password I set.&nbsp; </p><p>Once in the GUI I can use cd to get to /etc/config. I get an error if I try cd /etc/config/network. I tried to use the vi editor on /etc/config/network but get a blank vi editor.&nbsp; When I ls the files in the /etc/config folder there are about 100 files, but nothing resembling &#039;network&#039;. </p><p>I&#039;ve also looked into setting nvram variables to accomplish my goal, but this thread seemed to be more specific to my issue, and the nvram settings don&#039;t seem to be wrong, from what I have been able to find so far.</p><p>Can anyone help me figure out the next step??</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p259362">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						1 Jan 2015, 01:13					</div>
				</div>
				<div class="post-content content">
					<p>It sounds a lot like you&#039;re using DD-WRT and not OpenWrt. Maybe you should ask over there. DIR-835 works fine with OpenWrt Barrier Breaker (14.07 final) without doing anything special. This includes the WAN port acting as the WAN port. </p><div class="quotebox"><cite>skyscraper5 wrote:</cite><blockquote><p>I&#039;ve been trying to follow this post but can&#039;t find /etc/config/network in my router configuration.&nbsp; I have a D-Link DIR-835 A1 which I flashed with the files in the router database (<a href="http://www.dd-wrt.com/site/support/router-database">http://www.dd-wrt.com/site/support/router-database</a>). Currently Port 1 functions as the WAN port and the WAN port functions like a LAN port. Ports 2-4 are not functional, at least they&#039;re not issuing IP addresses if I plug into them.</p><p>My goal is to get the ports to function in accordance with the hardware configuration.&nbsp; For anyone trying to follow me, I got to this point by installing the telnet feature in Windows, going Start-&gt;cmd from a computer on the DIR-835 wifi network, and typing &#039;telnet 192.168.1.1&#039;.&nbsp; Username = root (regardless of what you set it to in the Web UI), Password is the password I set.&nbsp; </p><p>Once in the GUI I can use cd to get to /etc/config. I get an error if I try cd /etc/config/network. I tried to use the vi editor on /etc/config/network but get a blank vi editor.&nbsp; When I ls the files in the /etc/config folder there are about 100 files, but nothing resembling &#039;network&#039;. </p><p>I&#039;ve also looked into setting nvram variables to accomplish my goal, but this thread seemed to be more specific to my issue, and the nvram settings don&#039;t seem to be wrong, from what I have been able to find so far.</p><p>Can anyone help me figure out the next step??</p><p>Thanks!</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p259725">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">skyscraper5</div>
					<div class="post-datetime">
						3 Jan 2015, 22:43					</div>
				</div>
				<div class="post-content content">
					<p>Wow, I can&#039;t see the forest for the trees. You&#039;re right sorry about that.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>