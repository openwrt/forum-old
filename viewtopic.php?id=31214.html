<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWrt working on KEEBOX Wireless N 150</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p140649">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mud99</div>
					<div class="post-datetime">
						5 Aug 2011, 09:11					</div>
				</div>
				<div class="post-content content">
					<p>I wanted to let everyone know that OpenWRT trunk is working on the KEEBOX Wireless N 150, currently on sale at Fry&#039;s for $15.</p><p>This router, from what I can tell, is an exact clone of a D-Link DIR-300 B1. The PCB looks nearly identical, and all the same hardware instructions apply.</p><p>Their is only one &quot;trick&quot; necessary to get it working - in U-Boot enter the following commands:</p><p>setenv bootargs board=DIR-300-B1<br />saveenv</p><p>This will identify it to the kernel as a D-Link DIR-300 B1. Presumably another target could be added for this model, but i&#039;m not sure how to do that.Ethernet and wifi will not be detected if you do not do this.</p><p>Mark</p><p>------------</p><p>U-Boot 1.1.3 (Jan 13 2009 - 17:40:14) (Alpha) - SVN revision : 105</p><p>Model: WRGN23</p><p>Board: RT2880 DRAM:&nbsp; 32 MB<br />twe0 set to &lt;NULL&gt;<br />toe0 set to &lt;NULL&gt;<br />============================================ <br />Ralink UBoot Version: 3.1 Alpha<br />-------------------------------------------- <br />ASIC 3052_MP2 (MAC to GigaMAC Mode)<br />DRAM COMPONENT: 256Mbits <br />DRAM BUS: 16BIT <br />Total memory: 32Mbytes<br />Date:Jan 13 2009&nbsp; Time:17:40:14<br />============================================ <br />icache: sets:128, ways:4, linesz:32 ,total:16384<br />dcache: sets:128, ways:4, linesz:32 ,total:16384 </p><p>Please choose the operation: <br />&nbsp; &nbsp;1: Load system code to SDRAM via TFTP. <br />&nbsp; &nbsp;2: Load system code then write to Flash via TFTP. <br />&nbsp; &nbsp;3: Boot system code via Flash (default).<br />&nbsp; &nbsp;4: Entr boot command line interface.<br />&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP. <br />You choosed (50)<br />&nbsp; 0 seconds ...</p><p>Eth0 (10/100-M) :&nbsp; ethaddr = (00:14:d1:7d:4d:4e) 00 14 D1 7D 4D 4E <br />2: System Load Linux Kernel then write to Flash via TFTP.<br /> Please Input new ones /or Ctrl-C to discard<br />&nbsp; &nbsp; &nbsp; &nbsp; Input device IP (192.168.10.1) :&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; Input server IP (192.168.10.5) : <br />&nbsp; &nbsp; &nbsp; &nbsp; Input Linux Kernel filename (openwrt-ramips-rt305x-uImage-initramfs.bin) : <br />Warning!! Erase Linux in Flash then burn new one. Are you sure ? (Y/N)<br />Mac to giga Mac mode<br />Using Eth0 (10/100-M) device<br />TFTP from server 192.168.10.5; our IP address is 192.168.10.1<br />Filename &#039;openwrt-ramips-rt305x-uImage-initramfs.bin&#039;.<br />Loading: #################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;###########################################<br />Bytes transferred = 2549257 (26e609 hex)<br />Erase linux block (0xbf050000 ~ 0xbf2bffff)</p><p>********Erased 39 sectors<br />Copy linux image [2549257 bytes] to Flash [0xBF050000] ...<br />Copy 2549257 byte to Flash ...done<br />## Booting image at bf050000 ...<br />&nbsp; &nbsp;Image Name:&nbsp; &nbsp;MIPS OpenWrt Linux-2.6.39.2<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2011-08-05&nbsp; &nbsp;5:47:53 UTC</p><p> System Control Status = 0x03400000 <br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 2549193 Bytes =&nbsp; 2.4 MB<br />&nbsp; &nbsp;Load Address: 80000000<br />&nbsp; &nbsp;Entry Point:&nbsp; 80000000<br />&nbsp; &nbsp;Verifying Checksum ... OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK</p><p>Starting kernel ...</p><p>Linux version 2.6.39.2 (nobody@apathy) (gcc version 4.5.4 20110526 (prerelease) (Linaro GCC 4.5-2011.06-0) ) #8 Thu Aug 4 22:47:49 PDT 2011<br />bootconsole [early0] enabled<br />CPU revision is: 0001964c (MIPS 24Kc)<br />Ralink RT3350&nbsp; &nbsp;id:1 rev:2 running at 320.00 MHz<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />Initrd not found or empty - disabling initrd<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0: 0x00000000 -&gt; 0x00002000<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />Kernel command line:&nbsp; board=DIR-300-B1 console=ttyS1,57600 rootfstype=squashfs,jffs2<br />PID hash table entries: 128 (order: -3, 512 bytes)<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Primary instruction cache 16kB, VIPT, 4-way, linesize 32 bytes.<br />Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes<br />Writing ErrCtl register=00039242<br />Readback ErrCtl register=00039242<br />Memory: 28344k/32768k available (1847k kernel code, 4424k reserved, 317k data, 1832k init, 0k highmem)<br />SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />NR_IRQS:48<br />console [ttyS1] enabled, bootconsole disabled<br />console [ttyS1] enabled, bootconsole disabled<br />Calibrating delay loop... 212.58 BogoMIPS (lpj=1062912)<br />pid_max: default: 32768 minimum: 301<br />Mount-cache hash table entries: 512<br />NET: Registered protocol family 16<br />MIPS: machine is D-Link DIR-300 B1<br />bio: create slab &lt;bio-0&gt; at 0<br />Switching to clocksource MIPS<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />UDP hash table entries: 256 (order: 0, 4096 bytes)<br />UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />NET: Registered protocol family 1<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.<br />msgmni has been set to 55<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled<br />serial8250: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A<br />serial8250: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A<br />physmap platform flash device: 00800000 at bf000000<br />physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x000001 Chip ID 0x001a00<br />Amd/Fujitsu Extended Query Table at 0x0040<br />&nbsp; Amd/Fujitsu Extended Query version 1.3.<br />number of CFI chips: 1<br />RedBoot partition parsing not available<br />Using physmap partition information<br />Creating 6 MTD partitions on &quot;physmap-flash.0&quot;:<br />0x000000000000-0x000000030000 : &quot;u-boot&quot;<br />0x000000030000-0x000000040000 : &quot;devdata&quot;<br />0x000000040000-0x000000050000 : &quot;devconf&quot;<br />0x000000050000-0x000000120000 : &quot;kernel&quot;<br />0x000000120000-0x000000400000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />split_squashfs: no squashfs found in &quot;physmap-flash.0&quot;<br />0x000000050000-0x000000400000 : &quot;firmware&quot;<br />TCP westwood registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />Freeing unused kernel memory: 1832k freed<br />- preinit -<br />Press the [f] key and hit [enter] to enter failsafe mode</p><p>- regular preinit -<br />- init -</p><p>Please press Enter to activate this console. lib80211: common routines for IEEE802.11 drivers<br />Compat-wireless backport release: compat-wireless-2011-06-23<br />Backport based on wireless-testing.git master-2011-06-22<br />cfg80211: Calling CRDA to update world regulatory domain<br />device eth0.1 entered promiscuous mode<br />device eth0 entered promiscuous mode<br />br-lan: port 1(eth0.1) entering forwarding state<br />br-lan: port 1(eth0.1) entering forwarding state<br />PPP generic driver version 2.4.2<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />cfg80211: World regulatory domain updated:<br />cfg80211:&nbsp; &nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />cfg80211:&nbsp; &nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />NET: Registered protocol family 24<br />nf_conntrack version 0.5.0 (471 buckets, 1884 max)</p><br /><br /><p>BusyBox v1.18.5 (2011-08-04 20:41:36 PDT) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> ATTITUDE ADJUSTMENT (bleeding edge, r27906) ----------<br />&nbsp; * 1/4 oz Vodka&nbsp; &nbsp; &nbsp; Pour all ingredients into mixing<br />&nbsp; * 1/4 oz Gin&nbsp; &nbsp; &nbsp; &nbsp; tin with ice, strain into glass.<br />&nbsp; * 1/4 oz Amaretto<br />&nbsp; * 1/4 oz Triple sec<br />&nbsp; * 1/4 oz Peach schnapps<br />&nbsp; * 1/4 oz Sour mix<br />&nbsp; * 1 splash Cranberry juice<br /> -----------------------------------------------------<br />root@OpenWrt:/# <br />root@OpenWrt:/# ramips-wdt: timeout value 60 must be 0 &lt; timeout &lt; 40</p><p>root@OpenWrt:/# <br />root@OpenWrt:/# ifconfig<br />br-lan&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:11:22:33:44:55&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.1&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:29 errors:0 dropped:1 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:2 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:6516 (6.3 KiB)&nbsp; TX bytes:816 (816.0 B)</p><p>eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:11:22:33:44:55&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:405 errors:0 dropped:2 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:15 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:26300 (25.6 KiB)&nbsp; TX bytes:5429 (5.3 KiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:5 </p><p>eth0.1&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:11:22:33:44:55&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:30 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:4 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:6700 (6.5 KiB)&nbsp; TX bytes:908 (908.0 B)</p><p>eth0.2&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:11:22:33:44:55&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:373 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:11 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:19500 (19.0 KiB)&nbsp; TX bytes:4433 (4.3 KiB)</p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140650">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mud99</div>
					<div class="post-datetime">
						5 Aug 2011, 09:24					</div>
				</div>
				<div class="post-content content">
					<p>A bit more after my last post - I ran sysupgrade with a DIR-300 image and that worked as well, now I am running using the flash as well</p><p>root@OpenWrt:/# sysupgrade <a href="http://192.168.0.1:8000/openwrt-ramips-rt305x-dir-300-b1-squashfs-sysupgrade.bin">http://192.168.0.1:8000/openwrt-ramips- â€¦ pgrade.bin</a></p><p>Mark</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185907">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tpwn3r</div>
					<div class="post-datetime">
						13 Dec 2012, 10:12					</div>
				</div>
				<div class="post-content content">
					<p>Have you more information about this? I have a KEEBOX W150NR as well.<br />I compiled trunk today and used your idea about the setenv variable. It allowed the device to flash the image to flash and then boot it but in dmesg the wireless complained about eeprom not being found. also the serial console stops working.</p><p>After setting up a TFTP SERVER and flashing the image<br />this is all I get on the console now. </p><div class="codebox"><pre><code>U-Boot 1.1.3 (Jan 13 2009 - 17:40:14) (Alpha) - SVN revision : 105

Model: WRGN23

Board: RT2880 DRAM:  32 MB
twe0 set to &lt;NULL&gt;
toe0 set to &lt;NULL&gt;
============================================
Ralink UBoot Version: 3.1 Alpha
--------------------------------------------
ASIC 3052_MP2 (MAC to GigaMAC Mode)
DRAM COMPONENT: 256Mbits
DRAM BUS: 16BIT
Total memory: 32Mbytes
Date:Jan 13 2009  Time:17:40:14
============================================
icache: sets:128, ways:4, linesz:32 ,total:16384
dcache: sets:128, ways:4, linesz:32 ,total:16384

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   9: Load Boot Loader code then write to Flash via TFTP.
You choosed (50)
  0 seconds ...

Eth0 (10/100-M) :  ethaddr = (00:14:d1:7d:67:90) 00 14 D1 7D 67 90
2: System Load Linux Kernel then write to Flash via TFTP.
 Please Input new ones /or Ctrl-C to discard
        Input device IP (192.168.10.1) :
        Input server IP (10.10.10.3) : 192.168.10.2
        Input Linux Kernel filename () : test.bin
Warning!! Erase Linux in Flash then burn new one. Are you sure ? (Y/N)
Mac to giga Mac mode
Using Eth0 (10/100-M) device
TFTP from server 192.168.10.2; our IP address is 192.168.10.1
Filename &#039;test.bin&#039;.
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ########################
Bytes transferred = 3448194 (349d82 hex)
Erase linux block (0xbf050000 ~ 0xbf39ffff)

***********Erased 53 sectors
Copy linux image [3448194 bytes] to Flash [0xBF050000] ...
Copy 3448194 byte to Flash ...done
## Booting image at bf050000 ...
   Image Name:   MIPS OpenWrt Linux-3.6.10
   Created:      2012-12-13   7:01:34 UTC

 System Control Status = 0x03400000
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    3448130 Bytes =  3.3 MB
   Load Address: 80000000
   Entry Point:  80000000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

[    0.000000] Linux version 3.6.10 (openwrt@bt) (gcc version 4.6.4 20121106 (prerelease) (Linaro GCC 4.6-2012.11) ) #3 Thu Dec 13 00:01:29 MST 2012
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] Ralink RT3350 id:1 rev:2 running at 320.00 MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] Primary instruction cache 16kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=DIR-300-B1 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] __ex_table already sorted, skipping sort
[    0.000000] Writing ErrCtl register=00000006
[    0.000000] Readback ErrCtl register=00000006
[    0.000000] Memory: 27272k/32768k available (1967k kernel code, 5496k reserved, 324k data, 2676k init, 0k highmem)
[    0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:48
[    0.000000] console [ttyS0] enabled, bootconsole disabled</code></pre></div><p>The device seems to boot the firmware nicely though and I can telnet in at openwrt&#039;s default ip of 192.168.1.1<br />the dmesg shows that the wireless firmware is not found properly. <br /></p><div class="codebox"><pre><code>[    0.000000] Linux version 3.6.10 (openwrt@bt) (gcc version 4.6.4 20121106 (prerelease) (Linaro GCC 4.6-2012.11) ) #3 Thu Dec 13 00:01:29 MST 2012
[    0.000000] prom: fw_arg0=00000002, fw_arg1=01f5bfb0, fw_arg2=01f5c3d0, fw_arg3=00000000
[    0.000000] argv[0]=  (null) is invalid, skipping
[    0.000000] argv[1]: board=DIR-300-B1
[    0.000000] env[0]: memsize=32
[    0.000000] env[1]: initrd_start=0x00000000
[    0.000000] env[2]: initrd_size=0x0
[    0.000000] env[3]: flash_start=0xBF000000
[    0.000000] env[4]: flash_size=0x800000
[    0.000000] env[0]: memsize=32
[    0.000000] env[1]: initrd_start=0x00000000
[    0.000000] env[2]: initrd_size=0x0
[    0.000000] env[3]: flash_start=0xBF000000
[    0.000000] env[4]: flash_size=0x800000
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] Ralink RT3350 id:1 rev:2 running at 320.00 MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 8023c8f0, node_mem_map 81000000
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8128 pages, LIFO batch:0
[    0.000000] Primary instruction cache 16kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=DIR-300-B1 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] __ex_table already sorted, skipping sort
[    0.000000] Writing ErrCtl register=0007e00b
[    0.000000] Readback ErrCtl register=0007e00b
[    0.000000] Memory: 27272k/32768k available (1967k kernel code, 5496k reserved, 324k data, 2676k init, 0k highmem)
[    0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:48
[    0.000000] console [ttyS0] enabled, bootconsole disabled
[    0.010000] Calibrating delay loop... 212.58 BogoMIPS (lpj=1062912)
[    0.100000] pid_max: default: 32768 minimum: 301
[    0.110000] Mount-cache hash table entries: 512
[    0.120000] NET: Registered protocol family 16
[    0.130000] MIPS: machine is D-Link DIR-300 B1
[    0.170000] bio: create slab &lt;bio-0&gt; at 0
[    0.180000] Switching to clocksource MIPS
[    0.200000] NET: Registered protocol family 2
[    0.250000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)
[    0.330000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.410000] TCP: Hash tables configured (established 1024 bind 1024)
[    0.490000] TCP: reno registered
[    0.530000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.600000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.670000] NET: Registered protocol family 1
[    7.430000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    7.500000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    7.620000] msgmni has been set to 53
[    7.670000] io scheduler noop registered
[    7.710000] io scheduler deadline registered (default)
[    7.780000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
[    7.860000] serial8250: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A
[    7.940000] serial8250: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A
[    8.020000] physmap platform flash device: 00800000 at bf000000
[    8.090000] physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x000001 Chip ID 0x001a00
[    8.220000] physmap-flash.0: Found an alias at 0x400000 for the chip at 0x0
[    8.220000] Amd/Fujitsu Extended Query Table at 0x0040
[    8.280000]   Amd/Fujitsu Extended Query version 1.3.
[    8.340000] number of CFI chips: 1
[    8.400000] ramips-wdt ramips-wdt: timeout value must be 0 &lt; timeout &lt;= 40, using 40
[    8.500000] TCP: cubic registered
[    8.540000] NET: Registered protocol family 17
[    8.590000] 8021q: 802.1Q VLAN Support v1.8
[    8.680000] Freeing unused kernel memory: 2676k freed
[    9.720000] input: gpio-keys-polled as /devices/platform/gpio-keys-polled/input/input0
[    9.840000] Button Hotplug driver version 0.4.1
[   10.080000] Registered led device: d-link:amber:status
[   10.080000] Registered led device: d-link:green:status
[   10.080000] Registered led device: d-link:amber:wan
[   10.080000] Registered led device: d-link:green:wan
[   10.080000] Registered led device: d-link:blue:wps
[   14.150000] Compat-drivers backport release: compat-drivers-2012-12-04
[   14.230000] Backport based on wireless-testing.git master-2012-12-06
[   14.310000] compat.git: wireless-testing.git
[   14.400000] cfg80211: Calling CRDA to update world regulatory domain
[   14.480000] cfg80211: World regulatory domain updated:
[   14.540000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   14.640000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   14.730000] cfg80211:   (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   14.830000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   14.920000] cfg80211:   (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   15.010000] cfg80211:   (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   15.360000] usbcore: registered new interface driver usbfs
[   15.420000] usbcore: registered new interface driver hub
[   15.490000] usbcore: registered new device driver usb
[   15.880000] phy0 -&gt; rt2x00lib_request_eeprom_file: Error - Failed to request EEPROM.
[   15.990000] rt2800_wmac: probe of rt2800_wmac.0 failed with error -2
[   16.160000] PPP generic driver version 2.4.2
[   16.320000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   16.600000] NET: Registered protocol family 24
[   16.690000] nf_conntrack version 0.5.0 (467 buckets, 1868 max)
[   17.190000] dwc_otg: version 2.72a 24-JUN-2008
[   21.810000] device eth0.1 entered promiscuous mode
[   21.860000] device eth0 entered promiscuous mode
[   21.930000] br-lan: port 1(eth0.1) entered forwarding state
[   21.990000] br-lan: port 1(eth0.1) entered forwarding state
[   23.290000] ramips-wdt: timeout value 60 must be 0 &lt; timeout &lt;= 40, using 40
[   23.990000] br-lan: port 1(eth0.1) entered forwarding state</code></pre></div><p>A problem that is not helping i think is the flash doesnt seem to be mapped/detected?</p><div class="codebox"><pre><code>root@OpenWrt:/# cat /proc/mtd 
dev:    size   erasesize  name
mtd0: 00400000 00010000 &quot;physmap-flash.0&quot;
root@OpenWrt:/#</code></pre></div>											<p class="post-edited">(Last edited by <strong>tpwn3r</strong> on 13 Dec 2012, 19:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187089">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">victormature1</div>
					<div class="post-datetime">
						26 Dec 2012, 22:39					</div>
				</div>
				<div class="post-content content">
					<p>I realize this post is over a year old, but I wonder if there has been any progress?&nbsp; Frye&#039;s has these for $10 shipped, and I&#039;d like to try it out.</p><p>In the above posts, I&#039;m wondering why mud99 didn&#039;t just flash the router directly with openwrt-ramips-rt305x-dir-300-b1-squashfs-factory.bin?</p><p>Failing that, what about flashing the&nbsp; D-Link DIR-300 B1 firmware (<a href="http://tsd.dlink.com.tw/downloads2008detailgo.asp">http://tsd.dlink.com.tw/downloads2008detailgo.asp</a>) first?</p><p>Also, these Ralink devices apparently have an Emergency Room Web Interface built in that allows you to flash firmware.&nbsp; I will probably use that to load DD-WRT for D-Link DIR-300 B1, then use the web interface to upgrade to OpenWRT</p>											<p class="post-edited">(Last edited by <strong>victormature1</strong> on 27 Dec 2012, 14:33)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>