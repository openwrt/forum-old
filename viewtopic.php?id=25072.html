<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> how to configure lighttpd?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p110390">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">chibister</div>
					<div class="post-datetime">
						2 Jun 2010, 08:25					</div>
				</div>
				<div class="post-content content">
					<p>im using wrt54gl v1 router, and upgraded with kamikaze 8.09</p><p>i need to install lighttpd n php to control serial....</p><p>i store lighttpd n php in my sd card.</p><p>this is what i have done so far.. i dont know how to proceed.. my lighttpd didnt start? did i missed any configuration?</p><p>DMESG:<br />root@OpenWrt:~# dmesg<br />CPU revision is: 00029008<br />Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.<br />Primary data cache 8kB, 2-way, linesize 16 bytes.<br />Linux version 2.4.35.4 (nbd@baustelle) (gcc version 3.4.6 (OpenWrt-2.0)) #51 Sat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Feb 14 23:44:13 CET 2009<br />Setting the PFC to its default value<br />Determined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />On node 0 totalpages: 4096<br />zone(0): 4096 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/pre&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;init noinitrd console=ttyS0,115200<br />CPU: BCM5352 rev 0 at 200 MHz<br />Using 100.000 MHz high precision timer.<br />Calibrating delay loop... 199.47 BogoMIPS<br />Memory: 14260k/16384k available (1425k kernel code, 2124k reserved, 100k data, 8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4k init, 0k highmem)<br />Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Inode cache hash table entries: 1024 (order: 1, 8192 bytes)<br />Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />POSIX conformance testing by UNIFIX<br />PCI: no core<br />PCI: Fixing up bus 0<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />Registering mini_fo version $Id$<br />devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />pty: 256 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI en&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abled<br />ttyS00 at 0xb8000300 (irq = 3) is a 16550A<br />ttyS01 at 0xb8000400 (irq = 3) is a 16550A<br />b44.c:v0.93 (Mar, 2004)<br />PCI: Setting latency timer of device 00:01.0 to 64<br />eth0: Broadcom 47xx 10/100BaseT Ethernet 00:23:69:c1:0b:f7<br />Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0xc00000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1400000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1c00000 for the chip at 0x0<br /> Amd/Fujitsu Extended Query Table v1.1 at 0x0040<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling fast programming due to code brokenness.<br />Flash device: 0x400000 at 0x1c000000<br />bootloader size: 262144<br />Physically mapped flash: Filesystem type: squashfs, size=0x1814cb<br />Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00040000 : &quot;cfe&quot;<br />0x00040000-0x003f0000 : &quot;linux&quot;<br />0x000bb000-0x00240000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-o&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;nly<br />0x003f0000-0x00400000 : &quot;nvram&quot;<br />0x00240000-0x003f0000 : &quot;rootfs_data&quot;<br />Initializing Cryptographic API<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 1024 bind 2048)<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 84k freed<br />Algorithmics/MIPS FPU Emulator v1.5<br />diag: Detected &#039;Linksys WRT54G/GS/GL&#039;<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />roboswitch: Probing device eth0: found!<br />mini_fo: using base directory: /<br />mini_fo: using storage directory: /jffs<br />jffs2.bbc: SIZE compression mode activated.<br />b44: eth0: Link is up at 100 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />eth0.0: add 01:00:5e:00:00:01 mcast address to master interface<br />eth0.1: add 01:00:5e:00:00:01 mcast address to master interface<br />eth0.0: dev_set_promiscuity(master, 1)<br />device eth0 entered promiscuous mode<br />device eth0.0 entered promiscuous mode<br />br-lan: port 1(eth0.0) entering learning state<br />br-lan: port 1(eth0.0) entering forwarding state<br />br-lan: topology change detected, propagating<br />eth0.1: del 01:00:5e:00:00:01 mcast address from vlan interface<br />eth0.1: del 01:00:5e:00:00:01 mcast address from master interface<br />eth0.1: add 01:00:5e:00:00:01 mcast address to master interface<br />PCI: Setting latency timer of device 00:05.0 to 64<br />PCI/DMA<br />wl0: wlc_attach: chiprev 0 coreunit 0 corerev 9 cccap 0x4787aa maccap 0x0 band 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.4G, phy_type 2 phy_rev 7 ana_rev 2<br />wl0: Broadcom BCM4320 802.11 Wireless Controller 4.150.10.5<br />br-lan: port 1(eth0.0) entering disabled state<br />br-lan: port 1(eth0.0) entering learning state<br />br-lan: port 1(eth0.0) entering forwarding state<br />br-lan: topology change detected, propagating<br />Journalled Block Device driver loaded<br />[INFO] mmc_hardware_init: initializing GPIOs<br />[INFO] mmc_card_init: the period of a 380KHz frequency lasts 524 CPU cycles<br />[INFO] mmc_card_init: powering card on. sending 80 CLK<br />[INFO] mmc_card_init: 80 CLK sent in 43646 CPU cycles<br />[INFO] mmc_card_init: resetting card (CMD0)<br />[INFO] mmc_card_init: doing initialization loop<br />[INFO] mmc_card_init: card inited successfully in 545 tries (16813120 CPU cycles&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;).<br />[INFO] mmc_init: MMC/SD Card ID:<br />03 53 44 53 44 30 32 47 80 50 3b d9 1c 00 9c fb [INFO] Manufacturer ID&nbsp; &nbsp;: 03<br />[INFO] OEM/Application ID: SD<br />[INFO] Product name&nbsp; &nbsp; &nbsp; : SD02G<br />[INFO] Product revision&nbsp; : 8.0<br />[INFO] Product SN&nbsp; &nbsp; &nbsp; &nbsp; : 503bd91c<br />[INFO] Product Date&nbsp; &nbsp; &nbsp; : 2009-12<br />[INFO] mmc_card_config: size = 1931264, hardsectsize = 1024, sectors = 1931264<br />[WARN] mmc_init: hd_sizes=1931264, hd[0].nr_sects=3862528<br />[INFO] mmc_card_init: set_blocklen (CMD16) succeeded !<br />Partition check:<br /> mmca: p1<br />CSLIP: code copyright 1989 Regents of the University of California<br />PPP generic driver version 2.4.2<br />ip_tables: (C) 2000-2002 Netfilter core team<br />ip_conntrack version 2.1 (5953 buckets, 5953 max) - 360 bytes per conntrack<br />kjournald starting.&nbsp; Commit interval 5 seconds<br />EXT3-fs warning: maximal mount count reached, running e2fsck is recommended<br />EXT3 FS 2.4-0.9.19, 19 August 2002 on mmc(121,1), internal journal<br />EXT3-fs: mounted filesystem with ordered data mode.</p><br /><p>CAT FSTAB:<br />root@OpenWrt:/etc/config# cat fstab<br />config mount<br />&nbsp; &nbsp; &nbsp; &nbsp; option target&nbsp; &nbsp;/mnt<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;/dev/mmc/disc0/part1<br />&nbsp; &nbsp; &nbsp; &nbsp; option fstype&nbsp; &nbsp;ext3<br />&nbsp; &nbsp; &nbsp; &nbsp; option options&nbsp; defaults<br />&nbsp; &nbsp; &nbsp; &nbsp; option enabled&nbsp; 1</p><br /><p>i added echo&nbsp; echo 9c &gt; /proc/diag/gpiomask in&nbsp; /etc/init.d/boot</p><p>i created a file called 30-mmc in /etc/modules.d<br />root@OpenWrt:/etc/modules.d# cat 30-mmc<br />mmc</p><br /><p>i modified the content in opkg.conf<br />root@OpenWrt:/etc# cat opkg.conf<br />src/gz snapshots <a href="http://downloads.openwrt.org/kamikaze/8.09/brcm-2.4/packages">http://downloads.openwrt.org/kamikaze/8 â€¦ 4/packages</a></p><p>dest mmc /mnt</p><br /><p>i follow <a href="http://www.rabinovich.org/ymheebcex/">http://www.rabinovich.org/ymheebcex/</a> to configure lighttpd and php<br />when i issue /etc/init.d/lighttpd start</p><p>root@OpenWrt:/mnt# /etc/init.d/lighttpd start<br />/etc/rc.common: eval: line 1: lighttpd: not found<br />root@OpenWrt:/mnt#</p><p>PS:<br />root@OpenWrt:/mnt# ps<br />&nbsp; PID USER&nbsp; &nbsp; &nbsp; &nbsp;VSZ STAT COMMAND<br />&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp; 1920 S&nbsp; &nbsp; init<br />&nbsp; &nbsp; 2 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 RW&nbsp; &nbsp;[keventd]<br />&nbsp; &nbsp; 3 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 RWN&nbsp; [ksoftirqd_CPU0]<br />&nbsp; &nbsp; 4 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 SW&nbsp; &nbsp;[kswapd]<br />&nbsp; &nbsp; 5 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 SW&nbsp; &nbsp;[bdflush]<br />&nbsp; &nbsp; 6 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 SW&nbsp; &nbsp;[kupdated]<br />&nbsp; &nbsp; 8 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 SW&nbsp; &nbsp;[mtdblockd]<br />&nbsp; &nbsp;55 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 SWN&nbsp; [jffs2_gcd_mtd4]<br />&nbsp; &nbsp;68 root&nbsp; &nbsp; &nbsp; 1920 S&nbsp; &nbsp; init<br />&nbsp; &nbsp;97 root&nbsp; &nbsp; &nbsp; 1936 S&nbsp; &nbsp; syslogd -C16<br />&nbsp; &nbsp;99 root&nbsp; &nbsp; &nbsp; 1916 S&nbsp; &nbsp; klogd<br />&nbsp; 487 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 SW&nbsp; &nbsp;[kjournald]<br />&nbsp; 729 root&nbsp; &nbsp; &nbsp; 1936 S&nbsp; &nbsp; udhcpc -t 0 -i eth0.1 -b -p /var/run/eth0.1.pid -R<br /> 1085 root&nbsp; &nbsp; &nbsp; 1872 S&nbsp; &nbsp; /usr/sbin/dropbear -p 22<br /> 1097 root&nbsp; &nbsp; &nbsp; 1920 S&nbsp; &nbsp; /usr/sbin/httpd -p 80 -h /www -r OpenWrt<br /> 1284 nobody&nbsp; &nbsp; 1212 S&nbsp; &nbsp; /usr/sbin/dnsmasq -K -D -y -Z -b -E -s lan -S /lan/ -<br /> 3056 root&nbsp; &nbsp; &nbsp; 1932 S&nbsp; &nbsp; /usr/sbin/dropbear -p 22<br /> 3256 root&nbsp; &nbsp; &nbsp; 1936 S&nbsp; &nbsp; -ash<br />12392 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp;[]<br />12394 root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp;[]<br />12402 root&nbsp; &nbsp; &nbsp; 1944 R&nbsp; &nbsp; /bin/sh /sbin/hotplug-call button<br />12404 root&nbsp; &nbsp; &nbsp; 1924 R&nbsp; &nbsp; /bin/sh /sbin/hotplug-call button<br />12405 root&nbsp; &nbsp; &nbsp; 1912 R&nbsp; &nbsp; /bin/sh /sbin/hotplug-call button<br />12406 root&nbsp; &nbsp; &nbsp; 1912 R&nbsp; &nbsp; /bin/sh /sbin/hotplug-call button</p><br /><p>everyone please help... did i missed out anything?</p>											<p class="post-edited">(Last edited by <strong>chibister</strong> on 2 Jun 2010, 08:59)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>