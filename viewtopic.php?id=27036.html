<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WRT54GS and backfire brick</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p119474">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">cybermcm</div>
					<div class="post-datetime">
						21 Oct 2010, 18:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi community,</p><p>I was playing with my network config (WRT54GS v1) and it seems that I have deactivated the interfaces (shame on me)...<br />Now I&#039;m trying to get into the failsafe mode but I am not able to do so.</p><p>What does the router do after reboot?<br />Power led flashes -&gt; DMZ light is active for about 30 secs -&gt; DMZ goes dark -&gt; power led goes from blinking to normal mode.</p><p>I tried to enter the failsafe mode (pressing the reset button after DMZ light up) -&gt; no luck</p><p>I tried to TFTP a new firmware (mini or stock) -&gt; no luck<br />During the booting sequence I can ping 192.168.1.1 one time on the LAN interfaces, on the WAN interface&nbsp; I can ping the router about 8 times -&gt; still no luck with TFTP.<br />I installed this firmware: <a href="http://downloads.openwrt.org/backfire/10.03.1-rc3/brcm47xx/openwrt-brcm47xx-squashfs.trx">http://downloads.openwrt.org/backfire/1 … uashfs.trx</a></p><p>I&#039;m seeking for help.</p><p>greetings,<br />CyberMCM</p>											<p class="post-edited">(Last edited by <strong>cybermcm</strong> on 21 Oct 2010, 23:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p119489">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cybermcm</div>
					<div class="post-datetime">
						21 Oct 2010, 23:10					</div>
				</div>
				<div class="post-content content">
					<p>sorry to bump this up, maybe a real question will be answered faster:<br />how to enable the damn failsafe mode in backfire, I tried everything from holding the reset button to pressing it few times every second?</p><p>help is welcome ;-)</p><p>greetings,<br />CyberMCM</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p119502">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">cybermcm</div>
					<div class="post-datetime">
						22 Oct 2010, 07:21					</div>
				</div>
				<div class="post-content content">
					<p>after some time I managed it on my own ;-)<br />please find enclosed all my steps maybe it helps anyone in the future. And be patient, it is not easy to get the right moment in step 9)</p><p>1) download original Linksys stock firmware, unpack it, rename firmware to i.bin<br />2) disable firewall and anti-virus programs<br />3) activate tftp within Windows components (not installed during standard setup)<br />4) disable Windows Vista/7 media sensing (open an elevated cmd window and type &quot;netsh interface ipv4 set global dhcpmediasense=disabled&quot;)<br />5) direct connect your router (LAN port 1) to your PC<br />6) use 192.168.1.2 for your PC as fixed IP address (subnet 255.255.255.0), DNS or Gateway are not necessary<br />7) open command window and go to the path where i.bin (step 1) is located<br />8) type &quot;tftp -i 192.168.1.1 put i.bin&quot; but do not press enter<br />9) power on router and immediately afterward hit enter<br />10) upload should take place (a few seconds) afterward wait until the router reboots<br />11) connect to 192.168.1.1 and use your router</p><p>greetings,<br />CyberMCM</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141761">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">d-Byte</div>
					<div class="post-datetime">
						20 Aug 2011, 20:40					</div>
				</div>
				<div class="post-content content">
					<p>thank you verry much man x100000000000<br />you are my &#039;hero&#039; :* <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /><br />i have the same problem but your thread helps my out a lot <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>---------------------------<br />8) type &quot;tftp -i 192.168.1.1 put i.bin&quot; but do not press enter<br />9) power on router and immediately afterward hit enter<br />10) upload should take place (a few seconds) afterward wait until the router reboots<br />11) connect to 192.168.1.1 and use your router<br />---------------------------<br />ur d-best <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141763">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">cybermcm</div>
					<div class="post-datetime">
						20 Aug 2011, 20:54					</div>
				</div>
				<div class="post-content content">
					<p>@d-Byte: You&#039;re welcome ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158350">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">kr16</div>
					<div class="post-datetime">
						22 Feb 2012, 16:07					</div>
				</div>
				<div class="post-content content">
					<p>Bump.<br />My first post here <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> <br />I have been using wrt54gs for a while with kamikaze then white russian and lately backfire.<br />Since this is mostly experimenting from my side I would always setup something wrong and then have to go to failsafe to fix it.<br />Two days ago I setup something wrong in backfire (bridged my LAN to WAN I think) and I can login anymore <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Router boots and then picks IP from local DHCP server. I can ping it but cant login since firewall on WAN is blocking everything.<br />I tried to reset in all different ways but nothing seems to work.<br />I did not try this option yet but here is a question.<br />There is no failsafe anymore on backfire with wrt54gs (v1.1) ???<br />thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158351">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">cybermcm</div>
					<div class="post-datetime">
						22 Feb 2012, 16:14					</div>
				</div>
				<div class="post-content content">
					<p>@kr16:<br />I think I already recovered my device even with backfire ;-) so there should be a recovery possibility.<br />The important thing is to set the boot_wait parameter so that you have time to use the TFTP recover mode.<br />You can check this if you set your PC to 192.168.1.2 and ping 192.168.1.1 -&gt; reboot your wrt54gs and check if you get a reply (a few pings should come back)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158353">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">kr16</div>
					<div class="post-datetime">
						22 Feb 2012, 16:20					</div>
				</div>
				<div class="post-content content">
					<p>I can setup boot_wait when I have access to the router correct?<br />Right now it is kind of late for that <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I will try your tftp method tonight and report back<br />thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158372">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">cybermcm</div>
					<div class="post-datetime">
						22 Feb 2012, 20:12					</div>
				</div>
				<div class="post-content content">
					<p>I hope that you can recover your device!<br />I also forgot to set the boot_wait option once and ended up opening the device and shorting 2 pins with a screwdriver. It worked but I wouldn&#039;t recommend it ;-).<br />Good luck.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158377">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">alex77</div>
					<div class="post-datetime">
						22 Feb 2012, 20:57					</div>
				</div>
				<div class="post-content content">
					<p>I have tried the recipe on my bricked MR3420, but unfortunately it won&#039;t work. I get 3 to 4 pings back from 192.168.1.1 but then ist seems continuing booting into nirvana... Might be that I ruined the firewall settings of the router in a way that it not even accepts the tftp clients offer.</p><p>Nevertheless, thanks a lot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158396">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">kr16</div>
					<div class="post-datetime">
						22 Feb 2012, 23:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cybermcm wrote:</cite><blockquote><p>I hope that you can recover your device!<br />I also forgot to set the boot_wait option once and ended up opening the device and shorting 2 pins with a screwdriver. It worked but I wouldn&#039;t recommend it ;-).<br />Good luck.</p></blockquote></div><p>Before I start and end up in frustration at 3 am <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Can you bring more light on shorting those pins?<br />I will definitely do that if tftp does not work.<br />I have WRT54GS v1.1</p><p>thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158410">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">cybermcm</div>
					<div class="post-datetime">
						23 Feb 2012, 07:21					</div>
				</div>
				<div class="post-content content">
					<p>@kr16: I used this manual: <a href="http://www.linksysinfo.org/index.php?threads/the-wrt54g-revival-guide.15815/">http://www.linksysinfo.org/index.php?th … ide.15815/</a><br />But use it with extreme caution! For me the pin assignment was not correct. I had to use another two which I don&#039;t remember anymore. Just try all.<br />Be prepared that you maybe destroy your device with this action!<br />You have been warned ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158467">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">kr16</div>
					<div class="post-datetime">
						23 Feb 2012, 17:53					</div>
				</div>
				<div class="post-content content">
					<p>As I expected I was up till 2am but with no luck <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>I can ping at 192.168.1.1 in two ways:<br />WAN port on linksys will ping for about 4-5sec after about 12 seconds from connecting power.<br />LAN port1 on linksys will ping for about 1-2sec after about 12 seconds from connecting power (the moment DMZ comes up)</p><p>This was good start - I was able to ping for a short while like some people descibed here.</p><p>Frist problem:<br />I can&#039;t find linksys original firmware anywhere. Linksys dont have it anymore and I was not able to find it anywhere else.<br />If someone can help with firmware please PM me.</p><p>I downloaded different firmware (OpenWRT, Tomato) and try tftp.</p><p>After 2-3h of trying to tftp different firmwares to WRT I gave up <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I tried to connect over WAN and over LAN -&gt; no luck. Same time out messages.</p><p>I am not sure if this is because I dont have original firmware but that should not be a problem. OpenWRT should be fine. Correct?</p><p>Anyway, I will check shorting pins option tonight.<br />I also want to look at JTAG option - &gt; maybe its less trouble.</p><p>thx for help</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158472">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">cybermcm</div>
					<div class="post-datetime">
						23 Feb 2012, 20:10					</div>
				</div>
				<div class="post-content content">
					<p>@kr16: your status seems quite fine, have you tried the dd-wrt mini builds (&quot;Mini-Build required for initial flashing via TFTP&quot;), normal images won&#039;t work!<br />Also check your firewall settings to allow the TFTP ports.<br />If you are on Windows download fping to maximize your chance to upload the image (fping can ping more often than the normal windows ping command)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158520">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">kr16</div>
					<div class="post-datetime">
						24 Feb 2012, 07:02					</div>
				</div>
				<div class="post-content content">
					<p>Got it !!! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>I should go for shorting pins method 3 days ago <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I read your link.<br />Open the device. Short pins and power up.<br />I end up in failsafe mode right away.<br />Flash the router with Mini-Build required for initial flashing via TFTP<br />And I am up and running <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>For future reference:<br />How to reach failsafe mode with&nbsp; WRT54GS v1.1<br /><a href="http://www.linksysinfo.org/index.php?th">http://www.linksysinfo.org/index.php?th</a> … ide.15815/<br />Short pins 5&amp;6</p><p>THX cybermcm, you gave me hope to continue the fight <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I owe you a beer</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p158529">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">cybermcm</div>
					<div class="post-datetime">
						24 Feb 2012, 08:55					</div>
				</div>
				<div class="post-content content">
					<p>Congratulations! Another WRT54 back to life ;-).<br />Don&#039;t forget to set the boot_wait option this time...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>