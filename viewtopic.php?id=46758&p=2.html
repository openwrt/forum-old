<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Netgear R6300 supported? (and if not, how can I help?)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 17 Oct 2017 and 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=46758&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=46758&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=46758&amp;p=4.html">4</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p247668">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">nroberto13</div>
					<div class="post-datetime">
						21 Sep 2014, 15:49					</div>
				</div>
				<div class="post-content content">
					<p>I see. no way to borrow the code from dd-wrt?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247708">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">nroberto13</div>
					<div class="post-datetime">
						22 Sep 2014, 01:59					</div>
				</div>
				<div class="post-content content">
					<p>I see netgear publishes the sources of their firmware</p><p><a href="http://www.downloads.netgear.com/files/GPL/R6300v2-V1.0.3.8_1.0.60_src.tar.zip">www.downloads.netgear.com/files/GPL/R6300v2-V1.0.3.8_1.0.60_src.tar.zip</a></p><p>I assume this should contain all the drivers, right?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247722">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						22 Sep 2014, 08:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nroberto13 wrote:</cite><blockquote><p>I see netgear publishes the sources of their firmware</p><p><a href="http://www.downloads.netgear.com/files/GPL/R6300v2-V1.0.3.8_1.0.60_src.tar.zip">www.downloads.netgear.com/files/GPL/R6300v2-V1.0.3.8_1.0.60_src.tar.zip</a></p><p>I assume this should contain all the drivers, right?</p></blockquote></div><p>Seriously, developers already know about standard GPL sources, open drivers and closed ones.</p><p>If you really want to help, write a patch/driver instead.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247803">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">nroberto13</div>
					<div class="post-datetime">
						23 Sep 2014, 01:37					</div>
				</div>
				<div class="post-content content">
					<p>sorry, I didn&#039;t meant to offend anyone. being a newbie in dev, don&#039;t really know where to start off with patch/driver writing...</p><p>any directions are highly appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248886">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						2 Oct 2014, 22:36					</div>
				</div>
				<div class="post-content content">
					<p>In next few days there will be experimental firmware for R6300 V2 (the BCM4708 ARM version, not the BCM4706 MIPS) under following URL:<br/><a href="http://downloads.openwrt.org/snapshots/trunk/bcm53xx/">http://downloads.openwrt.org/snapshots/trunk/bcm53xx/</a></p><p>If someone wants to help, make sure you <strong>have serial console</strong>, connect it and then install firmware from the above URL. Please provide the booting log.<br/>If the OpenWrt boots correctly, you can help and find out GPIOs responsible for all LEDs and buttons, see: <a href="http://wiki.openwrt.org/doc/devel/add.new.device#gpios">http://wiki.openwrt.org/doc/devel/add.new.device#gpios</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249264">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						5 Oct 2014, 16:49					</div>
				</div>
				<div class="post-content content">
					<p>I see the firmware is out there.&nbsp; How do I flash it?&nbsp; I&#039;m currently running ddwrt on my r6300v2.</p><p>I do have a serial cable for it which I have not used yet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249265">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						5 Oct 2014, 16:56					</div>
				</div>
				<div class="post-content content">
					<p>Flashing:</p><p>1) DD-WRT: Don&#039;t know, never used it. Search for something like &quot;Firmware upgrade&quot;.</p><p>2) Original (Netgear): Standard flashing method in the web interface.</p><p>3) No firmware, serial console<br/>a) Hold CTRL+C while booting, after getting CFE access execute: &quot;tftpd&quot;<br/>b) On host machine set IP to 192.168.1.2 and execute: &quot;tftp 192.168.1.1 -m binary -c put openwrt-bcm53xx-bcm4708-netgear-r6300-v2-squashfs.chk&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249267">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						5 Oct 2014, 17:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tusc wrote:</cite><blockquote><p>I see the firmware is out there.&nbsp; How do I flash it?&nbsp; I&#039;m currently running ddwrt on my r6300v2.</p><p>I do have a serial cable for it which I have not used yet.</p></blockquote></div><p>might be best to revert to stock then flash to openwrt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249269">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						5 Oct 2014, 17:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>drawz wrote:</cite><blockquote><p>might be best to revert to stock then flash to openwrt.</p></blockquote></div><p>If you know how to flash original firmware, the same method applies to the OpenWrt firmware. Both use the same file format.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249301">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						5 Oct 2014, 20:59					</div>
				</div>
				<div class="post-content content">
					<p>The only reason I mention it is that sometimes DD-WRT changes the boot loader and/or partition layout. I don&#039;t know about this specific model.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249344">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						6 Oct 2014, 04:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>In next few days there will be experimental firmware for R6300 V2 (the BCM4708 ARM version, not the BCM4706 MIPS) under following URL:<br/><a href="http://downloads.openwrt.org/snapshots/trunk/bcm53xx/">http://downloads.openwrt.org/snapshots/trunk/bcm53xx/</a></p><p>If someone wants to help, make sure you <strong>have serial console</strong>, connect it and then install firmware from the above URL. Please provide the booting log.<br/>If the OpenWrt boots correctly, you can help and find out GPIOs responsible for all LEDs and buttons, see: <a href="http://wiki.openwrt.org/doc/devel/add.new.device#gpios">http://wiki.openwrt.org/doc/devel/add.new.device#gpios</a></p></blockquote></div><br/><p>I was able to flash this image from the serial console using tftp:</p><div class="codebox"><pre><code>CFE&gt; tftpd
Start TFTP server
Reading :: Done. 3346490 bytes read
Programming...done. 3346490 bytes written
Skip writing CHK checksum for nflash.
Decompressing...done

SHMOO VER 1.13

PKID07DC06011801080000000000001A103F01000000

S300402F3
00002570


RDLYW0 00000004

RDENW0 00000052

RDQSW0

    0000000000111111111122222222223333333333444444444455555555556666
    0123456789012345678901234567890123456789012345678901234567890123
 00 ---------+++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 01 --------------+++++++++++++++++++++++++X++++++++++++++++++++++++
 02 ----------+++++++++++++++++++++++++++X++++++++++++++++++++++++++
 03 ---------+++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 04 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 05 -------------+++++++++++++++++++++++++X+++++++++++++++++++++++++
 06 -------++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 07 -------------+++++++++++++++++++++++++X+++++++++++++++++++++++++
 08 ---------+++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 09 -------------+++++++++++++++++++++++++X+++++++++++++++++++++++++
 10 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 11 -------------+++++++++++++++++++++++++X+++++++++++++++++++++++++
 12 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 13 ------------++++++++++++++++++++++++++X+++++++++++++++++++++++++
 14 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 15 ----------+++++++++++++++++++++++++++X++++++++++++++++++++++++++


PW0

    0000000000111111111122222222223333333333444444444455555555556666
    0123456789012345678901234567890123456789012345678901234567890123
 00 --+++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++
 01 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 02 --+++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++
 03 ---++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++
 04 ++++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 05 -------++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 06 -+++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 07 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 08 --+++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++
 09 -----+++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++
 10 -+++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 11 ------+-++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 12 ++++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 13 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 14 --+++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++
 15 ---++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++


NW0

    0000000000111111111122222222223333333333444444444455555555556666
    0123456789012345678901234567890123456789012345678901234567890123
 00 ---------+++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 01 --------------+++++++++++++++++++++++++X++++++++++++++++++++++++
 02 -----------++++++++++++++++++++++++++X++++++++++++++++++++++++++
 03 ---------+++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 04 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 05 -------------+++++++++++++++++++++++++X+++++++++++++++++++++++++
 06 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 07 ------------++++++++++++++++++++++++++X+++++++++++++++++++++++++
 08 ---------+++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 09 ------------++++++++++++++++++++++++++X+++++++++++++++++++++++++
 10 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 11 ------------++++++++++++++++++++++++++X+++++++++++++++++++++++++
 12 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 13 ------------++++++++++++++++++++++++++X+++++++++++++++++++++++++
 14 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 15 -----------++++++++++++++++++++++++++X++++++++++++++++++++++++++


WRDQW0

    0000000000111111111122222222223333333333444444444455555555556666
    0123456789012345678901234567890123456789012345678901234567890123
 00 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 01 -+++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++-
 02 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 03 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 04 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 05 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 06 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 07 -+++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++-
 08 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 09 ---++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++-
 10 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 11 ---++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++-
 12 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 13 -+++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++-
 14 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 15 --++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++-


WRDMW0 00000031
WRDMW0 00000031


ADDR

    0000000000111111111122222222223333333333444444444455555555556666
    0123456789012345678901234567890123456789012345678901234567890123
 00 +++++++++++++++++++++++++++++++X+++++S++++++++++++++++++++++++++

Decompressing...done


CFE for Foxconn Router R6300v2 version: v1.0.15
Build Date: Fri May 24 13:47:09 CST 2013
Init Arena
Init Devs.
Boot up from NAND flash...
Boot partition size = 262144(0x40000)
DDR Clock: 533 MHz
Info: DDR frequency set from clkfreq=800,*533*
et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 6.30.163.2002 (r382208)
CPU type 0x0: 800MHz
Tot mem: 262144 KBytes

Device eth0:  hwaddr 04-A1-51-BB-B6-B9, ipaddr 192.168.1.1, mask 255.255.255.0
        gateway not set, nameserver not set
Checking crc...Loader:raw Filesys:raw Dev:nflash0.os File: Options:(null)
Loading: .. 1215758 bytes read
Entry at 0x00008000
Closing network.
Starting program at 0x00008000
[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 3.14.18 (openwrt@gb-14) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r42757) ) #1 SMP Sun Oct 5 00:36:06 UTC 2014
[    0.000000] CPU: ARMv7 Processor [413fc090] revision 0 (ARMv7), cr=10c53c7d
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] Machine model: Netgear R6300 V2 (BCM4708)
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] PERCPU: Embedded 7 pages/cpu @c7ee7000 s6784 r8192 d13696 u32768
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 32512
[    0.000000] Kernel command line: console=ttyS0,115200
[    0.000000] PID hash table entries: 512 (order: -1, 2048 bytes)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Memory: 126232K/131072K available (2490K kernel code, 101K rwdata, 672K rodata, 150K init, 185K bss, 4840K reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xfff00000 - 0xfffe0000   ( 896 kB)
[    0.000000]     vmalloc : 0xc8800000 - 0xff000000   ( 872 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xc8000000   ( 128 MB)
[    0.000000]     modules : 0xbf000000 - 0xc0000000   (  16 MB)
[    0.000000]       .text : 0xc0008000 - 0xc031edbc   (3164 kB)
[    0.000000]       .init : 0xc031f000 - 0xc0344a80   ( 151 kB)
[    0.000000]       .data : 0xc0346000 - 0xc035f4c0   ( 102 kB)
[    0.000000]        .bss : 0xc035f4c0 - 0xc038db70   ( 186 kB)
[    0.000000] Hierarchical RCU implementation.
[    0.000000]  RCU restricting CPUs from NR_CPUS=4 to nr_cpu_ids=2.
[    0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.000000] NR_IRQS:16 nr_irqs:16 16
[    0.000021] sched_clock: 64 bits at 400MHz, resolution 2ns, wraps every 2748779069440ns
[    0.000377] Calibrating delay loop... 1594.16 BogoMIPS (lpj=7970816)
[    0.090223] pid_max: default: 32768 minimum: 301
[    0.090455] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.090480] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.091462] CPU: Testing write buffer coherency: ok
[    0.091905] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091994] Setting up static identity map for 0x12380 - 0x123b4
[    0.094472] CPU1: failed to boot: -38
[    0.094538] Brought up 1 CPUs
[    0.094551] SMP: Total of 1 processors activated.
[    0.094558] CPU: All CPU(s) started in SVC mode.
[    0.106452] NET: Registered protocol family 16
[    0.107303] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.110289] L310 cache controller enabled
[    0.110314] l2x0: 16 ways, CACHE_ID 0x410000c8, AUX_CTRL 0x0a130000, Cache size: 256 kB
[    0.117898] bio: create slab &lt;bio-0&gt; at 0
[    0.120356] Switched to clocksource arm_global_timer
[    0.122722] bcma: bus0: Found chip with id 53010, rev 0x00 and package 0x02
[    0.122798] bcma: bus0: Core 0 found: ChipCommon (manuf 0x4BF, id 0x800, rev 0x2A, class 0x0)
[    0.122891] bcma: bus0: Core 1 found: Chipcommon B (manuf 0x4BF, id 0x50B, rev 0x01, class 0x0)
[    0.122971] bcma: bus0: Core 2 found: DMA (manuf 0x4BF, id 0x502, rev 0x01, class 0x0)
[    0.123046] bcma: bus0: Core 3 found: GBit MAC (manuf 0x4BF, id 0x82D, rev 0x04, class 0x0)
[    0.123123] bcma: bus0: Core 4 found: GBit MAC (manuf 0x4BF, id 0x82D, rev 0x04, class 0x0)
[    0.123203] bcma: bus0: Core 5 found: GBit MAC (manuf 0x4BF, id 0x82D, rev 0x04, class 0x0)
[    0.123288] bcma: bus0: Core 6 found: GBit MAC (manuf 0x4BF, id 0x82D, rev 0x04, class 0x0)
[    0.123332] bcma: bus0: Core 7 found: PCIe Gen 2 (manuf 0x4BF, id 0x501, rev 0x01, class 0x0)
[    0.123391] bcma: bus0: Core 8 found: PCIe Gen 2 (manuf 0x4BF, id 0x501, rev 0x01, class 0x0)
[    0.123475] bcma: bus0: Core 9 found: ARM Cortex A9 core (ihost) (manuf 0x4BF, id 0x510, rev 0x01, class 0x0)
[    0.123535] bcma: bus0: Core 10 found: USB 2.0 (manuf 0x4BF, id 0x504, rev 0x01, class 0x0)
[    0.123600] bcma: bus0: Core 11 found: USB 3.0 (manuf 0x4BF, id 0x505, rev 0x01, class 0x0)
[    0.123679] bcma: bus0: Core 12 found: SDIO3 (manuf 0x4BF, id 0x503, rev 0x01, class 0x0)
[    0.123761] bcma: bus0: Core 13 found: ARM Cortex A9 JTAG (manuf 0x4BF, id 0x506, rev 0x01, class 0x0)
[    0.123843] bcma: bus0: Core 14 found: Denali DDR2/DDR3 memory controller (manuf 0x4BF, id 0x507, rev 0x01, class 0x0)
[    0.123927] bcma: bus0: Core 15 found: ROM (manuf 0x4BF, id 0x508, rev 0x01, class 0x0)
[    0.124018] bcma: bus0: Core 16 found: NAND flash controller (manuf 0x4BF, id 0x509, rev 0x01, class 0x0)
[    0.124100] bcma: bus0: Core 17 found: SPI flash controller (manuf 0x4BF, id 0x50A, rev 0x01, class 0x0)
[    0.124548] bcma: bus0: Using fallback SPROM failed (err -2)
[    0.124560] bcma: bus0: No SPROM available
[    0.127014] bcma: bus0: Bus registered
[    0.127461] NET: Registered protocol family 2
[    0.128331] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.128361] TCP bind hash table entries: 1024 (order: 1, 8192 bytes)
[    0.128387] TCP: Hash tables configured (established 1024 bind 1024)
[    0.128464] TCP: reno registered
[    0.128481] UDP hash table entries: 256 (order: 1, 8192 bytes)
[    0.128526] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)
[    0.128814] NET: Registered protocol family 1
[    0.130855] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.131702] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.131720] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.131927] msgmni has been set to 246
[    0.132165] io scheduler noop registered
[    0.132179] io scheduler deadline registered (default)
[    0.132447] pcie2_bcma bcma0:7: scanning bus
[    0.382164] pcie2_bcma bcma0:7: switching to GEN2
[    0.631971] pcie2_bcma bcma0:7: PCI host bridge to bus 0000:00
[    0.631995] pci_bus 0000:00: root bus resource [mem 0x08000000-0x0fffffff]
[    0.632010] pci_bus 0000:00: root bus resource [io  0x8000000-0xfffffff]
[    0.632024] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]
[    0.632450] PCI: bus0: Fast back to back transfers disabled
[    0.633148] PCI: bus1: Fast back to back transfers disabled
[    0.633242] pci 0000:00:00.0: BAR 8: assigned [mem 0x08000000-0x080fffff]
[    0.633260] pci 0000:01:00.0: BAR 0: assigned [mem 0x08000000-0x08003fff 64bit]
[    0.633285] pci 0000:00:00.0: PCI bridge to [bus 01]
[    0.633302] pci 0000:00:00.0:   bridge window [mem 0x08000000-0x080fffff]
[    0.633395] PCI: enabling device 0000:00:00.0 (0140 -&gt; 0143)
[    0.633413] PCI: enabling device 0000:01:00.0 (0140 -&gt; 0142)
[    0.633460] bcma: bus0: Found chip with id 0x4331, rev 0x02 and package 0x08
[    0.633501] bcma: bus1: Core 0 found: ChipCommon (manuf 0x4BF, id 0x800, rev 0x25, class 0x0)
[    0.633535] bcma: bus1: Core 1 found: IEEE 802.11 (manuf 0x4BF, id 0x812, rev 0x1D, class 0x0)
[    0.633579] bcma: bus1: Core 2 found: PCIe (manuf 0x4BF, id 0x820, rev 0x13, class 0x0)
[    0.715151] bcma: bus1: Invalid SPROM read from the PCIe card, trying to use fallback SPROM
[    0.715162] bcma: bus1: Using fallback SPROM failed (err -2)
[    0.715169] bcma: bus1: No SPROM available
[    0.790700] bcma: bus1: Bus registered
[    0.790757] pcie2_bcma bcma0:8: scanning bus
[    1.040490] pcie2_bcma bcma0:8: switching to GEN2
[    1.290408] pcie2_bcma bcma0:8: PCI host bridge to bus 0001:00
[    1.290431] pci_bus 0001:00: root bus resource [mem 0x40000000-0x47ffffff]
[    1.290446] pci_bus 0001:00: root bus resource [io  0x40000000-0x47ffffff]
[    1.290460] pci_bus 0001:00: No busn resource found for root bus, will use [bus 00-ff]
[    1.290899] PCI: bus0: Fast back to back transfers disabled
[    1.291584] PCI: bus1: Fast back to back transfers disabled
[    1.291689] pci 0001:00:00.0: BAR 8: assigned [mem 0x40000000-0x400fffff]
[    1.291708] pci 0001:01:00.0: BAR 0: assigned [mem 0x40000000-0x40007fff 64bit]
[    1.291732] pci 0001:00:00.0: PCI bridge to [bus 01]
[    1.291748] pci 0001:00:00.0:   bridge window [mem 0x40000000-0x400fffff]
[    1.292222] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    1.296121] 18000300.serial: ttyS0 at MMIO 0x18000300 (irq = 117, base_baud = 6250000) is a 16550
[    2.042449] console [ttyS0] enabled
[    2.046529] 18000400.serial: ttyS1 at MMIO 0x18000400 (irq = 117, base_baud = 6250000) is a 16550
[    2.080232] bcmnand: NAND Controller rev 6.1
[    2.120318] nand: device found, Manufacturer ID: 0xec, Chip ID: 0xf1
[    2.126643] nand: Samsung NAND 128MiB 3,3V 8-bit
[    2.131262] nand: 128MiB, SLC, page size: 2048, OOB size: 64
[    2.501108] 14 bcm47xxpart partitions found on MTD device bcmnand
[    2.507175] Creating 14 MTD partitions on &quot;bcmnand&quot;:
[    2.512132] 0x000000000000-0x000000080000 : &quot;boot&quot;
[    2.519557] 0x000000080000-0x000000200000 : &quot;nvram&quot;
[    2.529672] 0x000000200000-0x000000220000 : &quot;board_data&quot;
[    2.536474] 0x000000220000-0x000000240000 : &quot;POT&quot;
[    2.542689] 0x000000240000-0x0000002c0000 : &quot;POT&quot;
[    2.549882] 0x0000002c0000-0x0000002e0000 : &quot;ML&quot;
[    2.556027] 0x0000002e0000-0x000000300000 : &quot;ML&quot;
[    2.562238] 0x000000300000-0x000000320000 : &quot;ML&quot;
[    2.568341] 0x000000320000-0x000000340000 : &quot;ML&quot;
[    2.574516] 0x000000340000-0x000000360000 : &quot;ML&quot;
[    2.580701] 0x000000360000-0x000000380000 : &quot;ML&quot;
[    2.586798] 0x000000380000-0x000008000000 : &quot;firmware&quot;
[    2.928848] 0x00000038001c-0x0000004aac00 : &quot;linux&quot;
[    2.933766] mtd: partition &quot;linux&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    2.950733] 0x0000004aac00-0x000008000000 : &quot;rootfs&quot;
[    2.955688] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    3.301786] mtd: device 13 (rootfs) set to be root filesystem
[    3.308330] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x680000, len=0x7980000
[    3.316694] 0x000000680000-0x000008000000 : &quot;rootfs_data&quot;
[    3.648191] random: nonblocking pool is initialized
[    3.655764] bcmnand: Broadcom NAND Controller driver loaded
[    3.662468] bcm53xxspiflash spi32766.0: unrecognized JEDEC id ffffff
[    3.669268] bgmac bcma0:3: Invalid MAC addr: 00:00:00:00:00:00
[    3.675143] bgmac bcma0:3: Using random MAC: 5e:83:57:23:ea:c8
[    3.681042] bgmac bcma0:3: Found PHY addr: 0
[    3.688291] libphy: bgmac mii bus: probed
[    3.771667] b53_common: found switch: BCM53011, rev 2
[    3.777636] bgmac bcma0:4: Invalid MAC addr: 00:00:00:00:00:00
[    3.783524] bgmac bcma0:4: Using random MAC: 4a:43:85:fd:c0:82
[    3.789414] bgmac bcma0:4: Found PHY addr: 0
[    3.796723] libphy: bgmac mii bus: probed
[    3.881206] bgmac: Unsupported core_unit 2
[    3.885302] bgmac: probe of bcma0:5 failed with error -524
[    3.890824] bgmac: Unsupported core_unit 3
[    3.894912] bgmac: probe of bcma0:6 failed with error -524
[    3.900575] bgmac: Broadcom 47xx GBit MAC driver loaded
[    3.906054] TCP: cubic registered
[    3.909364] NET: Registered protocol family 17
[    3.913919] Bridge firewalling registered
[    3.917922] 8021q: 802.1Q VLAN Support v1.8
[    3.929544] VFS: Mounted root (squashfs filesystem) readonly on device 31:13.
[    3.936928] Freeing unused kernel memory: 148K (c031f000 - c0344000)
[    4.264940] External imprecise Data abort at addr=0xb6fdc005, fsr=0x1c06 ignored.
procd: Console is alive
procd: - preinit -
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
jffs2 is not ready - marker found
procd: - early -
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[   14.100718] NET: Registered protocol family 10
[   14.109208] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   14.119523] Loading modules backported from Linux version master-2014-09-26-0-g25e3efa
[   14.127482] Backport generated by backports.git backports-20140905-1-gde42785
[   14.136594] ip_tables: (C) 2000-2006 Netfilter Core Team
[   14.147881] nf_conntrack version 0.5.0 (1974 buckets, 7896 max)
[   14.174297] xt_time: kernel timezone is -0000
[   14.190514] cfg80211: Calling CRDA to update world regulatory domain
[   14.200317] cfg80211: World regulatory domain updated:
[   14.205450] cfg80211:  DFS Master region: unset
[   14.209787] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   14.219544] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   14.227533] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   14.235528] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   14.243514] cfg80211:   (5170000 KHz - 5250000 KHz @ 160000 KHz), (N/A, 2000 mBm), (N/A)
[   14.251593] cfg80211:   (5250000 KHz - 5330000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   14.259651] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   14.267725] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   14.275712] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   14.312408] PPP generic driver version 2.4.2
[   14.318417] NET: Registered protocol family 24
[   14.331847] b43-phy0: Broadcom 4331 WLAN found (core revision 29)
[   14.340265] b43-phy0: Found PHY: Analog 9, Type 7 (HT), Revision 1
[   14.346429] b43-phy0: Found Radio: Manuf 0x17F, ID 0x2059, Revision 0, Version 1
[   14.353807] b43-phy0 warning: 5 GHz band is unsupported on this PHY
[   14.405399] Broadcom 43xx driver loaded [ Features: PNL ]
[   18.254115] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
[   19.241240] jffs2_build_filesystem(): unlocking the mtd device... done.
[   19.247850] jffs2_build_filesystem(): erasing all blocks after the end marker...
[   19.480133] device eth0.1 entered promiscuous mode
[   19.485306] device eth0 entered promiscuous mode
[   19.498332] br-lan: port 1(eth0.1) entered forwarding state
[   19.503980] br-lan: port 1(eth0.1) entered forwarding state
[   21.500213] br-lan: port 1(eth0.1) entered forwarding state
[   70.565849] done.
[   70.567809] jffs2: notice: (830) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
procd: - init complete -



BusyBox v1.22.1 (2014-10-05 00:20:43 UTC) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 CHAOS CALMER (Bleeding Edge, r42757)
 -----------------------------------------------------
  * 1 1/2 oz Gin            Shake with a glassful
  * 1/4 oz Triple Sec       of broken ice and pour
  * 3/4 oz Lime Juice       unstrained into a goblet.
  * 1 1/2 oz Orange Juice
  * 1 tsp. Grenadine Syrup
 -----------------------------------------------------
root@OpenWrt:/#


root@OpenWrt:/# uname -a
Linux OpenWrt 3.14.18 #1 SMP Sun Oct 5 00:36:06 UTC 2014 armv7l GNU/Linux
root@OpenWrt:/# cat /proc/cpuinfo
processor       : 0
model name      : ARMv7 Processor rev 0 (v7l)
Features        : swp half thumb fastmult edsp tls
CPU implementer : 0x41
CPU architecture: 7
CPU variant     : 0x3
CPU part        : 0xc09
CPU revision    : 0

Hardware        : BCM5301X
Revision        : 0000
Serial          : 0000000000000000
root@OpenWrt:/# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                  121.5M      3.0M    118.5M   2% /
/dev/root                 1.8M      1.8M         0 100% /rom
tmpfs                    61.7M     52.0K     61.7M   0% /tmp
tmpfs                    61.7M     32.0K     61.7M   0% /tmp/root
tmpfs                   512.0K         0    512.0K   0% /dev
/dev/mtdblock14         121.5M      3.0M    118.5M   2% /overlay
overlayfs:/overlay      121.5M      3.0M    118.5M   2% /
root@OpenWrt:/#</code></pre></div><p>I noticed it only finds the 2.4ghz wifi radio. Is the 5ghz radio not supported?</p><p>Also, how stable is this code?</p><p>I should have the GPIO mappings by tomorrow.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249346">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						6 Oct 2014, 05:09					</div>
				</div>
				<div class="post-content content">
					<p>It appears as though overlay is not working. After a reboot it seems the changes I made in /etc/config were lost. I made some changes to the system file but it appears after the reboot it&#039;s using the default one.</p><p>*edit*</p><p>It appears my config settings are reset upon reboot but any opkg I install remains. Interesting....</p><br/><div class="codebox"><pre><code> 
root@OpenWrt:~# reboot
procd: - shutdown -
root@OpenWrt:~# [  164.573399] br-lan: port 1(eth0.1) entered disabled state
[  164.587863] device eth0.1 left promiscuous mode
[  164.592476] device eth0 left promiscuous mode
[  164.596958] br-lan: port 1(eth0.1) entered disabled state
[  164.607154] IPv6: ADDRCONF(NETDEV_UP): eth0.1: link is not ready
procd:[  164.879027] reboot: Restarting system
 - reboot -
Decompressing...done

SHMOO VER 1.13

PKID07DC06011801080000000000001A103F01000000

S300402DB
00002500


RDLYW0 00000004

RDENW0 00000049

RDQSW0

    0000000000111111111122222222223333333333444444444455555555556666
    0123456789012345678901234567890123456789012345678901234567890123
 00 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 01 -------------+++++++++++++++++++++++++X+++++++++++++++++++++++++
 02 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 03 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 04 ----++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++
 05 ------------++++++++++++++++++++++++++X+++++++++++++++++++++++++
 06 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 07 ----------+++++++++++++++++++++++++++X++++++++++++++++++++++++++
 08 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 09 ----------+++++++++++++++++++++++++++X++++++++++++++++++++++++++
 10 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 11 -----------++++++++++++++++++++++++++X++++++++++++++++++++++++++
 12 -----+++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++
 13 -----------++++++++++++++++++++++++++X++++++++++++++++++++++++++
 14 -------++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 15 ---------+++++++++++++++++++++++++++X+++++++++++++++++++++++++++


PW0

    0000000000111111111122222222223333333333444444444455555555556666
    0123456789012345678901234567890123456789012345678901234567890123
 00 -+++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 01 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 02 -+++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 03 ---++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++
 04 ++++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 05 -------++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 06 ++++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 07 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 08 -+++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 09 -----+++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++
 10 -+++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 11 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 12 ++++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++
 13 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 14 --+++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++
 15 ---++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++


NW0

    0000000000111111111122222222223333333333444444444455555555556666
    0123456789012345678901234567890123456789012345678901234567890123
 00 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 01 -------------+++++++++++++++++++++++++X+++++++++++++++++++++++++
 02 --------++++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 03 -------++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 04 -----+++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++
 05 -----------++++++++++++++++++++++++++X++++++++++++++++++++++++++
 06 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 07 ----------+++++++++++++++++++++++++++X++++++++++++++++++++++++++
 08 -------+-+++++++++++++++++++++++++++X+++++++++++++++++++++++++++
 09 -----------++++++++++++++++++++++++++X++++++++++++++++++++++++++
 10 ------+++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 11 -----------++++++++++++++++++++++++++X++++++++++++++++++++++++++
 12 -----+++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++
 13 -----------++++++++++++++++++++++++++X++++++++++++++++++++++++++
 14 -------++++++++++++++++++++++++++++X++++++++++++++++++++++++++++
 15 ---------+++++++++++++++++++++++++++X+++++++++++++++++++++++++++


WRDQW0

    0000000000111111111122222222223333333333444444444455555555556666
    0123456789012345678901234567890123456789012345678901234567890123
 00 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 01 --++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++-
 02 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 03 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 04 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 05 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 06 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 07 -+++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++-
 08 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 09 ---++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++-
 10 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 11 ---++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++-
 12 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 13 -+++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++-
 14 +++++++++++++++++++++++++++++++X+++++++++++++++++++++++++++++++-
 15 --++++++++++++++++++++++++++++++X++++++++++++++++++++++++++++++-


WRDMW0 00000031
WRDMW0 00000031


ADDR

    0000000000111111111122222222223333333333444444444455555555556666
    0123456789012345678901234567890123456789012345678901234567890123
 00 +++++++++++++++++++++++++++++++X+++++S++++++++++++++++++++++++++

Decompressing...done


CFE for Foxconn Router R6300v2 version: v1.0.15
Build Date: Fri May 24 13:47:09 CST 2013
Init Arena
Init Devs.
Boot up from NAND flash...
Boot partition size = 262144(0x40000)
DDR Clock: 533 MHz
Info: DDR frequency set from clkfreq=800,*533*
et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 6.30.163.2002 (r382208)
CPU type 0x0: 800MHz
Tot mem: 262144 KBytes

Device eth0:  hwaddr 04-A1-51-BB-B6-B9, ipaddr 192.168.1.1, mask 255.255.255.0
        gateway not set, nameserver not set
Checking crc...Loader:raw Filesys:raw Dev:nflash0.os File: Options:(null)
Loading: .. 1215758 bytes read
Entry at 0x00008000
Closing network.
Starting program at 0x00008000
[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 3.14.18 (openwrt@gb-14) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r42757) ) #1 SMP Sun Oct 5 00:36:06 UTC 2014
[    0.000000] CPU: ARMv7 Processor [413fc090] revision 0 (ARMv7), cr=10c53c7d
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] Machine model: Netgear R6300 V2 (BCM4708)
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] PERCPU: Embedded 7 pages/cpu @c7ee7000 s6784 r8192 d13696 u32768
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 32512
[    0.000000] Kernel command line: console=ttyS0,115200
[    0.000000] PID hash table entries: 512 (order: -1, 2048 bytes)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Memory: 126232K/131072K available (2490K kernel code, 101K rwdata, 672K rodata, 150K init, 185K bss, 4840K reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xfff00000 - 0xfffe0000   ( 896 kB)
[    0.000000]     vmalloc : 0xc8800000 - 0xff000000   ( 872 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xc8000000   ( 128 MB)
[    0.000000]     modules : 0xbf000000 - 0xc0000000   (  16 MB)
[    0.000000]       .text : 0xc0008000 - 0xc031edbc   (3164 kB)
[    0.000000]       .init : 0xc031f000 - 0xc0344a80   ( 151 kB)
[    0.000000]       .data : 0xc0346000 - 0xc035f4c0   ( 102 kB)
[    0.000000]        .bss : 0xc035f4c0 - 0xc038db70   ( 186 kB)
[    0.000000] Hierarchical RCU implementation.
[    0.000000]  RCU restricting CPUs from NR_CPUS=4 to nr_cpu_ids=2.
[    0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2
[    0.000000] NR_IRQS:16 nr_irqs:16 16
[    0.000020] sched_clock: 64 bits at 400MHz, resolution 2ns, wraps every 2748779069440ns
[    0.000375] Calibrating delay loop... 1594.16 BogoMIPS (lpj=7970816)
[    0.090219] pid_max: default: 32768 minimum: 301
[    0.090451] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.090478] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.091455] CPU: Testing write buffer coherency: ok
[    0.091899] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091989] Setting up static identity map for 0x12380 - 0x123b4
[    0.094451] CPU1: failed to boot: -38
[    0.094516] Brought up 1 CPUs
[    0.094531] SMP: Total of 1 processors activated.
[    0.094540] CPU: All CPU(s) started in SVC mode.
[    0.106488] NET: Registered protocol family 16
[    0.107343] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.110347] L310 cache controller enabled
[    0.110373] l2x0: 16 ways, CACHE_ID 0x410000c8, AUX_CTRL 0x0a130000, Cache size: 256 kB
[    0.117989] bio: create slab &lt;bio-0&gt; at 0
[    0.120462] Switched to clocksource arm_global_timer
[    0.122841] bcma: bus0: Found chip with id 53010, rev 0x00 and package 0x02
[    0.122916] bcma: bus0: Core 0 found: ChipCommon (manuf 0x4BF, id 0x800, rev 0x2A, class 0x0)
[    0.123007] bcma: bus0: Core 1 found: Chipcommon B (manuf 0x4BF, id 0x50B, rev 0x01, class 0x0)
[    0.123088] bcma: bus0: Core 2 found: DMA (manuf 0x4BF, id 0x502, rev 0x01, class 0x0)
[    0.123163] bcma: bus0: Core 3 found: GBit MAC (manuf 0x4BF, id 0x82D, rev 0x04, class 0x0)
[    0.123239] bcma: bus0: Core 4 found: GBit MAC (manuf 0x4BF, id 0x82D, rev 0x04, class 0x0)
[    0.123319] bcma: bus0: Core 5 found: GBit MAC (manuf 0x4BF, id 0x82D, rev 0x04, class 0x0)
[    0.123402] bcma: bus0: Core 6 found: GBit MAC (manuf 0x4BF, id 0x82D, rev 0x04, class 0x0)
[    0.123448] bcma: bus0: Core 7 found: PCIe Gen 2 (manuf 0x4BF, id 0x501, rev 0x01, class 0x0)
[    0.123508] bcma: bus0: Core 8 found: PCIe Gen 2 (manuf 0x4BF, id 0x501, rev 0x01, class 0x0)
[    0.123591] bcma: bus0: Core 9 found: ARM Cortex A9 core (ihost) (manuf 0x4BF, id 0x510, rev 0x01, class 0x0)
[    0.123651] bcma: bus0: Core 10 found: USB 2.0 (manuf 0x4BF, id 0x504, rev 0x01, class 0x0)
[    0.123716] bcma: bus0: Core 11 found: USB 3.0 (manuf 0x4BF, id 0x505, rev 0x01, class 0x0)
[    0.123797] bcma: bus0: Core 12 found: SDIO3 (manuf 0x4BF, id 0x503, rev 0x01, class 0x0)
[    0.123877] bcma: bus0: Core 13 found: ARM Cortex A9 JTAG (manuf 0x4BF, id 0x506, rev 0x01, class 0x0)
[    0.123957] bcma: bus0: Core 14 found: Denali DDR2/DDR3 memory controller (manuf 0x4BF, id 0x507, rev 0x01, class 0x0)
[    0.124041] bcma: bus0: Core 15 found: ROM (manuf 0x4BF, id 0x508, rev 0x01, class 0x0)
[    0.124134] bcma: bus0: Core 16 found: NAND flash controller (manuf 0x4BF, id 0x509, rev 0x01, class 0x0)
[    0.124216] bcma: bus0: Core 17 found: SPI flash controller (manuf 0x4BF, id 0x50A, rev 0x01, class 0x0)
[    0.124676] bcma: bus0: Using fallback SPROM failed (err -2)
[    0.124690] bcma: bus0: No SPROM available
[    0.127158] bcma: bus0: Bus registered
[    0.127616] NET: Registered protocol family 2
[    0.128483] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.128514] TCP bind hash table entries: 1024 (order: 1, 8192 bytes)
[    0.128541] TCP: Hash tables configured (established 1024 bind 1024)
[    0.128618] TCP: reno registered
[    0.128636] UDP hash table entries: 256 (order: 1, 8192 bytes)
[    0.128681] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)
[    0.128971] NET: Registered protocol family 1
[    0.131014] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.131861] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.131879] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.132079] msgmni has been set to 246
[    0.132323] io scheduler noop registered
[    0.132337] io scheduler deadline registered (default)
[    0.132611] pcie2_bcma bcma0:7: scanning bus
[    0.382331] pcie2_bcma bcma0:7: switching to GEN2
[    0.632135] pcie2_bcma bcma0:7: PCI host bridge to bus 0000:00
[    0.632161] pci_bus 0000:00: root bus resource [mem 0x08000000-0x0fffffff]
[    0.632176] pci_bus 0000:00: root bus resource [io  0x8000000-0xfffffff]
[    0.632190] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]
[    0.632615] PCI: bus0: Fast back to back transfers disabled
[    0.633313] PCI: bus1: Fast back to back transfers disabled
[    0.633408] pci 0000:00:00.0: BAR 8: assigned [mem 0x08000000-0x080fffff]
[    0.633427] pci 0000:01:00.0: BAR 0: assigned [mem 0x08000000-0x08003fff 64bit]
[    0.633452] pci 0000:00:00.0: PCI bridge to [bus 01]
[    0.633469] pci 0000:00:00.0:   bridge window [mem 0x08000000-0x080fffff]
[    0.633559] PCI: enabling device 0000:00:00.0 (0140 -&gt; 0143)
[    0.633577] PCI: enabling device 0000:01:00.0 (0140 -&gt; 0142)
[    0.633623] bcma: bus0: Found chip with id 0x4331, rev 0x02 and package 0x08
[    0.633663] bcma: bus1: Core 0 found: ChipCommon (manuf 0x4BF, id 0x800, rev 0x25, class 0x0)
[    0.633699] bcma: bus1: Core 1 found: IEEE 802.11 (manuf 0x4BF, id 0x812, rev 0x1D, class 0x0)
[    0.633743] bcma: bus1: Core 2 found: PCIe (manuf 0x4BF, id 0x820, rev 0x13, class 0x0)
[    0.715316] bcma: bus1: Invalid SPROM read from the PCIe card, trying to use fallback SPROM
[    0.715328] bcma: bus1: Using fallback SPROM failed (err -2)
[    0.715335] bcma: bus1: No SPROM available
[    0.790700] bcma: bus1: Bus registered
[    0.790755] pcie2_bcma bcma0:8: scanning bus
[    1.040491] pcie2_bcma bcma0:8: switching to GEN2
[    1.290413] pcie2_bcma bcma0:8: PCI host bridge to bus 0001:00
[    1.290437] pci_bus 0001:00: root bus resource [mem 0x40000000-0x47ffffff]
[    1.290451] pci_bus 0001:00: root bus resource [io  0x40000000-0x47ffffff]
[    1.290465] pci_bus 0001:00: No busn resource found for root bus, will use [bus 00-ff]
[    1.290902] PCI: bus0: Fast back to back transfers disabled
[    1.291586] PCI: bus1: Fast back to back transfers disabled
[    1.291692] pci 0001:00:00.0: BAR 8: assigned [mem 0x40000000-0x400fffff]
[    1.291710] pci 0001:01:00.0: BAR 0: assigned [mem 0x40000000-0x40007fff 64bit]
[    1.291734] pci 0001:00:00.0: PCI bridge to [bus 01]
[    1.291750] pci 0001:00:00.0:   bridge window [mem 0x40000000-0x400fffff]
[    1.292225] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    1.296131] 18000300.serial: ttyS0 at MMIO 0x18000300 (irq = 117, base_baud = 6250000) is a 16550
[    2.042471] console [ttyS0] enabled
[    2.046570] 18000400.serial: ttyS1 at MMIO 0x18000400 (irq = 117, base_baud = 6250000) is a 16550
[    2.080232] bcmnand: NAND Controller rev 6.1
[    2.120312] nand: device found, Manufacturer ID: 0xec, Chip ID: 0xf1
[    2.126638] nand: Samsung NAND 128MiB 3,3V 8-bit
[    2.131259] nand: 128MiB, SLC, page size: 2048, OOB size: 64
[    2.539855] 14 bcm47xxpart partitions found on MTD device bcmnand
[    2.545937] Creating 14 MTD partitions on &quot;bcmnand&quot;:
[    2.550891] 0x000000000000-0x000000080000 : &quot;boot&quot;
[    2.558313] 0x000000080000-0x000000200000 : &quot;nvram&quot;
[    2.568424] 0x000000200000-0x000000220000 : &quot;board_data&quot;
[    2.575234] 0x000000220000-0x000000240000 : &quot;POT&quot;
[    2.581437] 0x000000240000-0x0000002c0000 : &quot;POT&quot;
[    2.588645] 0x0000002c0000-0x0000002e0000 : &quot;ML&quot;
[    2.594820] 0x0000002e0000-0x000000300000 : &quot;ML&quot;
[    2.601059] 0x000000300000-0x000000320000 : &quot;ML&quot;
[    2.607175] 0x000000320000-0x000000340000 : &quot;ML&quot;
[    2.613342] 0x000000340000-0x000000360000 : &quot;ML&quot;
[    2.619448] 0x000000360000-0x000000380000 : &quot;ML&quot;
[    2.625587] 0x000000380000-0x000008000000 : &quot;firmware&quot;
[    2.967684] 0x00000038001c-0x0000004aac00 : &quot;linux&quot;
[    2.972598] mtd: partition &quot;linux&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    2.989514] 0x0000004aac00-0x000008000000 : &quot;rootfs&quot;
[    2.994509] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    3.340739] mtd: device 13 (rootfs) set to be root filesystem
[    3.347283] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x680000, len=0x7980000
[    3.355636] 0x000000680000-0x000008000000 : &quot;rootfs_data&quot;
[    3.646743] random: nonblocking pool is initialized
[    3.694750] bcmnand: Broadcom NAND Controller driver loaded
[    3.701443] bcm53xxspiflash spi32766.0: unrecognized JEDEC id ffffff
[    3.708244] bgmac bcma0:3: Invalid MAC addr: 00:00:00:00:00:00
[    3.714121] bgmac bcma0:3: Using random MAC: 4a:43:a8:f9:c9:8b
[    3.720008] bgmac bcma0:3: Found PHY addr: 0
[    3.727271] libphy: bgmac mii bus: probed
[    3.811681] b53_common: found switch: BCM53011, rev 2
[    3.817644] bgmac bcma0:4: Invalid MAC addr: 00:00:00:00:00:00
[    3.823529] bgmac bcma0:4: Using random MAC: 7a:b3:d7:48:48:8a
[    3.829420] bgmac bcma0:4: Found PHY addr: 0
[    3.836730] libphy: bgmac mii bus: probed
[    3.921198] bgmac: Unsupported core_unit 2
[    3.925300] bgmac: probe of bcma0:5 failed with error -524
[    3.930826] bgmac: Unsupported core_unit 3
[    3.934909] bgmac: probe of bcma0:6 failed with error -524
[    3.940572] bgmac: Broadcom 47xx GBit MAC driver loaded
[    3.946060] TCP: cubic registered
[    3.949370] NET: Registered protocol family 17
[    3.953923] Bridge firewalling registered
[    3.957927] 8021q: 802.1Q VLAN Support v1.8
[    3.969547] VFS: Mounted root (squashfs filesystem) readonly on device 31:13.
[    3.976933] Freeing unused kernel memory: 148K (c031f000 - c0344000)
[    4.305404] External imprecise Data abort at addr=0xb6fb6005, fsr=0x1c06 ignored.
procd: Console is alive
procd: - preinit -
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
No jffs2 marker was found
procd: - early -
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[   13.567599] NET: Registered protocol family 10
[   13.576175] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   13.586683] Loading modules backported from Linux version master-2014-09-26-0-g25e3efa
[   13.594631] Backport generated by backports.git backports-20140905-1-gde42785
[   13.603641] ip_tables: (C) 2000-2006 Netfilter Core Team
[   13.614967] nf_conntrack version 0.5.0 (1974 buckets, 7896 max)
[   13.641511] xt_time: kernel timezone is -0000
[   13.660524] cfg80211: Calling CRDA to update world regulatory domain
[   13.668427] cfg80211: World regulatory domain updated:
[   13.673639] cfg80211:  DFS Master region: unset
[   13.677982] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   13.687712] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   13.695703] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   13.703689] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   13.711674] cfg80211:   (5170000 KHz - 5250000 KHz @ 160000 KHz), (N/A, 2000 mBm), (N/A)
[   13.719733] cfg80211:   (5250000 KHz - 5330000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   13.727803] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   13.735872] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   13.743858] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   13.779817] PPP generic driver version 2.4.2
[   13.785883] NET: Registered protocol family 24
[   13.798833] b43-phy0: Broadcom 4331 WLAN found (core revision 29)
[   13.810285] b43-phy0: Found PHY: Analog 9, Type 7 (HT), Revision 1
[   13.816447] b43-phy0: Found Radio: Manuf 0x17F, ID 0x2059, Revision 0, Version 1
[   13.823841] b43-phy0 warning: 5 GHz band is unsupported on this PHY
[   13.875629] Broadcom 43xx driver loaded [ Features: PNL ]
[   18.840593] device eth0.1 entered promiscuous mode
[   18.845377] device eth0 entered promiscuous mode
[   18.882174] br-lan: port 1(eth0.1) entered forwarding state
[   18.887780] br-lan: port 1(eth0.1) entered forwarding state
[   20.880211] br-lan: port 1(eth0.1) entered forwarding state
[   21.821727] jffs2: notice: (828) jffs2_build_xattr_subsystem: complete building xattr subsystem, 3 of xdatum (0 unchecked, 2 orphan) and 18 of xref (0 dead, 12 orphan) found.
procd: - init complete -



BusyBox v1.22.1 (2014-10-05 00:20:43 UTC) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 CHAOS CALMER (Bleeding Edge, r42757)
 -----------------------------------------------------
  * 1 1/2 oz Gin            Shake with a glassful
  * 1/4 oz Triple Sec       of broken ice and pour
  * 3/4 oz Lime Juice       unstrained into a goblet.
  * 1 1/2 oz Orange Juice
  * 1 tsp. Grenadine Syrup
 -----------------------------------------------------
root@OpenWrt:/#

root@OpenWrt:/# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                  121.5M      3.1M    118.4M   3% /
/dev/root                 1.8M      1.8M         0 100% /rom
tmpfs                    61.7M     56.0K     61.7M   0% /tmp
tmpfs                    61.7M     24.0K     61.7M   0% /tmp/root
tmpfs                   512.0K         0    512.0K   0% /dev
/dev/mtdblock14         121.5M      3.1M    118.4M   3% /overlay
overlayfs:/overlay      121.5M      3.1M    118.4M   3% /
root@OpenWrt:/# cd /overlay/etc/config
root@OpenWrt:/overlay/etc/config# cat system
config system
        option hostname OpenWrt
        option timezone UTC

config timeserver ntp
        list server     0.openwrt.pool.ntp.org
        list server     1.openwrt.pool.ntp.org
        list server     2.openwrt.pool.ntp.org
        list server     3.openwrt.pool.ntp.org
        option enabled 1
        option enable_server 0</code></pre></div>											<p class="post-edited">(Last edited by <strong>tusc</strong> on 6 Oct 2014, 18:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249405">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						6 Oct 2014, 18:43					</div>
				</div>
				<div class="post-content content">
					<p>Here are the results for the GPIO tests:</p><br/><p>Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GPIO&nbsp; &nbsp; &nbsp; &nbsp; Polarity<br/>Netgear logo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Active high<br/>power light - green&nbsp; &nbsp; 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Active low<br/>power light - amber&nbsp; &nbsp;3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Active low<br/>usb light&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Active low<br/>wifi light&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Active low</p><p>The one LED that is missing from this list is the Internet Globe icon. None of the gpio settings seemed to turn this led on.</p><p>As for the two buttons (Wifi on/off and WPS):</p><p>GPIO 5 has a value of 0 when Wifi is pressed</p><div class="codebox"><pre><code>root@OpenWrt:~# diff nopress  wifi_button
6c6
&lt; [GPIO5] value 1
---
&gt; [GPIO5] value 0</code></pre></div><p>GPIO 4 has a value of 0 when WPS button is pressed</p><div class="codebox"><pre><code>root@OpenWrt:~# diff nopress wps_button
5c5
&lt; [GPIO4] value 1
---
&gt; [GPIO4] value 0</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249406">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						6 Oct 2014, 19:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tusc wrote:</cite><blockquote><p>usb light&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Active low<br/>wifi light&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Active low</p></blockquote></div><p>Nice work!<br/>What color is USB LED?<br/>What color is WiFi LED?</p><p>It&#039;s normal that some LEDs (like the Internet globe) can&#039;t be controller using GPIOs <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249409">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						6 Oct 2014, 19:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><div class="quotebox"><cite>tusc wrote:</cite><blockquote><p>usb light&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Active low<br/>wifi light&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;11&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Active low</p></blockquote></div><p>Nice work!<br/>What color is USB LED?<br/>What color is WiFi LED?</p><p>It&#039;s normal that some LEDs (like the Internet globe) can&#039;t be controller using GPIOs <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p></blockquote></div><br/><p>Oh, forgot to include that. They are both blue.</p><p>Zajec,</p><p>on another topic. It seems support for the BCM4331 radio is limited at best right now within OpenWRT (i.e. lack of 802.11n, just g right now). It doesn&#039;t seem like this will change anytime soon.</p><p> Is it possible to use the broadcom-wl driver with this model for full N functionality (and possibly provide support for the BCM4360 802.ac radio)? Thanks.</p><p>If this is of any help i installed the pci utils package:</p><br/><div class="codebox"><pre><code>root@OpenWrt:~# lspci  -nn -k
0000:00:00.0 PCI bridge [0604]: Broadcom Corporation Device [14e4:8011] (rev 01)
0000:01:00.0 Network controller [0280]: Broadcom Corporation BCM4331 802.11a/b/g/n [14e4:4331] (rev 02)
        Subsystem: Broadcom Corporation BCM4331 802.11a/b/g/n [14e4:4331]
        Kernel driver in use: bcma-pci-bridge
0001:00:00.0 PCI bridge [0604]: Broadcom Corporation Device [14e4:8011] (rev 01)
0001:01:00.0 Network controller [0280]: Broadcom Corporation Device [14e4:4360] (rev 03)
        Subsystem: Broadcom Corporation Device [14e4:4360]</code></pre></div>											<p class="post-edited">(Last edited by <strong>tusc</strong> on 6 Oct 2014, 19:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249416">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						6 Oct 2014, 19:57					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the info. One last question: it seems you forgot about RESET button. I&#039;m pretty sure there is one on the back. Does it use GPIO 6 just like in case of Netgear R6250? It seems that R6250 and R6300 V2 use the same board and just differ by a wireless cards.</p><p>Unfortunately broadcom-wl is quite old and we can&#039;t really get a newer version. It doesn&#039;t support HT-PHY (BCM4331) or AC-PHY (BCM4352, BCM4360).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249428">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						6 Oct 2014, 21:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Thanks for the info. One last question: it seems you forgot about RESET button. I&#039;m pretty sure there is one on the back. Does it use GPIO 6 just like in case of Netgear R6250? It seems that R6250 and R6300 V2 use the same board and just differ by a wireless cards.</p></blockquote></div><br/><p>Whoops. Here it is. Pressing the reset button GPIO 6 returns a value of 0.</p><p>root@OpenWrt:~# diff nopress&nbsp; reset_button<br/>7c7<br/>&lt; [GPIO6] value 1<br/>---<br/>&gt; [GPIO6] value 0</p><br/><br/><div class="quotebox"><blockquote><p>Unfortunately broadcom-wl is quite old and we can&#039;t really get a newer version. It doesn&#039;t support HT-PHY (BCM4331) or AC-PHY (BCM4352, BCM4360).</p></blockquote></div><p>Ah, that&#039;s unfortunate. It appears version 5.10.56.27.3 is being used as part of openwrt&#039;s current build but a more recent version is available from Broadcom, version 6.30.223.248&nbsp; - <a href="http://www.broadcom.com/support/802.11/linux_sta.php">http://www.broadcom.com/support/802.11/linux_sta.php</a> ). The readme file even states BCM4331 is supported. <a href="http://www.broadcom.com/docs/linux_sta/README_6.30.223.248.txt">http://www.broadcom.com/docs/linux_sta/  23.248.txt</a></p><p>I realize closed sourced drivers is not in the spirit of OpenWrt&#039;s goals but if it means the ability to use all available resources on the device I would think most users would be open to it (no pun intended).</p><p>Looking at the options from <a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm47xx#wifi.drivers">http://wiki.openwrt.org/doc/hardware/so  fi.drivers</a><br/>it appears brcm80211 is not an option as the 4331 is not shown as currently supported.</p><p>I&#039;m new to all of this and just trying to read up on what&#039;s possible with this router at this time. Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249456">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						7 Oct 2014, 00:07					</div>
				</div>
				<div class="post-content content">
					<p>I just tried configuring wireless using the default file and it does not seem to start:</p><div class="codebox"><pre><code>Sun Oct  5 00:26:38 2014 daemon.notice netifd: radio0 (1038): Configuration file: /var/run/hostapd-phy0.conf
Sun Oct  5 00:26:38 2014 daemon.notice netifd: radio0 (1038): Could not set interface wlan0 flags (UP): Cannot assign requested address
Sun Oct  5 00:26:38 2014 daemon.notice netifd: radio0 (1038): nl80211: Could not set interface &#039;wlan0&#039; UP
Sun Oct  5 00:26:38 2014 daemon.notice netifd: radio0 (1038): nl80211 driver initialization failed.
Sun Oct  5 00:26:38 2014 daemon.notice netifd: radio0 (1038): hostapd_free_hapd_data: Interface wlan0 wasn&#039;t started
Sun Oct  5 00:26:38 2014 daemon.notice netifd: radio0 (1038): cat: can&#039;t open &#039;/var/run/wifi-phy0.pid&#039;: No such file or directory
Sun Oct  5 00:26:38 2014 daemon.notice netifd: radio0 (1038): Command failed: Invalid argument
Sun Oct  5 00:26:38 2014 daemon.notice netifd: radio0 (1038): Device setup failed: HOSTAPD_START_FAILED</code></pre></div><p>contents of /etc/config/wireless:</p><div class="codebox"><pre><code>config wifi-device  radio0
        option type     mac80211
        option channel  11
        option hwmode   11g
        option path     &#039;18000000.axi/bcma0:7/pci0000:00/0000:00:00.0/0000:01:00.0/bcma1:1&#039;
        option htmode

config wifi-iface
        option device   radio0
        option network  lan
        option mode     ap
        option ssid     OpenWrt
        option encryption none</code></pre></div><p>If I comment out the option path in the config file I receive this:</p><div class="codebox"><pre><code>Sun Oct  5 00:40:57 2014 daemon.notice netifd: radio0 (1485): Could not find PHY for device &#039;radio0&#039;
Sun Oct  5 00:40:57 2014 daemon.notice netifd: radio0 (1491): WARNING: Variable &#039;data&#039; does not exist or is not an array/object</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249465">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						7 Oct 2014, 01:10					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your help tusc, I&#039;ve commited LEDs and buttons support for R6300 V2: <a href="https://dev.openwrt.org/changeset/42827/">https://dev.openwrt.org/changeset/42827/</a></p><div class="quotebox"><cite>tusc wrote:</cite><blockquote><p>Ah, that&#039;s unfortunate. It appears version 5.10.56.27.3 is being used as part of openwrt&#039;s current build but a more recent version is available from Broadcom, version 6.30.223.248&nbsp; - <a href="http://www.broadcom.com/support/802.11/linux_sta.php">http://www.broadcom.com/support/802.11/linux_sta.php</a> ). The readme file even states BCM4331 is supported. <a href="http://www.broadcom.com/docs/linux_sta/README_6.30.223.248.txt">http://www.broadcom.com/docs/linux_sta/  23.248.txt</a></p><p>I realize closed sourced drivers is not in the spirit of OpenWrt&#039;s goals but if it means the ability to use all available resources on the device I would think most users would be open to it (no pun intended).</p></blockquote></div><p>Uhh, it seems we explain this closed source driver problem once per week at least. I&#039;ve updated wiki page:<br/><a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm47xx#broadcom-wl">http://wiki.openwrt.org/doc/hardware/so  roadcom-wl</a><br/>see if broadcom-wl&#039;s state is clear now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249476">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						7 Oct 2014, 02:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><p>Uhh, it seems we explain this closed source driver problem once per week at least. I&#039;ve updated wiki page:<br/><a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm47xx#broadcom-wl">http://wiki.openwrt.org/doc/hardware/so  roadcom-wl</a><br/>see if broadcom-wl&#039;s state is clear now.</p></blockquote></div><p>This sentence explained it well regarding broadcom-wl:</p><p>&quot;So despite providing support for more hardware it can&#039;t be integrated into OpenWrt because of lacking support for MIPS/ARM and important features like AP mode.&quot;</p><p>That sucks.</p><p>So for the foreseeable future under Openwrt this router will not have 802.11n support and no 5ghz band support,&nbsp; just 802.11g, despite it being a powerful device with dual Coretex A9 core and 256MB of ram. bummer.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249619">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						7 Oct 2014, 22:06					</div>
				</div>
				<div class="post-content content">
					<p>Zajec,</p><p>any idea why I cannot activate wifi and files in the config directory aren&#039;t save between reboots?</p><p>I&#039;m running r42830 I built myself with the config from your download page.</p><p>*edit*</p><p>I presume the issue with wifi is the lack of a mac address:</p><div class="codebox"><pre><code>root@OpenWrt:~# cat /sys/class/ieee80211/phy0/macaddress
00:00:00:00:00:00</code></pre></div>											<p class="post-edited">(Last edited by <strong>tusc</strong> on 7 Oct 2014, 22:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249742">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						8 Oct 2014, 17:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nroberto13 wrote:</cite><blockquote><p>I see netgear publishes the sources of their firmware</p><p><a href="http://www.downloads.netgear.com/files/GPL/R6300v2-V1.0.3.8_1.0.60_src.tar.zip">www.downloads.netgear.com/files/GPL/R6300v2-V1.0.3.8_1.0.60_src.tar.zip</a></p><p>I assume this should contain all the drivers, right?</p></blockquote></div><br/><p>nroberto13,</p><p>The reason the Netgear source cannot be used is because it relies on a relatively old toolchain and Linux kernel, version. 2.6.36. The&nbsp; source tree is littered with pre-compiles binaries (*.o and *.ko). None of them would link with the current openwrt releases.</p><br/><p>Zajec,</p><p>what&#039;s the likelihood of repurposing the Broadcom drivers from current R6300v2 DD-WRT builds? Kong is currently maintaining the latest Broadcom drivers in his builds and currently at kernel version 3.10.54? By compiling the openwrt build for R6300v2 using the same kernel version would these Broadcom binaries be usable?</p><p><a href="http://desipro.de/ddwrt/K3-AC-Arm/Changelog">http://desipro.de/ddwrt/K3-AC-Arm/Changelog</a></p>											<p class="post-edited">(Last edited by <strong>tusc</strong> on 8 Oct 2014, 17:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249819">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						9 Oct 2014, 10:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tusc wrote:</cite><blockquote><p>what&#039;s the likelihood of repurposing the Broadcom drivers from current R6300v2 DD-WRT builds? Kong is currently maintaining the latest Broadcom drivers in his builds and currently at kernel version 3.10.54? By compiling the openwrt build for R6300v2 using the same kernel version would these Broadcom binaries be usable?</p><p><a href="http://desipro.de/ddwrt/K3-AC-Arm/Changelog">http://desipro.de/ddwrt/K3-AC-Arm/Changelog</a></p></blockquote></div><p>Extract the driver (wl.ko most likely), copy to OpenWrt and try to insert (hint: insmod). Let us know about the results.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250030">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						10 Oct 2014, 18:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><div class="quotebox"><cite>tusc wrote:</cite><blockquote><p>what&#039;s the likelihood of repurposing the Broadcom drivers from current R6300v2 DD-WRT builds? Kong is currently maintaining the latest Broadcom drivers in his builds and currently at kernel version 3.10.54? By compiling the openwrt build for R6300v2 using the same kernel version would these Broadcom binaries be usable?</p><p><a href="http://desipro.de/ddwrt/K3-AC-Arm/Changelog">http://desipro.de/ddwrt/K3-AC-Arm/Changelog</a></p></blockquote></div><p>Extract the driver (wl.ko most likely), copy to OpenWrt and try to insert (hint: insmod). Let us know about the results.</p></blockquote></div><br/><p>Before I get to that I need to compile a clean 3.10 image for bcm53xx. Right now I&#039;m struggling with bringing in patches for 3.10 on bcm53xx that were taken out back in r42203. I tried to just use the patches-3.14 directory against the 3.10 build but some of the patches are not applying.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250444">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">tusc</div>
					<div class="post-datetime">
						14 Oct 2014, 00:09					</div>
				</div>
				<div class="post-content content">
					<p>Zajec,</p><p>I&#039;ve tried to back rev the 3.14 patches into the 3.10.56 kernel with limited success. I managed to compile the kernel without error but upon bootup the image does not startup. It just hangs.</p><br/><div class="codebox"><pre><code>Decompressing...done


CFE for Foxconn Router R6300v2 version: v1.0.15
Build Date: Fri May 24 13:47:09 CST 2013
Init Arena
Init Devs.
Boot up from NAND flash...
Boot partition size = 262144(0x40000)
DDR Clock: 533 MHz
Info: DDR frequency set from clkfreq=800,*533*
et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 6.30.163.2002 (r382208)
CPU type 0x0: 800MHz
Tot mem: 262144 KBytes

Device eth0:  hwaddr 04-A1-51-BB-B6-B9, ipaddr 192.168.1.1, mask 255.255.255.0
        gateway not set, nameserver not set
Loader:raw Filesys:tftp Dev:eth0 File:192.168.1.2:vmlinuz Options:(null)
Loading: Failed.
Could not load 192.168.1.2:vmlinuz: Timeout occured
Checking crc...Loader:raw Filesys:raw Dev:nflash0.os File: Options:(null)
Loading: .. 1148989 bytes read
Entry at 0x00008000
Starting program at 0x00008000
Closing network.</code></pre></div><p>On a separate note, I managed to get a Nighthawk r7000 for a good price. I connected the serial USB cable and&nbsp; tried to load it with the 6300v2 image but it expects a different board ID.</p><p>Would it be possible for you create a patch similar to <a href="https://dev.openwrt.org/changeset/42743">https://dev.openwrt.org/changeset/42743</a> in order to get the R7000 to load a proper image? Thanks.</p><div class="codebox"><pre><code>CFE&gt; tftpd
Start TFTP server
Reading :: Done. 7344186 bytes read
Board ID : U12H270T00_NETGEAR
Image ID : U12H240T00_NETGEAR
Reading ::</code></pre></div><p>If we can get the Kong wl binaries to work on Openwrt for the 6300v2 and R7000 you would probably see a large influx of new users!</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=46758&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=46758&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=46758&amp;p=4.html">4</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>