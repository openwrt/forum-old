<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Unable to install OpenWrt on a Buffalo WZR-HP-G300NH</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p139502">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ohmer</div>
					<div class="post-datetime">
						20 Jul 2011, 20:05					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I tried to install OpenWrt backfire on my router without success.&nbsp; I tried 10.03, 10.03.1-rc4 and 10.03.1-rc5.&nbsp; I flash the firmware from DD-WRT with ssh like it&#039;s written on the wiki page (http://wiki.openwrt.org/toh/buffalo/wzr-hp-g300h?s[]=table&amp;s[]=hardware).&nbsp; I also tried to push the firmware with TFTP.</p><p>The router just don&#039;t work with OpenWrt firmware.&nbsp; The LED diagnostic stay red for some seconds, then the LED router flash for some seconds and then stay stable.&nbsp; The power LED is on from beginning.</p><p>I&#039;m not able to get ip from DHCP and the router is not working more when I assign a static ip in the 192.168.1.x range.</p><p>I&#039;m able to push DD-WRT firmware with TFTP to &quot;unbrick&quot; the router.</p><p>Any idea what&#039;s wrong?</p><p>Thank you!</p>											<p class="post-edited">(Last edited by <strong>ohmer</strong> on 20 Jul 2011, 20:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139505">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ohmer</div>
					<div class="post-datetime">
						20 Jul 2011, 20:59					</div>
				</div>
				<div class="post-content content">
					<p>I succeed to flash firmware for G301NH from trunk (snapshot).&nbsp; The firmware for G300NH from trunk is not working more with my router.</p><p>My G300NH revision is &quot;A2 A0&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139507">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">chmcwill</div>
					<div class="post-datetime">
						20 Jul 2011, 21:07					</div>
				</div>
				<div class="post-content content">
					<p>I have found that the newer Buffalo routers are very sensitive to the TFTP process and ended up using Ubuntu 10.10 within VirtualBox to do any of the TFTP flashing. There are instructions online for this and I have recently flashed OpenWRT onto 4 WZR-HP-G300NH&#039;s (Backfire 10.03.1-RC5) and 2 WZR-HP-AG300H&#039;s (trunk). Here are the steps which I have used:</p><p>1. boot with ubunto live cd,<br />2. sudo apt-get update<br />3. sudo apt-get install tftp-hpa</p><p>4. sudo /etc/init.d/networking stop<br />5. sudo ifconfig eth0 192.168.11.2<br />6. sudo ifconfig eth0 netmask 255.255.255.0 </p><p>7. sudo arp -s 192.168.11.1 [MAC Address without :&#039;s]</p><p>8. tftp 192.168.11.1<br />9. tftp&gt;binary<br />10. tftp&gt;rexmt 1<br />11. tftp&gt;timeout 60<br />12. tftp&gt;connect 192.168.11.1<br />13. tftp&gt;put openwrt-10.03.1-rc5-ar71xx-wzr-hp-g300nh-squashfs-tftp.bin</p><br /><p>14. connect your router and power on (as quickly as possible)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139509">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ohmer</div>
					<div class="post-datetime">
						20 Jul 2011, 21:19					</div>
				</div>
				<div class="post-content content">
					<p>I had no problem to flash with tftp after I added arp entry for 02:aa:bb:cc:dd:1a.&nbsp; &nbsp;(I first tried with real mac but it was hit &amp; miss).&nbsp; But this is not the problem I have right now.&nbsp; After flashing, firmware for G300NH is not responding but firmware for G301NH seem to work.</p>											<p class="post-edited">(Last edited by <strong>ohmer</strong> on 20 Jul 2011, 21:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139512">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">ohmer</div>
					<div class="post-datetime">
						20 Jul 2011, 22:26					</div>
				</div>
				<div class="post-content content">
					<p>Mmmm my router is &quot;working&quot;, but i&#039;m unable to use luci.&nbsp; The uhttpd deamon is not starting.&nbsp; &quot;No sockets bound, unable to continue&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139516">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">chmcwill</div>
					<div class="post-datetime">
						20 Jul 2011, 23:02					</div>
				</div>
				<div class="post-content content">
					<p>I have ONLY had to use the 02AABBCCDD20 MAC address wih the WZR-HP-AG300H router, on all the WZR-HP-G300NH&#039;s&nbsp; I have used their actual MAC Address which is stamped on the side of the router. Using the Backfire 10.03.1-RC5 I had not issues using LuCI out of the box, but with the Trunk editions, LuCI and SSH are NOT enabled out of the box. You will need to connect the router&#039;s WAN port to the internet and then do the following using a telnet session (or if you have already set the password using PASSWD on a telnet session, you will have to use SSH as telnet will be disabled).</p><p>LuCI installation Do:</p><p>1) opkg update</p><p> then for LuCI without HTTPS support </p><p>2) opkg install luci </p><p>and for LuCI with HTTPS support </p><p>3) opkg install luci-ssl</p><p>then continue with </p><p>4) /etc/init.d/uhttpd enable<br />5) /etc/init.d/uhttpd start<br />6) netstat -a<br />7) iptables -I INPUT -j ACCEPT -i eth0.1 -p tcp --dport 80<br />8) iptables -I INPUT -j ACCEPT -i eth0.1 -p tcp --dport 443 </p><p>You should now be able to connect with a webbrowser.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139520">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ohmer</div>
					<div class="post-datetime">
						20 Jul 2011, 23:25					</div>
				</div>
				<div class="post-content content">
					<p>Thank you chmcwill.&nbsp; It made uhttp to start.</p><p>i still have a problem, i&#039;m redirected to 192.168.1.1/cgi-bin/luci but that display a white page.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139524">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">chmcwill</div>
					<div class="post-datetime">
						20 Jul 2011, 23:36					</div>
				</div>
				<div class="post-content content">
					<p>Yes, that is common. Depending on which OS you are running, you might need to clear the ARP tables to resolve that as I have had to do in the past when flashing multiple routers together. Under Windows 7, you will need to run a Command Prompt as administrator and do an ARP -d to clear. Also, might want to disconnect from the router, making sure that you don&#039;t have any other wired or wireless connections active before connecting back to the router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139811">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">lbarrosoneto</div>
					<div class="post-datetime">
						24 Jul 2011, 10:14					</div>
				</div>
				<div class="post-content content">
					<p>Gents,</p><p>I am having trouble flashing my WZR-HP-G300NH using the procedure described.<br />I used the following image: <a href="http://downloads.openwrt.org/backfire/10.03.1-rc5/ar71xx/openwrt-ar71xx-wzr-hp-g300nh-squashfs-tftp.bin">http://downloads.openwrt.org/backfire/1 … s-tftp.bin</a><br />And did the TFTP&nbsp; upload procedure:<br />tftp&gt; binary<br />tftp&gt; verbose<br />Verbose mode on.<br />tftp&gt; rexmt 1<br />tftp&gt; timeout 60<br />tftp&gt; put openwrt-ar71xx-wzr-hp-g300nh-squashfs-tftp.bin<br />putting openwrt-ar71xx-wzr-hp-g300nh-squashfs-tftp.bin to 192.168.11.1:openwrt-ar71xx-wzr-hp-g300nh-squashfs-tftp.bin [octet]<br />Sent 3407904 bytes in 29.6 seconds [919589 bit/s]</p><p>After the upload, DIAG stays on for some time, then router starts to blink, then stos blinking.</p><p>My router seems to be blocked :(<br />Using the same procedure, i am&nbsp; able to upload the firmwares provided by buffalo.</p><p>Am i missing any step? or using a wrong file?</p><p>Thanks,</p><p>Luiz</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139876">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">chmcwill</div>
					<div class="post-datetime">
						25 Jul 2011, 07:20					</div>
				</div>
				<div class="post-content content">
					<p>Did you do the following before the TFTP?</p><p>4. sudo /etc/init.d/networking stop<br />5. sudo ifconfig eth0 192.168.11.2<br />6. sudo ifconfig eth0 netmask 255.255.255.0<br />7. sudo arp -s 192.168.11.1 [MAC Address without :&#039;s]</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139877">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">lbarrosoneto</div>
					<div class="post-datetime">
						25 Jul 2011, 07:58					</div>
				</div>
				<div class="post-content content">
					<p>Yes, I did.<br />sent DATA &lt;block=9472, 512 bytes&gt;<br />received ACK &lt;block=9472&gt;<br />sent DATA &lt;block=9473, 0 bytes&gt;<br />received ACK &lt;block=9473&gt;<br />Sent 4849664 bytes in 24.2 seconds [1602282 bit/s]</p><p>TFTP actually seems to be working fine.<br />The problem is that looks like my router seems to be accepting only buffalo provided firmwares.<br />I am able to load user friendly and professional firmwares via TFTP but not a custom openwrt.</p><p>The router is for US and should not have the JP problem, right?<br />Looks like the buffalo firmware has Redboot as bootloader.<br />Hardware is A2 A0.</p><p>Thanks,</p><p>Luiz Oliveira</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140142">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">lbarrosoneto</div>
					<div class="post-datetime">
						28 Jul 2011, 09:08					</div>
				</div>
				<div class="post-content content">
					<p>Hello, All</p><p>I connected a serial cable to the router.<br />Actually, the router boots but does not enable the ethernet ports.<br />The problem is reported here: <a href="https://forum.openwrt.org/viewtopic.php?pid=126796">https://forum.openwrt.org/viewtopic.php?pid=126796</a><br />This is the error i get:<br />&quot;Realtek RTL8366S ethernet switch driver version 0.2.2<br />rtl8366s rtl8366s: using GPIO pins 19 (SDA) and 20 (SCK)<br />rtl8366s rtl8366s: unknown chip id (0000)<br />rtl8366s rtl8366s: chip detection failed, err=-19<br />eth0: Atheros AG71xx at 0xb9000000, irq 4<br />eth0: unable to find MII bus on device &#039;rtl8366s&#039;<br />eth0: Atheros AG71xx at 0xba000000, irq 5<br />eth0: unable to find MII bus on device &#039;rtl8366s&#039;<br />&quot;</p><p>By the way, this is already fixed in the SVN Trunk for Openwrt (<a href="https://dev.openwrt.org/changeset/27785">https://dev.openwrt.org/changeset/27785</a>)</p><p>Regards,</p><p>Luiz de Barros</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140395">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">bcmalloy</div>
					<div class="post-datetime">
						1 Aug 2011, 14:08					</div>
				</div>
				<div class="post-content content">
					<p>currently running a Buffalo WZR-HP-G300NH&nbsp; A2 A0<br />Firmware Version DD-WRT v24SP2-EU-US (08/19/10) std - build 14998</p><p>I just bought from the USA on the back it has A2 A0 printed on the back I think it may be an updated model for new buyers now.<br />heads up to to anyone who wants to try Openwrt it bricks this router at the moment, hope you guys can fix it , would love to try openwrt.</p><br /><p>Here&#039;s the output from dmesg | grep rtl_chip I think it&#039;s different on this updated model.</p><p>login as: root<br />DD-WRT v24-sp2 std (c) 2010 NewMedia-NET GmbH<br />Release: 08/19/10 (SVN revision: 14998)<br />root@192.168.1.2&#039;s password:<br />==========================================================</p><p>____ ___ __ ______ _____ ____ _ _<br />| _ \| _ \ \ \ / / _ \_ _| __ _|___ \| || |<br />|| | || ||____\ \ /\ / /| |_) || | \ \ / / __) | || |_<br />||_| ||_||_____\ V V / | _ &lt; | | \ V / / __/|__ _|<br />|___/|___/ \_/\_/ |_| \_\|_| \_/ |_____| |_|</p><p>DD-WRT v24-sp2<br /><a href="http://www.dd-wrt.com">http://www.dd-wrt.com</a></p><p>==========================================================</p><br /><p>BusyBox v1.13.4 (2010-08-19 15:28:04 CEST) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>root@DD-WRT:~# dmesg | grep rtl_chip<br />&lt;0&gt;rtl_chip_type_select:RTL8366RB<br />&lt;0&gt;rtl_chip_type_select:RTL8366RB</p>											<p class="post-edited">(Last edited by <strong>bcmalloy</strong> on 1 Aug 2011, 14:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140399">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						1 Aug 2011, 15:22					</div>
				</div>
				<div class="post-content content">
					<p>This should be fixed in the upcoming RC6, could you try this image please?<br /><a href="http://openwrt.linux-appliance.net/ar71xx/openwrt-ar71xx-wzr-hp-g300nh-squashfs-tftp.bin">http://openwrt.linux-appliance.net/ar71 … s-tftp.bin</a></p><p>It will autodetect the rtl8366s/rb switch.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140510">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">bcmalloy</div>
					<div class="post-datetime">
						3 Aug 2011, 07:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>This should be fixed in the upcoming RC6, could you try this image please?<br /><a href="http://openwrt.linux-appliance.net/ar71xx/openwrt-ar71xx-wzr-hp-g300nh-squashfs-tftp.bin">http://openwrt.linux-appliance.net/ar71 … s-tftp.bin</a></p><p>It will autodetect the rtl8366s/rb switch.</p></blockquote></div><p>Just tested this, not working&nbsp; I just get a solid red light with no activity and no ip address.</p><p> I installed openwrt-ar71xx-generic-wzr-hp-g301nh-squashfs-tftp.bin a couple of days ago and got it working <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-wzr-hp-g301nh-squashfs-tftp.bin">http://downloads.openwrt.org/snapshots/ … s-tftp.bin</a><br />but the file appears to have gone, I have uploaded for you here <a href="http://www.mediafire.com/?p41tesaa95ogki8">http://www.mediafire.com/?p41tesaa95ogki8</a></p><p>I had to manually install the luci interface but it&#039;s the best firmware I&#039;ve ever used despite the 40mhz option in the wireless is a little buggy,<br />it&#039;s makes ddwrt look not so good and my router work beautify.</p><p>I&#039;ll happily test any other images, an image that works OTB would be great, openddwrt is the best router firmware I&#039;ve ever seen.</p>											<p class="post-edited">(Last edited by <strong>bcmalloy</strong> on 3 Aug 2011, 07:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140708">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">tanstaafl</div>
					<div class="post-datetime">
						6 Aug 2011, 19:20					</div>
				</div>
				<div class="post-content content">
					<p>Ok, looks like I just ran into this monster... I also have the A2 A0 version, and looks like I just bricked mine...</p><p>I followed the instructions written here:</p><p><a href="http://wiki.openwrt.org/toh/buffalo/wzr-hp-g300h#migrate.from.dd-wrt.to.openwrt">http://wiki.openwrt.org/toh/buffalo/wzr … to.openwrt</a></p><p>But used the rc5 image instead...</p><p>Mine never seemed to reboot and Putty just stopped responding. I waited about an hour, then tried rebooting it, and all it does is the red Diag light comes on for a few seconds, then the green Router light flashes for about 5 seconds, then goes out, and I&#039;m left with just the power light on (and the blue Off light at the bottom), and don&#039;t get an IP from a wired connection.</p><p>I am not that well versed in hacking these things, but am fully capable of following instructions as long as they are right... would some kind soul please point me to correct instructions for unbricking this thing until rc6 comes out?</p><p>Thanks</p><p>Charles</p>											<p class="post-edited">(Last edited by <strong>tanstaafl</strong> on 6 Aug 2011, 19:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140741">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">bcmalloy</div>
					<div class="post-datetime">
						7 Aug 2011, 09:31					</div>
				</div>
				<div class="post-content content">
					<p>WZR-HP-G300NH&nbsp; A2 A0 Openwrt installation guide for windows users Easiest way</p><p>UPDATE: Got cracking on OPENWRT and compiled a version (OpenWrt Firmware Attitude Adjustment (r28043) ) for this router with the web interface built in follow the instructions in file.<br /><a href="http://www.mediafire.com/?niact3uvd3b0y25">http://www.mediafire.com/?niact3uvd3b0y25</a><br /> (see guide below <a href="https://forum.openwrt.org/viewtopic.php?pid=140742#p140742)">https://forum.openwrt.org/viewtopic.php … 2#p140742)</a>&nbsp; and goto 192.168.1.1 to login and configure router and save yourself the headache.</p><p>Note:ALL credit goes to the openwrt team</p><p>-----------------------------------------------------------------------------------------------------------------------------------------</p><p>The only way I could get it to work was tftp this image to router but note you have to manually install the web interface and can only use the command line after you flash it.<br /><a href="http://158.108.8.148/openwrt/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-wzr-hp-g301nh-squashfs-tftp.bin">http://158.108.8.148/openwrt/snapshots/ … s-tftp.bin</a></p><p>1.Once you flash the image with tftp I use pumpKIN <a href="http://kin.klever.net/pumpkin">http://kin.klever.net/pumpkin</a><br />because it&#039;s more reliable, after about 4 min telnet to router I use <br />putty <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">http://www.chiark.greenend.org.uk/~sgtatham/putty/</a><br />then change the password with the command <br />passwd</p><p>2.now shh into router after setting your IP address back to obtain automatically and plug a network cable into the WAN port that is internet enabled, go to point 3 if you need to get a ppoe connection going first <br />go to point 2.5</p><p>2.5 You can edit the config file easily on the router and get your ppoe connection if your using a bridged modem by using WinSCP&nbsp; <a href="http://winscp.net/eng/index.php">http://winscp.net/eng/index.php</a><br /> just connect to the router with winSCP and ensure file protocol &quot;SCP&quot; is selected, navigate to<br />/ect/config/</p><p>right Click on &quot;network&quot; and choose edit<br />you will see a line like this edit the&nbsp; username and password lines and ensure all other lines are the same then reboot your router</p><p>config &#039;interface&#039; &#039;wan&#039;<br />&nbsp; &nbsp; option &#039;ifname&#039; &#039;eth1&#039;<br />&nbsp; &nbsp; option &#039;proto&#039; &#039;pppoe&#039;<br />&nbsp; &nbsp; option &#039;username&#039; &#039;myusername&#039;<br />&nbsp; &nbsp; option &#039;password&#039; &#039;mypassword&#039;</p><p>Now you internet should be up you will be able to install luci (the web interface)</p><br /><p>3.ssh into router L:root and the password you chose in point 1</p><p>4.Enter these commands to install the web interface.</p><p>opkg update<br />opkg install luci-ssl<br />/etc/init.d/uhttpd enable<br />/etc/init.d/uhttpd start<br />netstat -a<br />iptables -I INPUT -j ACCEPT -i eth0.1 -p tcp --dport 80<br />iptables -I INPUT -j ACCEPT -i eth0.1 -p tcp --dport 443<br />/etc/init.d/uhttpd enable</p><p>Ok now the web interface is installed and you can simply login at 192.168.1.1 in your web browser.</p><p>Works great on my WZR-HP-G300NH&nbsp; A2 A0</p><p>Then in the web browser you probably want to go into the software tab and click update.<br />then choose luci upnp to install upnp for windows then go to services tab choose unpnp and click enable<br />then choose luci qos&nbsp; &nbsp;to get Quality of service running go to network tab and choose qos to set it up.</p><p>Now your router has the features common on most commercial routers, but is very stable. Mine has been up for a week no problems</p>											<p class="post-edited">(Last edited by <strong>bcmalloy</strong> on 20 Aug 2011, 15:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140742">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">bcmalloy</div>
					<div class="post-datetime">
						7 Aug 2011, 09:57					</div>
				</div>
				<div class="post-content content">
					<p>WZR-HP-G300NH TFTP flashing and recovery guide for windows 7</p><p>Before flashing any firmware write down your routers MAC address!! looks like this 4C-E6-76-3F-2F-CA It should be written on the box mine is just a set of numbers like this 4CE6763F2FCA with no spaces</p><p>1.Download pumpKIN <a href="http://kin.klever.net/pumpkin">http://kin.klever.net/pumpkin</a> save you wasting time with tftp and the&nbsp; command line</p><p>2.Unplug all the ethernet cable and the power cable and connect the computer directly to the router(still leave it off)</p><p>3.Go to Control Panel\Network and Internet\Network Connections in win7 <br />right click on local area connection and choose &quot;properties&quot;<br />choose &quot;internet protocol version 4&quot;<br />click properties then click &quot;use the following ip address&quot;&nbsp; <br />Enter these values:<br />IP address 192.168.11.2, subnet mask 255.255.255.0, default gateway192.168.11.1</p><p>4.then turn off firewall go to Control Panel\Network and Internet\Network and Sharing Centre click on windows firewall then<br />choose &quot;turn windows firewall on or off&quot; then click on every &quot;turn windows firewall off&quot; box.</p><p>5.Open a Windows command prompt as Administrator. type cmd in the search box from Start menu, then press Ctrl+Shift+Enter. You will be prompted with the User Account Control dialogue choose yes. OR just right click on CMD and choose run as administrator.<br />Type the command <br />route print <br />to get a list of your NIC(s). Write down the interface number for the LAN card, in my case, it&#039;s 11, you may need to scroll up. mine is the first one &quot;Realtek PCIe GBE Family Controller&quot;</p><p>6.Now type the command below to get the ARP binding(thanks ermax at DD-WRT forum):<br />Replacing the number 11 with the interface number and 00-1d-12-34-56-78 with the router&#039;s MAC address.</p><p>netsh interface ipv4 add neighbors 11 192.168.11.1 4C-E6-76-3F-2F-CA</p><p>Eg: if your adaptor was no 10 and your mac address is 00:00:00:00:00 it would be <br />netsh interface ipv4 add neighbours 10 192.168.11.1 00-00-00-00-00-00</p><p>7.Run pumpKIN utility choose &quot;Put File&quot;</p><p>8.Put 192.168.11.1 as remote host, local File is the firmware file you want to flash openwrt or (usually Buffalo &quot;friendly firmware&quot; for a recovery).</p><p>9.Click &quot;ok&quot; and quickly plug the power cable into the back to turn on the router. (within a few seconds)</p><p>10.keep repeating point 9. until you see the file upload usually takes me three attempts.</p><p>11. leave router with power plugged in for at least 6 min for friendly firmware to install, it can take a while. the open ddwrt firmware only takes about 4 min.<br />When the upgrade is done. </p><p>12 repeat point 3 but choose obtain ip address automatically and ensure &quot;obtain dns address automatically&quot; is enabled in your adaptor so the router can be seen once the new firmware is active Navigate to <a href="http://192.168.11.1">http://192.168.11.1</a>(for stock firmware) to configure your router. OR for openwrt <a href="http://192.168.1.1">http://192.168.1.1</a> see above post&nbsp; for basic config</p><p>13.Turn your firewall back on</p>											<p class="post-edited">(Last edited by <strong>bcmalloy</strong> on 23 Aug 2011, 08:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140801">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">rambot</div>
					<div class="post-datetime">
						8 Aug 2011, 07:33					</div>
				</div>
				<div class="post-content content">
					<p>#bcmalloy</p><p>I seem to be having the same issue with the WZR-HP-G300NH when trying to change to open wrt. My router does not say A2 A0 though, it reads A2 F0B instead. I have tried to load both the generic wzr-hp... version of open wrt and the&nbsp; one you so kindly supplied at <a href="http://www.mediafire.com/?p41tesaa95ogki8">http://www.mediafire.com/?p41tesaa95ogki8</a>. </p><p>I am able to get the firmware to write to the router ( i am using a linksys tftp client - linksys tftp 1.2.1) but once the new firmware is written to the router I am unable to access it through telnet, ssh or through my web browser. I am able to use the same tftp client to write the Buffalo DD-WRT firmware back to the router and have everything work out. </p><p>When I do get the open wrt firmware written to the flash memory the router restarts itself, then gives me a red diag led every two seconds for a while, then it turns solid red for a while, then the router led flashes for a while, then finally the router light stays solid. </p><p>And ideas?</p><p>Thanks,<br />Rambot</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140809">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">bcmalloy</div>
					<div class="post-datetime">
						8 Aug 2011, 11:18					</div>
				</div>
				<div class="post-content content">
					<p>The only tftp program I found that worked properly in windows 7 ( of the couple I tried was) was <a href="http://kin.klever.net/pumpkin">http://kin.klever.net/pumpkin</a> thats why I link it. it&#039;s free.</p><p>I tried the standard one you have originally and it never would finish writing the file to the router.</p>											<p class="post-edited">(Last edited by <strong>bcmalloy</strong> on 14 Aug 2011, 15:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141897">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">tanstaafl</div>
					<div class="post-datetime">
						22 Aug 2011, 23:38					</div>
				</div>
				<div class="post-content content">
					<p>@bcmalloy</p><p>Thanks so much! You saved my bacon - er, router...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142008">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">bcmalloy</div>
					<div class="post-datetime">
						24 Aug 2011, 11:45					</div>
				</div>
				<div class="post-content content">
					<p>WZR-HP-G300NH TFTP flashing and recovery guide for Mac Osx 10.6</p><p>1.Copy the firmware you want to put on your router to your home directory (the directory with the folders &quot;desktop&quot; &quot;documents&quot; and &quot;downloads&quot; folders<br />rename it to firmware.bin usually the Buffalo &quot;friendly firmware&quot; is used for a recovery.</p><p>2.Connect the computer directly to the router with the power lead not plugged in.<br />3.go to&nbsp; System Preferences and choose network and then Ethernet<br />4.change &quot;configure IP4v&quot; to manually</p><p>5.Enter these values in the boxes<br />static IP to 192.168.11.2 <br />subnetnet mask 255.255.255.0<br />DNS server 192.168.11.1</p><p>6.Get your router mac address (it should be written on the back) but may look like this 4ce6753f2fca<br />7.Open a terminal and type</p><p>sudo arp -s 192.168.11.1 (router Mac address) ifscope en0 </p><p>for example:<br />sudo arp -s 192.168.11.1 4C:E6:75:3F:2F:CA ifscope en0 </p><p>You may have to plug in your router and power it up wait 3 seconds just before you enter this line for it to work.</p><p>Then unplug the power again</p><p>8.Then type in a terminal window<br />tftp 192.168.11.1<br />tftp&gt; binary<br />tftp&gt; put firmware.bin</p><p>Ok it should say something like no route to host push the up arrow key so the line appears again</p><p>9.Plug your power cable back in and push enter<br />keep repeating the command put firmware.bin by pushing up arrow and enter as fast as you can until it sends file to router.<br />if it does not work after doing this for about 10 sec unplug router and plug it in again and keep pushing up arrow and enter until it does.<br />you will know when it says something like sent 570456 bytes that it has worked.</p><p>note: keep pushing up arrow and enter until put firmware.bin command works, if you get a timed out error after a while in tftp close the terminal and start at point 8</p><p>leave router with power plugged in for at least 6 min for friendly firmware to install, it can take a while. the open ddwrt firmware only takes about 4 min.</p><p>10.Go to&nbsp; System Preferences and choose network and then Ethernet<br />change &quot;configure IP4v&quot; to Using DHCP and delete value in DNS server box and hit apply.<br />Now you Ethernet will work normally.</p><p>11. When the upgrade is done go to <a href="http://192.168.11.1">http://192.168.11.1</a> for friendly firmware and <a href="http://192.168.1.1">http://192.168.1.1</a> for openwrt</p>											<p class="post-edited">(Last edited by <strong>bcmalloy</strong> on 24 Aug 2011, 11:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142009">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">aerodyne</div>
					<div class="post-datetime">
						24 Aug 2011, 11:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bcmalloy wrote:</cite><blockquote><p>WZR-HP-G300NH TFTP flashing and recovery guide for Mac Osx 10.6</p><p>8.Then type in a terminal window<br />tftp 192.168.11.1<br />tftp&gt; binary<br />tftp&gt; put firmware.bin</p></blockquote></div><p>I would suggest adding</p><p>tftp&gt; rexmt 1</p><p>This will dramatically increase the chance to transmit the first tftp packet within the (default) 4 second window.</p><p>And optionally,</p><p>tftp&gt; timeout 60</p><p>This will give you more margin in everything.</p><p>Regards,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142010">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">bcmalloy</div>
					<div class="post-datetime">
						24 Aug 2011, 12:03					</div>
				</div>
				<div class="post-content content">
					<p>This is what I tested and worked fine, I have a strict rule of only posting exactly what I have actually done myself. <br />Thanks for the info.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147775">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">nutznboltz</div>
					<div class="post-datetime">
						6 Nov 2011, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>What you probably want today is<br /><a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-tftp.bin">openwrt-ar71xx-generic-wzr-hp-g300nh-squashfs-tftp.bin</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>