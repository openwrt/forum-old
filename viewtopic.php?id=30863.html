<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP link MR3220. No web interface, no usb storage, no usb mode switch</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p139092">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">lordtrex</div>
					<div class="post-datetime">
						14 Jul 2011, 04:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi Everyone... I have recently installed the open wrt on my Tp link MR3220 v1.2, well i can access to the router by SSH, but i cant connect to network, it can recognize usb devices, but i have not the usb modem switcher, and i cant find the way to install anything on it.. it dont have the web interface, the wifi dont starp up, i have listed the packages installed and this is what it shows..</p><p>root@OpenWrt:~# opkg list<br />base-files - 73-r27340<br />busybox - 1.18.5-1<br />crda - 1.1.1-1<br />dnsmasq - 2.57-2<br />dropbear - 0.53.1-3<br />firewall - 2-28<br />hotplug2 - 1.0-beta-4<br />iptables - 1.4.10-2<br />iptables-mod-conntrack - 1.4.10-2<br />iptables-mod-nat - 1.4.10-2<br />iw - 0.9.22-2<br />kernel - 2.6.39.2-1<br />kmod-ath - 2.6.39.2+2011-06-22-1<br />kmod-ath9k - 2.6.39.2+2011-06-22-1<br />kmod-ath9k-common - 2.6.39.2+2011-06-22-1<br />kmod-button-hotplug - 2.6.39.2-3<br />kmod-cfg80211 - 2.6.39.2+2011-06-22-1<br />kmod-crc-ccitt - 2.6.39.2-1<br />kmod-crypto-aes - 2.6.39.2-1<br />kmod-crypto-arc4 - 2.6.39.2-1<br />kmod-crypto-core - 2.6.39.2-1<br />kmod-input-core - 2.6.39.2-1<br />kmod-input-gpio-keys-polled - 2.6.39.2-1<br />kmod-input-polldev - 2.6.39.2-1<br />kmod-ipt-conntrack - 2.6.39.2-1<br />kmod-ipt-core - 2.6.39.2-1<br />kmod-ipt-nat - 2.6.39.2-1<br />kmod-ipt-nathelper - 2.6.39.2-1<br />kmod-leds-gpio - 2.6.39.2-1<br />kmod-ledtrig-usbdev - 2.6.39.2-1<br />kmod-mac80211 - 2.6.39.2+2011-06-22-1<br />kmod-nls-base - 2.6.39.2-1<br />kmod-ppp - 2.6.39.2-1<br />kmod-pppoe - 2.6.39.2-1<br />kmod-usb-core - 2.6.39.2-1<br />kmod-usb-ohci - 2.6.39.2-1<br />kmod-usb2 - 2.6.39.2-1<br />libc - 0.9.32-73<br />libgcc - linaro-73<br />libip4tc - 1.4.10-2<br />libnl-tiny - 0.1-2<br />libuci - 2011-03-27.2-1<br />libxtables - 1.4.10-2<br />mtd - 15<br />opkg - 618-1<br />ppp - 2.4.4-17<br />ppp-mod-pppoe - 2.4.4-17<br />swconfig - 7<br />uci - 2011-03-27.2-1<br />wireless-tools - 29-4<br />wpad-mini - 20110527-1</p><p>Well all the things i want is able to turn on the wifi connect the HSDPA usb modem and configure some other stuff.. Any replay will be apreciated</p>											<p class="post-edited">(Last edited by <strong>lordtrex</strong> on 14 Jul 2011, 04:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139093">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						14 Jul 2011, 04:39					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3420">RTFW</a>!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139094">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">lordtrex</div>
					<div class="post-datetime">
						14 Jul 2011, 04:49					</div>
				</div>
				<div class="post-content content">
					<p>Well ive installed the firmware for the MR3220 from this link</p><p><a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-generic-tl-mr3220-v1-squashfs-factory.bin">http://downloads.openwrt.org/snapshots/ … actory.bin</a><br />Ive upload iy by the default web interface of the router... Now ive running the OPEN WRT, but i really dont now waht to do... I cant do anything with it.. I cant connect to the internet by the 3G Modem, cant use the wifi, the only way to handle it is via SSH, but a cant install any package because there is no way to do it.... I cant from wget because i cant connect to the internet, i cant from the USB because i cant mount the drive.... i just want to now how to make it work Properly------</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139118">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">PVi1</div>
					<div class="post-datetime">
						14 Jul 2011, 15:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi lordex,<br />i have installed openwrt bleeding edge r25661 on tplink mr3220(not sure if v1 or v1.2) few months ago and it works like a charm.<br />I use it as the AP and MJPEG streaming server(1280*800@5fps) with Logitech B905 usb webcam connected.</p><p>Here is the list of installed packeges:<br />root@OpenWrt:~# opkg list<br />base-files - 66-r25661<br />busybox - 1.17.3-2<br />crda - 1.1.1-1<br />dnsmasq - 2.57-1<br />dropbear - 0.52-5<br />firewall - 2-21<br />hotplug2 - 1.0-beta-4<br />iptables - 1.4.10-1<br />iptables-mod-conntrack - 1.4.10-1<br />iptables-mod-nat - 1.4.10-1<br />iw - 0.9.22-1<br />kernel - 2.6.32.29-1<br />kmod-ath - 2.6.32.29+2011-02-07-1<br />kmod-ath9k - 2.6.32.29+2011-02-07-1<br />kmod-button-hotplug - 2.6.32.29-3<br />kmod-cfg80211 - 2.6.32.29+2011-02-07-1<br />kmod-crc-ccitt - 2.6.32.29-1<br />kmod-crypto-aes - 2.6.32.29-1<br />kmod-crypto-arc4 - 2.6.32.29-1<br />kmod-crypto-core - 2.6.32.29-1<br />kmod-i2c-core - 2.6.32.29-1<br />kmod-input-core - 2.6.32.29-1<br />kmod-input-gpio-buttons - 2.6.32.29-1<br />kmod-input-polldev - 2.6.32.29-1<br />kmod-ipt-conntrack - 2.6.32.29-1<br />kmod-ipt-core - 2.6.32.29-1<br />kmod-ipt-nat - 2.6.32.29-1<br />kmod-ipt-nathelper - 2.6.32.29-1<br />kmod-leds-gpio - 2.6.32.29-1<br />kmod-ledtrig-usbdev - 2.6.32.29-1<br />kmod-mac80211 - 2.6.32.29+2011-02-07-1<br />kmod-nls-base - 2.6.32.29-1<br />kmod-ppp - 2.6.32.29-1<br />kmod-pppoe - 2.6.32.29-1<br />kmod-usb-core - 2.6.32.29-1<br />kmod-usb-ohci - 2.6.32.29-1<br />kmod-usb2 - 2.6.32.29-1<br />kmod-video-core - 2.6.32.29-1<br />kmod-video-uvc - 2.6.32.29-1<br />libc - 0.9.32-66<br />libgcc - 4.3.3+cs-66<br />libiptc - 1.4.10-1<br />libjpeg - 6b-1<br />libnl-tiny - 0.1-2<br />libpthread - 0.9.32-66<br />libuci - 2011-01-19.1-1<br />libxtables - 1.4.10-1<br />mjpg-streamer - r136-1<br />mtd - 15<br />opkg - 576-1<br />ppp - 2.4.4-16<br />ppp-mod-pppoe - 2.4.4-16<br />swconfig - 7<br />uci - 2011-01-19.1-1<br />udevtrigger - 106-1<br />wireless-tools - 29-4<br />wpad-mini - 20110117-1<br />---------------------------------------<br />And some configuration (maybe someone find it usefull):</p><p>/etc/config/mjpg-streamer<br />config mjpg-streamer core<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;/dev/video0&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option resolution&nbsp; &nbsp; &nbsp; &nbsp;&quot;1280x800&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option fps&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;5&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option port&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;8090&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option enabled&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;true&quot;</p><p>/etc/hotplug.d/usb/20-mjpg-streamer<br />case &quot;$ACTION&quot; in<br />&nbsp; &nbsp; &nbsp; &nbsp; add)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # start process<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /etc/init.d/mjpg-streamer start<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;;<br />&nbsp; &nbsp; &nbsp; &nbsp; remove)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # stop process<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /etc/init.d/mjpg-streamer stop<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;;<br />esac</p><p>Wifi:</p><p>/etc/config/wireless<br />config wifi-device&nbsp; wlan0<br />&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;mac80211<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel&nbsp; 11<br />&nbsp; &nbsp; &nbsp; &nbsp; option macaddr&nbsp; 74:ea:3a:cd:5a:00<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode&nbsp; &nbsp;11ng<br />&nbsp; &nbsp; &nbsp; &nbsp; option htmode&nbsp; &nbsp;HT20<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;SHORT-GI-40<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;TX-STBC<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;RX-STBC1<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;DSSS_CCK-40<br />&nbsp; &nbsp; &nbsp; &nbsp; # REMOVE THIS LINE TO ENABLE WIFI:<br />&nbsp; &nbsp; &nbsp; &nbsp; option disabled 0</p><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;wlan0<br />&nbsp; &nbsp; &nbsp; &nbsp; option network&nbsp; lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode&nbsp; &nbsp; &nbsp;ap<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid&nbsp; &nbsp; &nbsp;Skola2<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption psk2<br />&nbsp; &nbsp; &nbsp; &nbsp; option key&nbsp; &nbsp; &nbsp; some_strong_pass</p><p>LAN:<br />/etc/config/network<br />config interface loopback<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;lo<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr&nbsp; &nbsp;127.0.0.1<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask&nbsp; 255.0.0.0</p><p>config interface lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;eth0<br />&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;bridge<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr&nbsp; &nbsp;192.168.1.16<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask&nbsp; 255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; option gateway&nbsp; 192.168.1.1<br />&nbsp; &nbsp; &nbsp; &nbsp; option dns&nbsp; &nbsp; &nbsp; 192.168.1.1</p><p>#config interface wan<br />#&nbsp; &nbsp; &nbsp; &nbsp;option ifname&nbsp; &nbsp;eth1<br />#&nbsp; &nbsp; &nbsp; &nbsp;option proto&nbsp; &nbsp; dhcp</p><p>config switch eth0<br />&nbsp; &nbsp; &nbsp; &nbsp; option enable_vlan&nbsp; &nbsp; &nbsp; 1</p><p>config switch_vlan<br />&nbsp; &nbsp; &nbsp; &nbsp; option device&nbsp; &nbsp;eth0<br />&nbsp; &nbsp; &nbsp; &nbsp; option vlan&nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; option ports&nbsp; &nbsp; &quot;0 1 2 3 4&quot;</p><p>mount:<br />root@OpenWrt:~# mount<br />rootfs on / type rootfs (rw)<br />/dev/root on /rom type squashfs (ro,relatime)<br />proc on /proc type proc (rw,noatime)<br />sysfs on /sys type sysfs (rw,noatime)<br />tmpfs on /tmp type tmpfs (rw,nosuid,nodev,noatime)<br />tmpfs on /dev type tmpfs (rw,noatime,size=512k,mode=755)<br />devpts on /dev/pts type devpts (rw,noatime,mode=600)<br />/dev/mtdblock3 on /overlay type jffs2 (rw,noatime)<br />mini_fo:/overlay on / type mini_fo (rw,noatime)<br />debugfs on /sys/kernel/debug type debugfs (rw,relatime)<br />none on /proc/bus/usb type usbfs (rw,relatime)</p><p>root@OpenWrt:~# df -h<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.5M&nbsp; &nbsp; &nbsp; 1.5M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 14.4M&nbsp; &nbsp; &nbsp;40.0K&nbsp; &nbsp; &nbsp;14.4M&nbsp; &nbsp;0% /tmp<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512.0K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 512.0K&nbsp; &nbsp;0% /dev<br />/dev/mtdblock3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.1M&nbsp; &nbsp; 380.0K&nbsp; &nbsp; 756.0K&nbsp; 33% /overlay<br />mini_fo:/overlay&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.5M&nbsp; &nbsp; &nbsp; 1.5M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /</p><p>root@OpenWrt:~# uptime<br /> 04:57:42 up 17 days,&nbsp; 4:57, load average: 0.00, 0.00, 0.00<br />root@OpenWrt:~# free<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; total&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;used&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free&nbsp; &nbsp; &nbsp; &nbsp;shared&nbsp; &nbsp; &nbsp; buffers<br />&nbsp; Mem:&nbsp; &nbsp; &nbsp; &nbsp; 29528&nbsp; &nbsp; &nbsp; &nbsp; 19224&nbsp; &nbsp; &nbsp; &nbsp; 10304&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1332<br /> Swap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />Total:&nbsp; &nbsp; &nbsp; &nbsp; 29528&nbsp; &nbsp; &nbsp; &nbsp; 19224&nbsp; &nbsp; &nbsp; &nbsp; 10304</p><p>list of loaded kernel modules:</p><p>root@OpenWrt:~# lsmod<br />Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Not tainted<br />uvcvideo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;52448&nbsp; 1<br />v4l2_common&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 11760&nbsp; 0<br />videodev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;29344&nbsp; 3 uvcvideo,v4l2_common<br />v4l1_compat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 12128&nbsp; 2 uvcvideo,videodev<br />i2c_dev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4064&nbsp; 0<br />ohci_hcd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;16896&nbsp; 0<br />ledtrig_usbdev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2112&nbsp; 0<br />nf_nat_tftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 432&nbsp; 0<br />nf_conntrack_tftp&nbsp; &nbsp; &nbsp; &nbsp;2400&nbsp; 1 nf_nat_tftp<br />nf_nat_irc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;816&nbsp; 0<br />nf_conntrack_irc&nbsp; &nbsp; &nbsp; &nbsp; 2512&nbsp; 1 nf_nat_irc<br />nf_nat_ftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1328&nbsp; 0<br />nf_conntrack_ftp&nbsp; &nbsp; &nbsp; &nbsp; 4640&nbsp; 1 nf_nat_ftp<br />ipt_MASQUERADE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;992&nbsp; 1<br />iptable_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2768&nbsp; 1<br />nf_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10912&nbsp; 5 nf_nat_tftp,nf_nat_irc,nf_nat_ftp,ipt_MASQUERADE,iptable_nat<br />xt_NOTRACK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;544&nbsp; 0<br />iptable_raw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 656&nbsp; 1<br />xt_state&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;768&nbsp; 3<br />nf_conntrack_ipv4&nbsp; &nbsp; &nbsp; &nbsp;7920&nbsp; 6 iptable_nat,nf_nat<br />nf_defrag_ipv4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;656&nbsp; 1 nf_conntrack_ipv4<br />nf_conntrack&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;38848 12 nf_nat_tftp,nf_conntrack_tftp,nf_nat_irc,nf_conntrack_irc,nf_nat_ftp,nf_conntrack_ftp,ipt_MASQUERADE,iptable_nat,nf_nat,xt_NOTRACK,xt_state,nf_conntrack_ipv4<br />ehci_hcd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;32384&nbsp; 0<br />pppoe&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8304&nbsp; 0<br />pppox&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1216&nbsp; 1 pppoe<br />ipt_REJECT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1712&nbsp; 2<br />xt_TCPMSS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2560&nbsp; 1<br />ipt_LOG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4272&nbsp; 0<br />xt_comment&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;464&nbsp; 0<br />xt_multiport&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1792&nbsp; 0<br />xt_mac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;576&nbsp; 0<br />xt_limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1008&nbsp; 1<br />iptable_mangle&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;992&nbsp; 0<br />iptable_filter&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;768&nbsp; 1<br />ip_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8544&nbsp; 4 iptable_nat,iptable_raw,iptable_mangle,iptable_filter<br />xt_tcpudp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1760&nbsp; 4<br />x_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9296 13 ipt_MASQUERADE,iptable_nat,xt_NOTRACK,xt_state,ipt_REJECT,xt_TCPMSS,ipt_LOG,xt_comment,xt_multiport,xt_mac,xt_limit,ip_tables,xt_tcpudp<br />ppp_async&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6400&nbsp; 0<br />ppp_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 18848&nbsp; 3 pppoe,pppox,ppp_async<br />slhc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4160&nbsp; 1 ppp_generic<br />ath9k&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 73536&nbsp; 0<br />ath9k_common&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1200&nbsp; 1 ath9k<br />ath9k_hw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 257136&nbsp; 2 ath9k,ath9k_common<br />ath&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 13424&nbsp; 2 ath9k,ath9k_hw<br />mac80211&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 203312&nbsp; 1 ath9k<br />usbcore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 98368&nbsp; 5 uvcvideo,ohci_hcd,ledtrig_usbdev,ehci_hcd<br />nls_base&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4800&nbsp; 1 usbcore<br />crc_ccitt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 976&nbsp; 1 ppp_async<br />cfg80211&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 118736&nbsp; 3 ath9k,ath,mac80211<br />compat_firmware_class&nbsp; &nbsp; &nbsp;4688&nbsp; 0<br />compat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7632&nbsp; 3 ath9k,mac80211,cfg80211<br />arc4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;816&nbsp; 2<br />aes_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 30256&nbsp; 2<br />ecb&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1328&nbsp; 2<br />leds_gpio&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1456&nbsp; 0<br />button_hotplug&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2720&nbsp; 0<br />gpio_buttons&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2128&nbsp; 0<br />input_polldev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1360&nbsp; 1 gpio_buttons<br />input_core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;17056&nbsp; 6 uvcvideo,button_hotplug,gpio_buttons,input_polldev</p><p>root@OpenWrt:~# cat /proc/version<br />Linux version 2.6.32.29 (buildslave@dd.das-iro.de) (gcc version 4.3.3 (GCC) ) #1 Wed Feb 23 05:58:57 CET 2011</p><p>I have installed it without any complication, it tooks me cca 15 minutes.</p><p>Best regards.</p><p>Peter</p>											<p class="post-edited">(Last edited by <strong>PVi1</strong> on 14 Jul 2011, 15:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139158">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">lordtrex</div>
					<div class="post-datetime">
						15 Jul 2011, 05:43					</div>
				</div>
				<div class="post-content content">
					<p>oh man thats sound awesome.... thats great.. but my problem right now is that im not able to comunicate with the router by any way.. so i cant upgrade the firmware, download by &quot;wget&quot; packages because it cant connect to network, and it has not web interface it just accesible by SSH.... Thats the situation.. but I really thank you.... I will try to make work..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139172">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">PVi1</div>
					<div class="post-datetime">
						15 Jul 2011, 11:09					</div>
				</div>
				<div class="post-content content">
					<p>lordex,<br />ok, you have less trouble than you can think....<br />As you have written......it just accesible by SSH........&lt;- this means you HAVE a network connectivity. Even only in local network(LAN).</p><p>Please edit your /etc/config/network according to my configuration above, you just have to set following values:<br />config interface lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;eth0<br />&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;bridge<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr&nbsp; &nbsp;192.168.1.16<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask&nbsp; 255.255.255.0 <br />&nbsp; &nbsp; &nbsp; &nbsp; option gateway&nbsp; 192.168.1.1 #&lt;----- gateway, the only way to connect to the other networks in the Internet<br />&nbsp; &nbsp; &nbsp; &nbsp; option dns&nbsp; &nbsp; &nbsp; 192.168.1.1 #&lt;----- DNS settings, needed for proper name resolution, used by wget, ipkg, etc.</p><p>As you can see, your wifi is not working because it is disabled, by default.<br />You have to edit /etc/config/wireless according to the example above and set the option disabled to 0, or delete that line.<br /># REMOVE THIS LINE TO ENABLE WIFI:<br />&nbsp; &nbsp; &nbsp; &nbsp; option disabled 0</p><br /><p>After the restart, check if the changes are persistent, and if so, everything should work(internet connectivity and wifi interface enabled).</p><p>Important notice&gt; THERE IS NOT ANY GUI(web interface) DUE TO THE MEMORY RESTRICTIONS. So you have to work in the shell. But even from the shell you are able to upgrade firmware,etc. Just try to browse through wiki <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Best regards,</p><br /><p>Peter</p>											<p class="post-edited">(Last edited by <strong>PVi1</strong> on 15 Jul 2011, 11:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140290">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						30 Jul 2011, 17:07					</div>
				</div>
				<div class="post-content content">
					<p>bro Lordtrex.<br />I&#039;m use TL-MR3220<br />solution is:<br />install winscp for edit file on router, or it can upload packet (file ipk) to router<br /><a href="http://ilmu-musafir.blogspot.com/2010/09/tutorial-penggunaan-winscp.html">http://ilmu-musafir.blogspot.com/2010/0 … inscp.html</a></p><p>1). upload file to router:<br />- set winscp host: 192.168.1.1 user: root pass: (yourpass), protocol: scp , login<br />- there are 2 windows. right is openwrt, left is PC<br />- download file below by your PC <br /><a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/">http://downloads.openwrt.org/snapshots/ … /packages/</a> ,&nbsp; <br />&nbsp; &nbsp;1&nbsp; &nbsp; blkid_1.41.12-1_ar71xx.ipk<br />&nbsp; &nbsp;2&nbsp; &nbsp; chat_2.4.4-17_ar71xx.ipk<br />&nbsp; &nbsp;3&nbsp; &nbsp; comgt_0.32-9_ar71xx.ipk<br />&nbsp; &nbsp;4&nbsp; &nbsp; kmod-usb-core_2.6.39.6-1_ar71xx.ipk<br />&nbsp; &nbsp;5&nbsp; &nbsp; kmod-usb-ohci_2.6.39.6-1_ar71xx.ipk<br />&nbsp; &nbsp;6&nbsp; &nbsp; kmod-usb-serial-option_2.6.39.6-1_ar71xx.ipk<br />&nbsp; &nbsp;7&nbsp; &nbsp; kmod-usb-serial-wwan_2.6.39.6-1_ar71xx.ipk<br />&nbsp; &nbsp;8&nbsp; &nbsp; kmod-usb-serial_2.6.39.6-1_ar71xx.ipk<br />&nbsp; &nbsp;9&nbsp; &nbsp; kmod-usb-uhci_2.6.39.6-1_ar71xx.ipk<br />&nbsp; 10&nbsp; &nbsp; libblkid_1.41.12-1_ar71xx.ipk<br />&nbsp; 11&nbsp; &nbsp; libuuid_1.41.12-1_ar71xx.ipk<br />&nbsp; 12&nbsp; usb-modeswithch_1.1.7-1_ar71xx.ipk<br />&nbsp; 13&nbsp; usb-modeswitch-data_20110227-1_ar71xx.ipk<br />- copy file above to &quot;/tmp&quot;</p><p>2). install packet above, you login with putty to router<br />&nbsp; root@OpenWrt:~# cd /tmp<br />&nbsp; root@OpenWrt:/tmp# opkg install *.ipk<br />&nbsp; root@OpenWrt:/tmp# reboot</p><p>3) plug your usb modem, login again with putty, type &quot;dmesg&quot; <br />- root@OpenWrt:~# dmesg<br />find this:<br /></p><div class="codebox"><pre><code>option 1-1:1.3: GSM modem (1-port) converter detected
usb 1-1: GSM modem (1-port) converter now attached to ttyUSB2</code></pre></div><p>ttyUSB2 is defend your USBmodem maybe ttyUSB1, ttyUSB3 or other..</p><p>so..... modif file&nbsp; &quot;/etc/config/network&quot; using winscp like this:<br /></p><div class="codebox"><pre><code>config interface loopback
        option ifname   lo
        option proto    static
        option ipaddr   127.0.0.1
        option netmask  255.0.0.0

config interface lan
        option ifname   eth0
        option type     bridge
        option proto    static
        option ipaddr   192.168.1.1
        option netmask  255.255.255.0

config interface wan
        option ifname   ppp0
        option proto    3g
        option device   /dev/ttyUSB2 #defend your usb modem
        option apn      yourapn
        option service umts
        option username yourusername
        option password  yourpassword</code></pre></div><p>4).&nbsp; your modem still plug, and reboot.<br />5). check your internet with command &quot;ifconfig&quot;</p><p>if conect, you can install web interface with command<br /></p><div class="codebox"><pre><code>opkg update  
opkg install luci 
/etc/init.d/uhttpd enable 
/etc/init.d/uhttpd start</code></pre></div><p>check in your browser <a href="http://192.168.1.1">http://192.168.1.1</a></p><p>good luck</p>											<p class="post-edited">(Last edited by <strong>mang</strong> on 5 Aug 2011, 00:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140428">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">floydprince</div>
					<div class="post-datetime">
						2 Aug 2011, 00:48					</div>
				</div>
				<div class="post-content content">
					<p>hi,<br />I was tring to install usb pendrive on the same router but some how i am unable to do so. it gives some error when i try to install the packages mention in the wiki. has any one been sucessful or found an easy tutoruial to help me out. <br />Also i want to leant openwrt in detail so that i may contribute as well does any one know what and wher to find all the detail i might need.<br />Thanks in Advance!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140909">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">floydprince</div>
					<div class="post-datetime">
						9 Aug 2011, 20:45					</div>
				</div>
				<div class="post-content content">
					<p>after a bit of reading and configuring, i was indeed able to install some of the packages but it give an error saying that no free space. so wanted to know is there any way out like may be to boot the os out of the pen drive.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140933">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">lordtrex</div>
					<div class="post-datetime">
						10 Aug 2011, 07:46					</div>
				</div>
				<div class="post-content content">
					<p>Thank you so much Mang.... I really apreciate your answer.... It will helpful for me... Now i love this router.... Because i can connect Usb drive to it, a webcam, and even a printer... thats is really wonderfull....<br />Well, its realy interesting, when the first time ive installed i found everything difficult because theres no many tutorial for extremely newbees.... MDR----<br />By now im using the Tl mr 3220 without WEB GUI... And i love to use the console.... <br />Now im working on an application, but i did not yet compile it to ar71xx from source.. and I really get very confused....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140934">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">lordtrex</div>
					<div class="post-datetime">
						10 Aug 2011, 07:51					</div>
				</div>
				<div class="post-content content">
					<p>Floydprime, theres a tutorial to make usb drive as rootfs, but Im afraid that dont work on Ar71xx platform, i dont know very well, but it seem like that the bootloader dont support or something like that... maybe im wrong... but that is a&nbsp; problem for me too.... Space left is really lack of expected.. but theres no other by the moment...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141253">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">mang</div>
					<div class="post-datetime">
						14 Aug 2011, 01:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lordtrex wrote:</cite><blockquote><p>Floydprime, theres a tutorial to make usb drive as rootfs, but Im afraid that dont work on Ar71xx platform, i dont know very well, but it seem like that the bootloader dont support or something like that... maybe im wrong... but that is a&nbsp; problem for me too.... Space left is really lack of expected.. but theres no other by the moment...</p></blockquote></div><p>overcome the shortcomings space<br />use the external root<br /><a href="http://wiki.openwrt.org/doc/howto/extroot">http://wiki.openwrt.org/doc/howto/extroot</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194490">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">nedemai</div>
					<div class="post-datetime">
						10 Mar 2013, 23:06					</div>
				</div>
				<div class="post-content content">
					<p>I just picked up one of these routers the other day. I keep trying to get a usb drive to work with it but am having no luck. I cannot get it to show up in /dev at all and I don&#039;t know what I am doing wrong. I&#039;ve installed all the required packages and typed in all the commands as described here <a href="http://wiki.openwrt.org/doc/howto/usb.storage">http://wiki.openwrt.org/doc/howto/usb.storage</a> and nothing I do works.</p><p>I&#039;ve tried 3 different flash storage drives now, nothing shows up. Dmesg shows that the usb appears to be working, no errors.</p><p>Any help would be greatly appriciated!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>