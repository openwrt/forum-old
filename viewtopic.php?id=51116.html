<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Open Wrt on TP-Link TD-W8961NB</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 16 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p236772">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mmwifi</div>
					<div class="post-datetime">
						14 Jun 2014, 16:11					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>i want to instal OpenWrt on an TP-Link TD-W8961NB Router, to have an Router with a linux konsole, that i could access from SSH. First, i didn&#039;t know what image to use. The Router offers a&nbsp; web interfacce where i could upload firmware updates. But i don&#039;t what image to use because i don&#039;t which chip set it has. I tried with the broadcom facctory image (because a lot of TP-Link routers seem have broadcom chipsets, as i read) but if i tried to upload it to the web interface, a message box appeard saying (i don&#039;t know the words exactly) that the image is wrong (without any further information).</p><p>I looked to the Website of TP-Link where Images are to download. I renamed the OpenWrrt-Image like the Images which are to download from TP-Link and tried to update the firmware again (with the OpnWrt-Image). Now not a Message Box appeared, but in the website an eror was shown, that the image was not accepted by the router.</p><p>Now i opened the case of the Router and looked for an interface, where i could connect with an serial adapter and where i possibly get information about the router or can access the router. Now, i found two sets of four buttons (marked in the picture, see <a href="http://postimg.org/image/5jdd4i4mx/).">http://postimg.org/image/5jdd4i4mx/).</a> To get the right PIN, i followed the instructions on <a href="http://wiki.openwrt.org/doc/hardware/port.serial.">http://wiki.openwrt.org/doc/hardware/port.serial.</a> I used a voltage meter and measured the resistance and voltage between the ground (from the power supply where i connected it to the router, i alwas used the black probe on ground and the red on the pin) and the pin. The router was always on.</p><p>All Descriptions from top to down, i have the following results:</p><p>First group, solding would be required to connect (has &quot;J2&quot; printed to it)<br />- First hole (a square is drawn around it): <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Resistance:&nbsp; &nbsp; not connected<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Voltage:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.37 V<br />- Second hole: <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Resistance:&nbsp; &nbsp; not connected<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Voltage:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.05 V<br />- Third hole: <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Resistance:&nbsp; &nbsp; 4.8 kÎ© (not constant, from 2.6kÎ© to 4.5kÎ©) <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Voltage:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.05 V<br />- Fourth hole: <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Resistance:&nbsp; &nbsp; not connected<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Voltage:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.32 V</p><br /><p>Second group, unpopulated holes where i could connect pins<br />- First hole: <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Resistance:&nbsp; &nbsp; not connected<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Voltage:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3.4 V<br />- Second hole: <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Resistance:&nbsp; &nbsp; 100Î© (Ohms, not kÎ©)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Voltage:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.025 V<br />- Third hole: <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Resistance:&nbsp; &nbsp; not connected<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Voltage:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;not constant, goes from 0.02 V to 0.04 V<br />- Fourth hole (a square is drawn around it): <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Resistance:&nbsp; &nbsp; not connected<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Voltage:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;not constant, goes from 0.03 V to 0.03 V</p><p>Because the first group of four pins is a group of unpopulated holes in the pcb where i could not insert a connector (because they were soldered so i could not connect a connector without soldering it to it) i used the second block. I connected a </p><p><a href="http://www.amazon.de/USB-TTL-Konverter-Modul-mit-eingebautem-CP2102/dp/B00AFRXKFU/ref=sr_1_1?s=computers&amp;ie=UTF8&amp;qid=1402751004&amp;sr=1-1&amp;keywords=usb+ttl">http://www.amazon.de/USB-TTL-Konverter- â€¦ ds=usb+ttl</a> </p><p>to the usb port of my computer (using Ubuntu 13.10) and installed screen. Than i connected the RXD Pin of the converter to the third pin, the TXD Pin to the fourth pin and the Groud to the second pin. I looked into /dev and found an interface ttyUSB0. I switched as root to /dev and typed (on my Ubuntu PC):</p><p>#screen ttyUSB0 </p><p>But there was only shown an empty screen, no data that came from the router (if there was any data send). I switched on the TTL-Adapter the Cables for RXD and TXD and tried again, but the same result.</p><br /><p>Could you help me? What can I do?</p>											<p class="post-edited">(Last edited by <strong>mmwifi</strong> on 14 Jun 2014, 17:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236773">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mmwifi</div>
					<div class="post-datetime">
						14 Jun 2014, 16:17					</div>
				</div>
				<div class="post-content content">
					<p>In addidtion to my post: does this forum provide a way to upload pictures?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236776">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						14 Jun 2014, 16:32					</div>
				</div>
				<div class="post-content content">
					<p>no, use something like:</p><p><a href="http://postimage.org/">http://postimage.org/</a></p><p>BTW i don&#039;t think you will ever got openwrt to run, if i&#039;m not wrong your router has a&nbsp; Trendchip TC3162LEM+TC3086 chipset...</p><p>as for serial, use something like</p><p>sudo picocom --baud 115200 /dev/ttyUSB0</p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 14 Jun 2014, 16:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236779">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mmwifi</div>
					<div class="post-datetime">
						14 Jun 2014, 17:05					</div>
				</div>
				<div class="post-content content">
					<p>See <a href="http://postimg.org/image/5jdd4i4mx/">http://postimg.org/image/5jdd4i4mx/</a></p><p>Where did you read that the router has this chipset? I could not find chipset information about it. Does this mean that i never can install any operating system on it, because there is even no space where i could write the os?</p><p>I will try if i can get something with the command you proposed, thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236781">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mmwifi</div>
					<div class="post-datetime">
						14 Jun 2014, 17:29					</div>
				</div>
				<div class="post-content content">
					<p>I tried with different baud rates (on GtkTerm) but i can not get something to read on the display. I used Port two (from the holes where i could place pins, trom top to down) as ground and the second and third as RXD und TXD. I tried switching RXD and TXD, but i got nothing to read. Do you think im right with those pins?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239674">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ottk3</div>
					<div class="post-datetime">
						8 Jul 2014, 20:02					</div>
				</div>
				<div class="post-content content">
					<p>Did you made any progress on this topic? I got two TP-Link routers and both not working with OpenWrt. Does anybody see a chance to get the <strong>TD-W8961NB</strong> working?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261088">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">lujji</div>
					<div class="post-datetime">
						12 Jan 2015, 14:36					</div>
				</div>
				<div class="post-content content">
					<p>I know it&#039;s an old thread, but I&#039;m also interested in possibility of porting openwrt to this modem and using it as a router. Main SoC is Ralink rt63365e. Here&#039;s what I can get via uart:</p><div class="codebox"><pre><code>Bootbase Version: VTC_SPI1.25 |  2012/9/7 16:30:00
RAM: Size = 8192 Kbytes
Found SPI Flash 2MiB Winbond W25Q16 at 0xbfc00000
SPI Flash Quad Enable
Turn off Quad Mode

RAS Version: 3.0.0 Build 130128 Rel.13376  
System   ID: $2.12.58.45(G04.BZ.4)3.20.29.0| 2012/11/06   20121106_v002  | 2012/11/06  

Press any key to enter debug mode within 3 seconds.
............................................................
Flash data is the same!!
Copyright (c) 2001 - 2006 TP-LINK TECHNOLOGIES CO., LTD
initialize ch = 0, TC2105MJ, ethernet address: e8:94:f6:e2:c5:dd
initialize ch = 1, ethernet address: e8:94:f6:e2:c5:dd
Wan Channel init ........ done
Reset dmt

Check DMT version =b2 ........ 

Initializing ADSL F/W ........ done 

ADSL HW version: b2, HCLK 140

ok

==&gt;natTableMemoryInit
&lt;==natTableMemoryInit




                   Enter Password : ANNEXB

US bitswap on,DS bitswap on

OlrON

SRAOFF


Erasing 4K Sector...

Erasing 4K Sector...

writeRomBlock(): Erase OK!
largeD flag=2 (0:maxD=64, 1:maxD=128, 2:maxD=511)

dhcp address probe action is disabled
input line: sysportreverse : on 

disable PM!

Testlab 37 

Dyingasp OFF!

Valid Loss of power OFF!

set try multimode number to 3 (dropmode try num 3)

now autocwmpoui is off 

Syncookie switch On!
run distributePvcFakeMac!

run distributePvcFakeMac!

run distributePvcFakeMac!

run distributePvcFakeMac!

run distributePvcFakeMac!

run distributePvcFakeMac!


Erasing 4K Sector...

Erasing 4K Sector...

writeRomBlock(): Erase OK!

run distributePvcFakeMac!

run distributePvcFakeMac!

Press ENTER to continue...
X


                   Enter Password : XXXXX
Copyright (c) 2001 - 2013 TP-LINK TECHNOLOGIES CO., LTD.
TP-LINK&gt; 7TP-LINK&gt;

Valid commands are:
sys             exit            ether           wan               

etherdbg        tcephydbg       ip              bridge            
dot1q           pktqos          show            set               
lan                                                               
TP-LINK&gt; 7TP-LINK&gt; 7s7h7o7w7


wan             lan             cpe             community         
channel         all                                               
TP-LINK&gt; 7TP-LINK&gt; 7s7h7o7w7 7a7l7l7


 RAS version: 3.0.0 Build 130128 Rel.13376 
 System   ID: $2.12.58.45(G04.BZ.4)3.20.29.0| 2012/11/06   20121106_v002  [Nov  6 2012 13:54:15]
 romRasSize: 1628900 
 system up time:     0:00:50 (13c3 ticks)
 bootbase version: VTC_SPI1.25 |  2012/9/7</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p271341">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">franc</div>
					<div class="post-datetime">
						5 Apr 2015, 15:24					</div>
				</div>
				<div class="post-content content">
					<p>Ist there news about it?<br />I bought this TP-LINK TD-W8961NB but Version 3 (this one seems Version 1 zu sein) and would love to put DD-WRT or OpenWRT on it.<br />No way?<br />Thank<br />EDIT: I sent it back, it is not a good device.</p>											<p class="post-edited">(Last edited by <strong>franc</strong> on 9 Apr 2015, 14:47)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>