<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> New Airlive WL-1600GL (BCM5354KFBG)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p80776">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">szemo77</div>
					<div class="post-datetime">
						30 Jan 2009, 21:15					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>Ovislink AirLive release new router WL-1600GL for opensource. It&#039;s based on Broadcom BCM5354KFBG 240MHz.<br />Jtag is present on board J2 [VCC] (TX) (RX) (GND). </p><p><a href="http://img218.imageshack.us/my.php?image=wl1600gljtaguk7.jpg"><span class="postimg"><img src="http://img218.imageshack.us/img218/7540/wl1600gljtaguk7.jpg" alt="http://img218.imageshack.us/img218/7540/wl1600gljtaguk7.jpg" /></span></a><br /><a href="http://g.imageshack.us/img218/wl1600gljtaguk7.jpg/1/"><span class="postimg"><img src="http://img218.imageshack.us/img218/wl1600gljtaguk7.jpg/1/w1024.png" alt="http://img218.imageshack.us/img218/wl1600gljtaguk7.jpg/1/w1024.png" /></span></a></p><p>I know that, they preparing second similar board with USB for Opensource.</p><p>I make many builds OpenWRT from trunk and <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> nothing work. On Jtag I get similar log like that:<br /></p><div class="codebox"><pre><code>#CFE version 1.0.37 for BCM947XX (32bit,SP,LE)                                   
#Build Date: Thu Jan  3 11:26:43 CST 2008 (szemo77@localhost)                     
#Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.                         
#                                                                               
#Initializing Arena                                                             
#Initializing Devices.                                                           
#Boot partition size = 131072(0x20000)                                           
#et0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 4.150.10.15               
#CPU type 0x29029: 240MHz                                                       
#Total memory: 8192 KBytes                                                       
#
                                                                               
#Total memory used by CFE:  0x80700000 - 0x807B72E0 (750304)                     
#Initialized Data:          0x8072D150 - 0x8072F8C0 (10096)                     
#BSS Area:                  0x8072F8C0 - 0x807512E0 (137760)                     
#Local Heap:                0x807512E0 - 0x807B52E0 (409600)                     
#Stack Area:                0x807B52E0 - 0x807B72E0 (8192)                       
#Text (code) segment:       0x80700000 - 0x8072D150 (184656)                     
#Boot area (physical):      0x006BF000 - 0x006FF000                             
#Relocation Factor:         I:00000000 - D:00000000                             
#
                                                                               
#SC CFE Ver: R1.5                                                               
#FLASH: Base 0x0 size 0x400000 type 0x100 flags 0x1                             
#mac in flash:00:c0:02:55:66:88                                                 
#mac in use  :00:c0:02:55:66:88                                                 
#Get eRcOmM at 003e0000                                                         
#have eRcOmM                                                                     
#wait. press ctrl-c to cancel autostart                                         
#Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)                       
#Loading: .. 3732 bytes read                                                     
#Entry at 0x80001000                                                             
#Starting program at 0x80001000                                                 
#CPU revision is: 00029029                                                       
#Linux version 2.4.35 (root@dd-wrt) (gcc version 3.4.6 (OpenWrt-2.0)) #1824 Wed J
#an 2 02:15:57 CET 2008                                                         
#Setting the PFC to its default value                                           
#Determined physical RAM map:                                                   
#memory: 00800000 @ 00000000 (usable)                                           
#On node 0 totalpages: 2048                                                     
#zone(0): 2048 pages.                                                           
#zone(1): 0 pages.                                                               
#zone(2): 0 pages.                                                               
#Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd cons
#ole=ttyS0,115200                                                               
#CPU: BCM5354 rev 1 at 240 MHz                                                   
#Using 120.000 MHz high precision timer.                                         
#Calibrating delay loop... 239.20 BogoMIPS                                       
#Page-cache hash table entries: 2048 (order: 1, 8192 bytes)                     
#Checking for &#039;wait&#039; instruction...  unavailable.                               
#POSIX conformance testing by UNIFIX                                             
#PCI: no core                                                                   
#PCI: Fixing up bus 0                                                           
#Initializing RT netlink socket                                                 
#Starting kswapd                                                                 
#pty: 25 Unix98 ptys configured                                                 
#Broadcom Watchdog Timer: 0.05, timer margin: 30 sec                             
#PCI/DMA                                                                         
#sb_doattach: incoming bus is PCI but it&#039;s a lie, switching to SB devid:0x4318   
#wl0: wlc_attach: chiprev 1 coreunit 0 corerev 13 cccap 0x104001ea maccap 0x30482
#205 band 2.4G, phy_type 5 phy_rev 0 ana_rev 6                                   
#eth1: Broadcom BCM4318 802.11 Wireless Controller 4.150.10.5                   
#ip_conntrack version 2.1 (512 buckets, 4096 max) - 336 bytes per conntrack     
#ip_tables: (C) 2000-2002 Netfilter core team                                   
#ipt_random match loaded                                                         
#netfilter PSD loaded - (c) astaro AG                                           
#ipt_IPV4OPTSSTRIP loaded                                                       
#VFS: Cannot open root device &quot;mtdblock2&quot; or 1f:02                               
#Please append a correct &quot;root=&quot; boot option                                     
#Kernel panic: VFS: Unable to mount root fs on 1f:02                             
# &lt;0&gt;Rebooting in 5 seconds..Please stand by while rebooting the system...       
#Decompressing.........done</code></pre></div><p>For now I success flash Tomato 1.23-ND and DD-WRTv24 on it.<br />Log from Tomato:<br /></p><div class="codebox"><pre><code>Dec 31 16:00:09 unknown syslog.info syslogd started: BusyBox v1.12.3
Dec 31 16:00:10 unknown user.notice kernel: klogd started: BusyBox v1.12.3 (2009-01-16 12:56:18 CET)
Dec 31 16:00:10 unknown user.warn kernel: CPU revision is: 00029029
Dec 31 16:00:10 unknown user.warn kernel: Primary instruction cache 16kb, linesize 16 bytes (4 ways)
Dec 31 16:00:10 unknown user.warn kernel: Primary data cache 16kb, linesize 16 bytes (2 ways)
Dec 31 16:00:10 unknown user.warn kernel: Linux version 2.4.20 (root@localhost) (gcc version 3.2.3 with Broadcom modifications) #10 Sun Jan 18 15:35:09 CET 2009
Dec 31 16:00:10 unknown user.warn kernel: Setting the PFC to its default value
Dec 31 16:00:10 unknown user.warn kernel: Determined physical RAM map:
Dec 31 16:00:10 unknown user.warn kernel:  memory: 01000000 @ 00000000 (usable)
Dec 31 16:00:10 unknown user.warn kernel: On node 0 totalpages: 4096
Dec 31 16:00:10 unknown user.warn kernel: zone(0): 4096 pages.
Dec 31 16:00:10 unknown user.warn kernel: zone(1): 0 pages.
Dec 31 16:00:10 unknown user.warn kernel: zone(2): 0 pages.
Dec 31 16:00:10 unknown user.warn kernel: Kernel command line: root=/dev/mtdblock2 noinitrd console=ttyS0,115200
Dec 31 16:00:10 unknown user.warn kernel: CPU: BCM5354 rev 3 at 240 MHz
Dec 31 16:00:10 unknown user.warn kernel: Calibrating delay loop... 237.56 BogoMIPS
Dec 31 16:00:10 unknown user.info kernel: Memory: 14428k/16384k available (1370k kernel code, 1956k reserved, 108k data, 64k init, 0k highmem)
Dec 31 16:00:10 unknown user.info kernel: Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)
Dec 31 16:00:10 unknown user.info kernel: Inode cache hash table entries: 1024 (order: 1, 8192 bytes)
Dec 31 16:00:10 unknown user.warn kernel: Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
Dec 31 16:00:10 unknown user.warn kernel: Buffer-cache hash table entries: 1024 (order: 0, 4096 bytes)
Dec 31 16:00:10 unknown user.warn kernel: Page-cache hash table entries: 40
Dec 31 16:00:10 unknown user.info kernel: 96 (order: 2, 16384 bytes)
Dec 31 16:00:10 unknown user.warn kernel: Checking for &#039;wait&#039; instruction...  unavailable.
Dec 31 16:00:10 unknown user.warn kernel: POSIX conformance testing by UNIFIX
Dec 31 16:00:10 unknown user.warn kernel: PCI: no core
Dec 31 16:00:10 unknown user.warn kernel: PCI: Fixing up bus 0
Dec 31 16:00:10 unknown user.info kernel: Linux NET4.0 for Linux 2.4
Dec 31 16:00:10 unknown user.info kernel: Based upon Swansea University Computer Society NET3.039
Dec 31 16:00:10 unknown user.warn kernel: Initializing RT netlink socket
Dec 31 16:00:10 unknown user.warn kernel: Starting kswapd
Dec 31 16:00:10 unknown user.info kernel: devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)
Dec 31 16:00:10 unknown user.info kernel: devfs: boot_options: 0x1
Dec 31 16:00:10 unknown user.info kernel: squashfs: version 3.0 (2006/03/15) Phillip Lougher
Dec 31 16:00:10 unknown user.warn kernel: pty: 256 Unix98 ptys configured
Dec 31 16:00:10 unknown user.info kernel: Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled
Dec 31 16:00:10 unknown user.info kernel: ttyS00 at 0xb8000300 (irq = 3) is a 16550A
Dec 31 16:00:10 unknown user.info kernel: ttyS01 at 0xb8000400 (irq = 0) is a 16550A
Dec 31 16:00:10 unknown user.warn kernel: HDLC line discipline: version $Revision: 1.1.1.4 $, maxframe=4096
Dec 31 16:00:10 unknown user.info kernel: N_HDLC line discipline registered.
Dec 31 16:00:10 unknown user.info kernel: PPP generic driver version 2.4.2
Dec 31 16:00:10 unknown user.err kernel: pflash: found no supported devices
Dec 31 16:00:10 unknown user.notice kernel: Creating 5 MTD partitions on &quot;sflash&quot;:
Dec 31 16:00:10 unknown user.notice kernel: 0x00000000-0x00020000 : &quot;pmon&quot;
Dec 31 16:00:10 unknown user.notice kernel: 0x00020000-0x003f0000 : &quot;linux&quot;
Dec 31 16:00:10 unknown user.notice kernel: 0x000c70a4-0x002f0000 : &quot;rootfs&quot;
Dec 31 16:00:10 unknown user.notice kernel: 0x002f0000-0x003f0000 : &quot;jffs
Dec 31 16:00:10 unknown user.info kernel: 2&quot;
Dec 31 16:00:10 unknown user.notice kernel: 0x003f0000-0x00400000 : &quot;nvram&quot;
Dec 31 16:00:10 unknown user.info kernel: NET4: Linux TCP/IP 1.0 for NET4.0
Dec 31 16:00:10 unknown user.info kernel: IP Protocols: ICMP, UDP, TCP, IGMP
Dec 31 16:00:10 unknown user.info kernel: IP: routing cache hash table of 512 buckets, 4Kbytes
Dec 31 16:00:10 unknown user.info kernel: TCP: Hash tables configured (established 1024 bind 2048)
Dec 31 16:00:10 unknown user.info kernel: Linux IP multicast router 0.06 plus PIM-SM
Dec 31 16:00:10 unknown user.warn kernel: ip_conntrack version 2.1 (4099 buckets, 2048 max) - 368 bytes per conntrack
Dec 31 16:00:10 unknown user.warn kernel: ip_tables: (C) 2000-2002 Netfilter core team
Dec 31 16:00:10 unknown user.info kernel: NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
Dec 31 16:00:10 unknown user.info kernel: NET4: Ethernet Bridge 008 for NET4.0
Dec 31 16:00:10 unknown user.alert kernel: 802.1Q VLAN Support v1.7 Ben Greear &lt;greearb@candelatech.com&gt;
Dec 31 16:00:10 unknown user.alert kernel: All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Dec 31 16:00:10 unknown user.warn kernel: VFS: Mounted root (squashfs filesystem) readonly.
Dec 31 16:00:10 unknown user.info kernel: Mounted devfs on /dev
Dec 31 16:00:10 unknown user.info kernel: Freeing unused kernel memory: 64k freed
Dec 31 16:00:10 unknown user.warn kernel: Algorithmics/MIPS FPU Emulator v1.5
Dec 31 16:00:10 unknown user.warn kernel: ip_conntrack_pptp version 1.9 loaded
Dec 31 16:00:10 unknown user.warn kernel: ip_nat_pptp version 1.5 loaded
Dec 31 16:00:10 unknown user.warn kernel: ip_conntrack_rtsp v0.01 loading
Dec 31 16:00:10 unknown user.warn kernel: ip_nat_rtsp v0.01 loading
Dec 31 16:00:10 unknown user.warn kernel: eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 4.130.25.0
Dec 31 16:00:10 unknown user.warn kernel: eth1: Broadcom BCM4318 802.11 Wirel
Dec 31 16:00:10 unknown user.info kernel: ess Controller 4.130.19.0
Dec 31 16:00:10 unknown user.warn kernel: tomato_ct.c [Jan 15 2009 15:29:38]
Dec 31 16:00:10 unknown user.info kernel: vlan0: dev_set_promiscuity(master, 1)
Dec 31 16:00:10 unknown user.info kernel: device eth0 entered promiscuous mode
Dec 31 16:00:10 unknown user.info kernel: device vlan0 entered promiscuous mode
Dec 31 16:00:10 unknown user.info kernel: device eth1 entered promiscuous mode
Dec 31 16:00:10 unknown user.info kernel: br0: port 2(eth1) entering learning state
Dec 31 16:00:10 unknown user.info kernel: br0: port 1(vlan0) entering learning state
Dec 31 16:00:10 unknown user.info kernel: br0: port 2(eth1) entering forwarding state
Dec 31 16:00:10 unknown user.info kernel: br0: topology change detected, propagating
Dec 31 16:00:10 unknown user.info kernel: br0: port 1(vlan0) entering forwarding state
Dec 31 16:00:10 unknown user.info kernel: br0: topology change detected, propagating
Dec 31 16:00:10 unknown user.warn kernel: vlan1: Setting MAC address to  00 90 4c c0 00 09.
Dec 31 16:00:10 unknown user.info kernel: vlan1: add 01:00:5e:00:00:01 mcast address to master interface
Dec 31 16:00:11 unknown daemon.info dnsmasq[93]: started, version 2.46 cachesize 150
Dec 31 16:00:11 unknown daemon.info dnsmasq[93]: compile time options: no-IPv6 GNU-getopt no-RTC no-DBus no-I18N no-TFTP
Dec 31 16:00:11 unknown daemon.info dnsmasq[93]: DHCP, IP range 192.168.1.100 -- 192.168.1.149, lease time 1d
Dec 31 16:00:11 unknown daemon.warn dnsmasq[93]: failed to access /etc/resolv.dnsmasq: No such file or directory
Dec 31 16:00:11 unknown daemon.info dnsmasq[93]: read /etc/hosts - 0 addresses
Dec 31 16:00:11 unknown daemon.info dnsmasq[93]: read /etc/hosts.dnsmasq - 1 addresses
Dec 31 16:00:12 unknown cron.err crond[97]: crond (busybox 1.12.3) started, log level 9
Dec 31 16:00:12 unknown user.info init[1]: Tomato 1.23.0005</code></pre></div><p>Any idea what to do? or what prepare in trunk for build?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80780">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						30 Jan 2009, 21:38					</div>
				</div>
				<div class="post-content content">
					<p>if it runs Tomato, that&#039;s a big clue it&#039;s compatible with the WRT54GL and you can just try a build for that... ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80788">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">szemo77</div>
					<div class="post-datetime">
						30 Jan 2009, 23:50					</div>
				</div>
				<div class="post-content content">
					<p>Hmm.. nothink... on any build console log out<br /></p><div class="codebox"><pre><code>#VFS: Cannot open root device &quot;mtdblock2&quot; or 1f:02                               
#Please append a correct &quot;root=&quot; boot option                                     
#Kernel panic: VFS: Unable to mount root fs on 1f:02                             
# &lt;0&gt;Rebooting in 3 seconds..</code></pre></div><p>ggosh !! :&lt;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80793">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						31 Jan 2009, 00:33					</div>
				</div>
				<div class="post-content content">
					<p>What exactly did you flash on it and how?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80794">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">szemo77</div>
					<div class="post-datetime">
						31 Jan 2009, 00:44					</div>
				</div>
				<div class="post-content content">
					<p>For now tested:</p><p>Own and new build form trunk and upload by TFTP:<br />- openwrt-brcm-2.4-squashfs.trx (Unable to mount root fs)<br />- openwrt-brcm47xx-squashfs.trx (booting is freezing at loading....)</p><p>And by Tomato http firmware upgrade:<br />- openwrt-wrt54g-squashfs.bin </p><p>On sunday i will get new cable for Jtag, then i put log hier and from airlive firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83360">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">r.</div>
					<div class="post-datetime">
						6 Mar 2009, 21:40					</div>
				</div>
				<div class="post-content content">
					<p>Is there any progress to port openwrt to this device? I have this device and I&#039;m glad to see the possibility to run openwrt on it. So, I can help to somebody with porting if it&#039;s needed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94923">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">lgolebio</div>
					<div class="post-datetime">
						24 Sep 2009, 21:38					</div>
				</div>
				<div class="post-content content">
					<p>Patches: (made by ArteQ from openlinksys.info, the openwrt guru, we should be gratefull for all job he&#039;s done to make this router work)</p><p>Download them here =&gt; <a href="ftp://81.168.251.139/Kuba/wl1600gl.zip">KLIK</a> &lt;=</p><p>How TO : (just copy them to this locations and build openwrt 8.09 from svn)</p><p><strong>sflash.c</strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; 8.09/target/linux/brcm-2.4/files/arch/mips/bcm947xx<br /><strong>120-add-wl1600gl-support-hackish.patch</strong>&nbsp; &nbsp;=&gt; 8.09/target/linux/brcm-2.4/patches</p><p>After flashing of .trx file router works, all you have to do is to set proper VLAN for this device. It should look like this (/etc/config/network).</p><div class="codebox"><pre><code>config &#039;switch&#039; &#039;eth0&#039;
        option &#039;vlan0&#039; &#039;0 1 2 3 5*&#039;
        option &#039;vlan1&#039; &#039;4 5&#039;
......</code></pre></div><p>Current status:<br />Almost everything works, (instead of gpio LED&#039;s Power, Connected and WPS) however, installing big packages (such gargoyle web gui) may brick kamikaze ( so flashing with tftp is the only way to recover it). It&#039;s better to add them in make menuconfig and build as included in image file. I have manage to add theese patches to gargoyle trunk, and the firmware compiled just fine. </p><p>If anybody wants to test kamikaze for this device, here is the image.</p><p>Sorry for this, but I&#039;ve got only with gui (gargoyle) because I&#039;ve lost the fresh version (with no gui), and if Ifind it I&#039;ll post it if you want.<br />image <a href="http://rapidshare.com/files/284475357/gargoyle_1.0.0-brcm-2.4-squashfs.trx.html">http://rapidshare.com/files/284475357/g â€¦ s.trx.html</a><br />REMEMBER TO SET VLAN !!</p><p>If you don&#039;t like gargoyle just compile your own firmware with patches above, it&#039;s just simple as that. Patches work with trunk and 8.09. After fresh install of 8.09 it gives you about 1,6MB free space to install your own packages.</p>											<p class="post-edited">(Last edited by <strong>lgolebio</strong> on 25 Sep 2009, 00:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95268">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">arteqw</div>
					<div class="post-datetime">
						3 Oct 2009, 00:46					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://eko.one.pl/openwrt/kamikaze/sources/wl1600gl.tgz">http://eko.one.pl/openwrt/kamikaze/sources/wl1600gl.tgz</a> &lt;- cleaned patches with gpio and vlans</p><p>Enjoy :-)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>