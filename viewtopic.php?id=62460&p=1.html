<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Itus Shield Pro</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 10 Apr 2018 and 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=62460&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=62460&amp;p=3.html">3</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p309534">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Wisiwyg</div>
					<div class="post-datetime">
						29 Jan 2016, 23:40					</div>
				</div>
				<div class="post-content content">
					<p>Welcome Shield Pro owners! </p><p><span style="color: red">Notice: If you&#039;ve found this, you&#039;re interested in Shield Pro. Users have set up another location to continue discussion, file storage and community aided troubleshooting here: <a href="http://itus.accessinnov.com/">http://itus.accessinnov.com/</a><br />Join us!</span></p><p>This is a spot for exchange of hints, fixes, enhancements, hacks and whatever that relates to the Itus Shield Pro home network security appliance. </p><p>About the Shield...</p><p>Shield is based on a Cavium Octeon Dual-Core MIPS64 (2x1.0 GHz) processor, with a custom board containing three gigabit ethernet ports, 1gb of DDR3 RAM and 4gb of eMMC internal storage, and a RJ45 Serial Console port. Early models also contained a SD Card slot. The system was shipped running OpenWRT 15 - Chaos Calmer, with customizations that create a security device capable of running OpenVPN, E2Guardian, Snort, Squid, Suricata, StrongSwan and other internet security applications. The system has an external slider switch to select from different operating modes: Router, Bridge or Gateway. As of this writing, the current firmware is v1.51 SP1.</p><p>Following are a few of the documents provided by Itus after the Shield was launched:</p><p>Shield Pro Administrator&#039;s Guide: <a href="http://1drv.ms/20eDDZh">http://1drv.ms/20eDDZh</a></p><p>Shield Pro Quick Start Guide: <a href="http://1drv.ms/20eDOnk">http://1drv.ms/20eDOnk</a></p><p>Shield Pro SSL VPN Dynamic DNS Setup Guide: <a href="http://1drv.ms/20eDV2a">http://1drv.ms/20eDV2a</a></p><p>Original 1.51 SP1 firmware Install script: <a href="http://1drv.ms/1Vy8Tvs">http://1drv.ms/1Vy8Tvs</a><br />(this file is the original firmware install script provided by Itus. It is unlikely the links will remain live, so the binaries are attached in the package below)</p><p>Modified 1.51 SP1 firmware install script (local install script, may have issues - use at your own risk): <a href="http://1drv.ms/1UtjhV6">http://1drv.ms/1UtjhV6</a><br />(this package contains a modified install script, router.tar.gz, and ItusrestoreImage files for v1.51 SP1)</p><p>fw_upgrade script file that runs on Shield for nightly updates to IPS and WF signatures: <a href="http://1drv.ms/1WU2Jaz">http://1drv.ms/1WU2Jaz</a><br />(open the file and read the important information at the top on how to use this script)</p><p>Following are excerpts from threads at the original support forum copied here to capture key information:</p><p>HowTo: Bridge Mode DNS for Web Filter: <a href="http://1drv.ms/1Vy8BEZ">http://1drv.ms/1Vy8BEZ</a></p><p>HowTo: PS4 Connectivity Issues: <a href="http://1drv.ms/1Vy8IAj">http://1drv.ms/1Vy8IAj</a></p><p>HowTo: GeoIP for Router Mode: <a href="http://1drv.ms/1Vy8HfK">http://1drv.ms/1Vy8HfK</a></p><p>HowTo: Update OpenSSL to 1.0.23: <a href="http://1drv.ms/1Vy8NUQ">http://1drv.ms/1Vy8NUQ</a></p>											<p class="post-edited">(Last edited by <strong>Wisiwyg</strong> on 1 Mar 2016, 20:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309550">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">sk3tch</div>
					<div class="post-datetime">
						30 Jan 2016, 03:16					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m glad you posted this!</p><p>We (Shield owners) are worried that ITUS may have gone under...they&#039;re no longer selling the Shield on their website and they&#039;ve shut down their eBay operations, Facebook page, and twitter. More details here - <a href="https://packetinspector.org/showthread.php?tid=772">https://packetinspector.org/showthread.php?tid=772</a>.</p><p>Since it is powered by OpenWRT on a Cavium CPU (Octeon III) we&#039;re hoping that the community will pick things up should they really be kaput!</p><p>More info: <a href="http://www.prnewswire.com/news-releases/cavium-delivers-optimized-openwrt-on-octeon-iii-to-accelerate-retailsmb-router-time-to-market-300072298.html">http://www.prnewswire.com/news-releases … 72298.html</a></p><p>It&#039;s a great piece of hardware (I now have 2 - one for my Mom&#039;s and one for my Dad&#039;s - which I am about to build).</p>											<p class="post-edited">(Last edited by <strong>sk3tch</strong> on 30 Jan 2016, 04:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309552">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">breda</div>
					<div class="post-datetime">
						30 Jan 2016, 03:53					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the post I have bookmark this page</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309565">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">sk3tch</div>
					<div class="post-datetime">
						30 Jan 2016, 07:27					</div>
				</div>
				<div class="post-content content">
					<p>ITUS looks to be confirmed &quot;out of business&quot; -</p><p><a href="https://twitter.com/padresj/status/693288762571255809">https://twitter.com/padresj/status/693288762571255809</a></p><p>Their forum (packetinspector.org) will expire in early February, so we&#039;re hoping we can get users to post here, instead.</p>											<p class="post-edited">(Last edited by <strong>sk3tch</strong> on 30 Jan 2016, 07:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309585">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Turrican2</div>
					<div class="post-datetime">
						30 Jan 2016, 11:25					</div>
				</div>
				<div class="post-content content">
					<p>Sad news indeed.&nbsp; I plan to keep my shield running in Bridge mode for as long as possible.&nbsp; What&#039;s the best way to check that updates are being received?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309596">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">CWS</div>
					<div class="post-datetime">
						30 Jan 2016, 13:25					</div>
				</div>
				<div class="post-content content">
					<p>I really hate to see Itus go under, was such a great idea/product. Thanks guys for starting this, I will monitor the forum to see what develops. My Shield is currently powered down, will probably power it back up with maybe 1 PC attached to see how it is doing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309597">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">roadrunnere42</div>
					<div class="post-datetime">
						30 Jan 2016, 13:31					</div>
				</div>
				<div class="post-content content">
					<p>Itus is not dead yet, lets hope they sort this out.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309600">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">roadrunnere42</div>
					<div class="post-datetime">
						30 Jan 2016, 14:23					</div>
				</div>
				<div class="post-content content">
					<p>How to upgrade the Shield Pro Firmware SP1<br />Video of these steps can be found here: <a href="https://www.youtube.com/watch?v=p-CJmGL7ayQ">https://www.youtube.com/watch?v=p-CJmGL7ayQ</a></p><p>This is only required if your Shield is running v1.0 or RC2. After upgrading to the latest version (v1.51) this procedure will no longer be necessary for firmware upgrades.</p><p>SP 1 v1.51 Upgrade Instructions:</p><p>1. Download Putty - <a href="http://www.putty.org/">http://www.putty.org/</a><br />&nbsp; &nbsp;Note: If you are using a Mac computer, you do not need to use putty.</p><p>2. If the Shield is not already in Router Mode follow the below instrcutions</p><p>&nbsp; &nbsp; Flip mode switch on the Shield to &quot;R&quot; for Router Mode and reboot<br />&nbsp; &nbsp; Connect Shield eth0 to router&#039;s LAN<br />&nbsp; &nbsp; Connect Shield eth2 to your computer</p><p>3. Check that your computer can access the internet</p><p>4. Enable Shield Advanced Mode</p><p>&nbsp; &nbsp; Login to the Shields Web GUI<br />&nbsp; &nbsp; Go to Status -&gt; ITUS Settings<br />&nbsp; &nbsp; Change &quot;Show Advanced Mode&quot; to Yes<br />&nbsp; &nbsp; Click &quot;Save &amp; Apply&quot;</p><p>5. Enable SSH/Dropbear</p><p>&nbsp; &nbsp; Go to System -&gt; Administration<br />&nbsp; &nbsp; Click on the &#039;Add&#039; button under &#039;Dropbear Instance&#039;<br />&nbsp; &nbsp; Set Interface to lan<br />&nbsp; &nbsp; Click &#039;Save and Apply.&#039;</p><p>6. Cycle Firewall</p><p>&nbsp; &nbsp; Go to System -&gt; Startup<br />&nbsp; &nbsp; Locate firewall and click &quot;Restart&quot;</p><p>7. Establish SSH Connection to Shield<br />Note: If you are using a Mac computer, you do not need to use putty. Instead, open a terminal and type &#039;ssh root@10.10.10.10&#039; into the command prompt.</p><p>&nbsp; &nbsp; Open Putty<br />&nbsp; &nbsp; HostName: 10.10.10.10<br />&nbsp; &nbsp; Port: 22<br />&nbsp; &nbsp; Connection Type: SSH<br />&nbsp; &nbsp; Click &quot;Open&quot;<br />&nbsp; &nbsp; Click &quot;Yes&quot; in the warning window<br />&nbsp; &nbsp; Login as: root<br />&nbsp; &nbsp; Password: Same as Web GUI password</p><p>8. Upgrade Shield To SP1</p><p>&nbsp; &nbsp; Copy the upgrade script from your browser (<a href="https://itus.io/wp-content/uploads/2015/...pgrade.txt">https://itus.io/wp-content/uploads/2015/...pgrade.txt</a>)<br />&nbsp; &nbsp; Paste into SSH terminal</p><p>9. Wait for firmware download to complete.</p><p>10. Reboot Shield</p><p>11. Wait 5-10 Minutes</p><p>12. Enjoy!</p><p>We are here to help! If you need assistance in upgrading, please open a support ticket at <a href="https://ITUS.io/support/#Help">https://ITUS.io/support/#Help</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309602">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">roadrunnere42</div>
					<div class="post-datetime">
						30 Jan 2016, 14:25					</div>
				</div>
				<div class="post-content content">
					<p>All,<br />We are still working to find the final resolution to your PS4 issues. In the mean time please use the below instructions as a work around until we can provide a final resolution.</p><p>Note: These instructions put the PS4 (or whatever is at that IP) onto a DMZ that has direct connection to the internet. There&#039;s no filtering or protection, it bypasses Shield services. </p><p>Set PS4 to Static IP Address:</p><p>1) Set the PS4 to a static IP outside of DHCP range (Click here to learn how to set the static IP Address)<br />&nbsp; &nbsp; &nbsp;Note: The below IPs will be different if you have changed the default IP address of the Shield<br />&nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; Router Mode<br />&nbsp; &nbsp; &nbsp; Static IP: 10.10.10.50<br />&nbsp; &nbsp; &nbsp; Subnet Mask: 255.255.255.0<br />&nbsp; &nbsp; &nbsp; Default Gateway: 10.10.10.10</p><p>&nbsp; &nbsp; &nbsp; Bridge Mode<br />&nbsp; &nbsp; &nbsp; Static IP: X.X.X.50 (X=Your Routers Network)<br />&nbsp; &nbsp; &nbsp; Subnet Mask: Your Routers Subnet<br />&nbsp; &nbsp; &nbsp; Default Gateway: Routers IP Address</p><p>Apply Custom Firewall Rules:</p><p>1) Login to Shield Web GUI<br />2) Network -&gt; Firewall -&gt; Custom Rules<br />3) Copy and paste the below two rules into the bottom of the file<br />&nbsp; &nbsp; &nbsp; iptables -I FORWARD -s 10.10.10.50 -j ACCEPT<br />&nbsp; &nbsp; &nbsp; iptables -I FORWARD -d 10.10.10.50 -j ACCEPT<br />4) Click &quot;Submit&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309613">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						30 Jan 2016, 16:39					</div>
				</div>
				<div class="post-content content">
					<p>Greetings. It looks like you all are new comers migrating from some forums to here. If so, I am please to have encountered you all here.</p><p>TBH, I never recall hearing of ITUS Shield Pro until this discussion topic. As such, I have no idea what this device can do. So, can anyone please educate me what this device can do or at least provide some links to its documentation? Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309624">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">sk3tch</div>
					<div class="post-datetime">
						30 Jan 2016, 18:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mazilo wrote:</cite><blockquote><p>Greetings. It looks like you all are new comers migrating from some forums to here. If so, I am please to have encountered you all here.</p><p>TBH, I never recall hearing of ITUS Shield Pro until this discussion topic. As such, I have no idea what this device can do. So, can anyone please educate me what this device can do or at least provide some links to its documentation? Thank you.</p></blockquote></div><p>Thanks for the welcome!</p><p>This is probably one of the best technical articles that I have found: <a href="http://linuxgizmos.com/cavium-adds-openwrt-support-to-octeon-iii/">http://linuxgizmos.com/cavium-adds-open … cteon-iii/</a></p><p>The ITUS Shield Pro is a designed-for-home-users UTM with a Snort IPS and a squid proxy (and the usual firewall features and things like DHCP) - it&#039;s runs OpenWRT so we&#039;re hoping that even though the company looks to be out of business, that we can still support it as a community. They&#039;re great little devices.</p><p>Pez for scale. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br /><span class="postimg"><img src="https://scontent-ord1-1.xx.fbcdn.net/hphotos-xpt1/t31.0-8/12493949_10107123778273170_3688656968450371501_o.jpg" alt="ITUS Shield Pro" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309625">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">stangrunner</div>
					<div class="post-datetime">
						30 Jan 2016, 18:38					</div>
				</div>
				<div class="post-content content">
					<p>Hello Mazilo and thanks for welcoming us.&nbsp; </p><p>Yes, it appears ITUS Networks is no more and we wanted to keep our devices up and working for as long as we can.&nbsp; If you are interested in what the Shield is, the ITUS home page ( <a href="https://itus.io/shield-pro/">https://itus.io/shield-pro/</a> ) should help.&nbsp; &nbsp; </p><p>Thanks again. </p><p>Carlos.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309627">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">stangrunner</div>
					<div class="post-datetime">
						30 Jan 2016, 18:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sk3tch wrote:</cite><blockquote><div class="quotebox"><cite>mazilo wrote:</cite><blockquote><p>Greetings. It looks like you all are new comers migrating from some forums to here. If so, I am please to have encountered you all here.</p><p>TBH, I never recall hearing of ITUS Shield Pro until this discussion topic. As such, I have no idea what this device can do. So, can anyone please educate me what this device can do or at least provide some links to its documentation? Thank you.</p></blockquote></div><p>Thanks for the welcome!</p><p>This is probably one of the best technical articles that I have found: <a href="http://linuxgizmos.com/cavium-adds-openwrt-support-to-octeon-iii/">http://linuxgizmos.com/cavium-adds-open … cteon-iii/</a></p><p>The ITUS Shield Pro is a designed-for-home-users UTM with a Snort IPS and a squid proxy (and the usual firewall features and things like DHCP) - it&#039;s runs OpenWRT so we&#039;re hoping that even though the company looks to be out of business, that we can still support it as a community. They&#039;re great little devices.</p><p>Pez for scale. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br /><span class="postimg"><img src="https://scontent-ord1-1.xx.fbcdn.net/hphotos-xpt1/t31.0-8/12493949_10107123778273170_3688656968450371501_o.jpg" alt="ITUS Shield Pro" /></span></p></blockquote></div><p>Thanks Sk3tch for the very nice find.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309629">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">stangrunner</div>
					<div class="post-datetime">
						30 Jan 2016, 18:45					</div>
				</div>
				<div class="post-content content">
					<p>All, </p><p>I was wondering if anyone can provide guidance on a good console adapter or cable for the Shield that is compatible with Macs?&nbsp; </p><p>Thank you all in advance.&nbsp; </p><p>Carlos.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309636">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">stangrunner</div>
					<div class="post-datetime">
						30 Jan 2016, 19:26					</div>
				</div>
				<div class="post-content content">
					<p>Going to give this a try: <a href="http://www.amazon.com/gp/product/B00M2SAKMG?psc=1&amp;redirect=true&amp;ref_=oh_aui_detailpage_o00_s00">http://www.amazon.com/gp/product/B00M2S … ge_o00_s00</a></p><p>Found here: <a href="https://packetinspector.org/showthread.php?tid=62&amp;highlight=console">https://packetinspector.org/showthread. … ht=console</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309647">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">robj</div>
					<div class="post-datetime">
						30 Jan 2016, 21:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi all -- I just joined. I&#039;m really sad to hear about Itus going under. Great people and a great product idea. And now I&#039;m having technical issues with my shield and cannot solve them on my own after many hours trying. I searched and didn&#039;t see a good place to post problems on this forum for possible help. Forgive my ignorance if I&#039;m posting in the wrong place.</p><p>My shield (router mode) stopped working two days ago. No reason, just stopped. I tried all the suggestions in other forum posts about rebooting, resetting, restarting my modem, router, and shield. No dice. Tested cables too, and not the problem. Waited the prescribed timeframes for each bootup, including 15 min for Shield</p><p>When modem is connected to router without Shield between, everything works great. So problem is isolated to the Shield. </p><p>Lights are on, so the Shield appears to be working, and I can access its admin interface. But I can never get the internet connected with Shield in place. So obviously something is wrong</p><p>I&#039;m very appreciative of any troubleshooting suggestions you can provide</p><p>However, if Itus is no longer, will Shield still get regular 3rd party updates (similar to virus definition updates)? If the current ones will become obsolete, and I cannot get new updates, is there a point in resurrecting my shield (?)</p><p>thanks for your insights and kind regards,<br />-Rob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309656">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">trblz</div>
					<div class="post-datetime">
						30 Jan 2016, 22:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangrunner wrote:</cite><blockquote><p>Going to give this a try: <a href="http://www.amazon.com/gp/product/B00M2SAKMG?psc=1&amp;redirect=true&amp;ref_=oh_aui_detailpage_o00_s00">http://www.amazon.com/gp/product/B00M2S … ge_o00_s00</a></p><p>Found here: <a href="https://packetinspector.org/showthread.php?tid=62&amp;highlight=console">https://packetinspector.org/showthread. … ht=console</a></p></blockquote></div><p>I&#039;ve had good experience with the <a href="http://www.ebay.com/itm/Cisco-Console-Cable-USB-RJ45-6ft-FTDI-Windows-8-7-Vista-MAC-Linux-RS232-US-/271757807739?hash=item3f4607107b">Cisco Console Cable USB RJ45 6ft FTDI Windows 8, 7, Vista, MAC, Linux RS232 US</a>. Got it from Ebay but you can also find it on Amazon.</p><p>Make sure to set the com to baud= 1152000, data bits = 8, stop bits =1, parity=none, row control=XON/XOFF</p><p>cheers, Trblz (on Itus: Hans)</p>											<p class="post-edited">(Last edited by <strong>trblz</strong> on 30 Jan 2016, 22:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309663">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">roadrunnere42</div>
					<div class="post-datetime">
						31 Jan 2016, 00:34					</div>
				</div>
				<div class="post-content content">
					<p>Stangrunner</p><p>I have the same cable and it works fine on windows and linux, came with disk for windows drivers.</p><p>Andy (Roadrunnere42 itus forum)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309664">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">stangrunner</div>
					<div class="post-datetime">
						31 Jan 2016, 00:40					</div>
				</div>
				<div class="post-content content">
					<p>Thanks everyone for the console cable tips.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309669">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						31 Jan 2016, 00:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sk3tch wrote:</cite><blockquote><p>This is probably one of the best technical articles that I have found: <a href="http://linuxgizmos.com/cavium-adds-openwrt-support-to-octeon-iii/">http://linuxgizmos.com/cavium-adds-open … cteon-iii/</a></p></blockquote></div><p>It really is a nice piece of hardware. Unfortunately, it is beyond my budget. Nevertheless, I thank you for such an information.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309671">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Wisiwyg</div>
					<div class="post-datetime">
						31 Jan 2016, 01:42					</div>
				</div>
				<div class="post-content content">
					<p>Hi Mazilo,</p><p>Thank you for that kind welcome!!</p><p>Yep, it is a nice piece of hardware and the software is doing what it should. Yes, it has some minor things that haven&#039;t gotten worked out, but as a community we may be able to get it fixed.</p><p>Re budget, I&#039;d keep an eye on eBay (and I *am* keeping one on it!) for people selling because they don&#039;t want to put in the effort to keep it going or can&#039;t wrap their heads around it. There are already one or two out there (at usury prices!) trying to sell before word gets widespread about Itus&#039; plight. But there will be more that should be at reasonable asking price.</p><p>For me, I considered running Snort in my Asus router, but felt with a family of 4 and a 125mb pipe, it wouldn&#039;t handle the throughput. So this is a great solution.</p>											<p class="post-edited">(Last edited by <strong>Wisiwyg</strong> on 31 Jan 2016, 01:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309673">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Wisiwyg</div>
					<div class="post-datetime">
						31 Jan 2016, 01:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Turrican2 wrote:</cite><blockquote><p>Sad news indeed.&nbsp; I plan to keep my shield running in Bridge mode for as long as possible.&nbsp; What&#039;s the best way to check that updates are being received?</p></blockquote></div><p>The last fw_upgrade script provided by Itus puts the Shield in autopilot mode - everything happens, as far as signature updates, with no intervention required. If you&#039;re wanting to check to see if it is updated - log on to LuCI and check the Status page. It should show you the current day&#039;s date. The script runs around 3:15 am, unless you&#039;ve changed the cron job.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309674">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">Wisiwyg</div>
					<div class="post-datetime">
						31 Jan 2016, 02:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>roadrunnere42 wrote:</cite><blockquote><p>How to upgrade the Shield Pro Firmware SP1</p><p>8. Upgrade Shield To SP1</p><p>&nbsp; &nbsp; Copy the upgrade script from your browser (<a href="https://itus.io/wp-content/uploads/2015/...pgrade.txt">https://itus.io/wp-content/uploads/2015/...pgrade.txt</a>)<br />&nbsp; &nbsp; Paste into SSH terminal</p></blockquote></div><p>Hi @roadrunnere42!</p><p>Head&#039;s up that the link to the script is dead - I think it is more an issue of copying over the information as I was able to go to the link from the original thread. I&#039;ve included the script referenced above in the first post in one of the download links titled &quot;Original 1.51 SP1 Firmware Install Script&quot;, just in case! </p><p>Thank you for putting the detailed information here!</p>											<p class="post-edited">(Last edited by <strong>Wisiwyg</strong> on 31 Jan 2016, 02:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309675">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">Wisiwyg</div>
					<div class="post-datetime">
						31 Jan 2016, 02:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>robj wrote:</cite><blockquote><p>Hi all -- I just joined. I&#039;m really sad to hear about Itus going under. Great people and a great product idea. And now I&#039;m having technical issues with my shield and cannot solve them on my own after many hours trying. I searched and didn&#039;t see a good place to post problems on this forum for possible help. Forgive my ignorance if I&#039;m posting in the wrong place.</p><p>My shield (router mode) stopped working two days ago. No reason, just stopped. I tried all the suggestions in other forum posts about rebooting, resetting, restarting my modem, router, and shield. No dice. Tested cables too, and not the problem. Waited the prescribed timeframes for each bootup, including 15 min for Shield</p><p>When modem is connected to router without Shield between, everything works great. So problem is isolated to the Shield. </p><p>Lights are on, so the Shield appears to be working, and I can access its admin interface. But I can never get the internet connected with Shield in place. So obviously something is wrong</p><p>I&#039;m very appreciative of any troubleshooting suggestions you can provide</p><p>However, if Itus is no longer, will Shield still get regular 3rd party updates (similar to virus definition updates)? If the current ones will become obsolete, and I cannot get new updates, is there a point in resurrecting my shield (?)</p><p>thanks for your insights and kind regards,<br />-Rob</p></blockquote></div><p>Hi Rob!</p><p>Firstly, yes, if you&#039;re on 1.51 with the latest fw_upgrade script then Shield will continue to get updates for malicious sites for IPS rules. These are being pulled from rules.emergeingthreats.net, an open source Snort rules provider, with the rules being updated daily at emergingthreats. So yes, I&#039;d recommend resurrecting your Shield! </p><p>What you described sounds like Snort is not starting. In Router Mode, Shield will still pass internet if Snort doesn&#039;t start - traffic just won&#039;t get filtered. In Bridge mode, traffic is passed through Snort like a soft switch. The fact that you&#039;re getting into the interface through the .111 interface, but no traffic is what points me to a Snort problem.</p><p>Try going into the Status, System Log file from the LuCI interface and scroll to the bottom. You&#039;re looking for FATAL ERROR, something like the problem described below...</p><br /><p>After the upgrade, the system was not connecting. Searching through the logs I found this:</p><p>Sun Jan 24 10:01:38 2016 daemon.notice snort[10282]: WARNING: /etc/snort/rules/snort.rules(4349) GID 1 SID 2404000 in rule duplicates previous rule. Ignoring old rule.</p><p>Sun Jan 24 10:01:38 2016 daemon.err snort[10282]: FATAL ERROR: /etc/snort/rules/snort.rules(4349) threshold (in rule): could not create threshold - only one per sig_id=2404000.<br />Sun Jan 24 10:01:38 2016 daemon.info procd: Instance snort::instance1 s in a crash loop 6 crashes, 3 seconds since last crash</p><p>I searched through /etc/snort/snort.rules and found this entry listed twice:</p><p>drop tcp $HOME_NET any -&gt; [103.225.168.222,104.131.93.109,104.144.167.131,104.144.167.132,104.161.17.17,104.238.141.230,104.238.147.212,106.187.48.236,106.187.99.92,107.161.19.71] any (msg:&quot;ET CNC Shadowserver Reported CnC Server TCP group 1&quot;; flags:S; reference:url,doc.emergingthreats.net/bin/view/Main/BotCC; reference:url,www.shadowserver.org; threshold: type limit, track by_src, seconds 3600, count 1; classtype:trojan-activity; flowbits:set,ET.Evil; flowbits:set,ET.BotccIP; sid:2404000; rev:4109;)</p><p>I commented out the first instance, saved, restarted snort and watched the log. Then this:</p><p>Sun Jan 24 10:09:38 2016 daemon.notice snort[10989]: WARNING: /etc/snort/rules/snort.rules(4350) GID 1 SID 2404001 in rule duplicates previous rule. Ignoring old rule.<br />Sun Jan 24 10:09:38 2016 daemon.err snort[10989]: FATAL ERROR: /etc/snort/rules/snort.rules(4350) threshold (in rule): could not create threshold - only one per sig_id=2404001.</p><p>So, looks like a number of duplicates have been introduced into the snort rules. While the log indicates the earlier (old) rule is ignored, it looks like it still causes a fatal exception preventing snort from starting.</p><p>Is there a backup of the snort rules stored on the system that I can replace the corrupt file with? Or, is the snort.rules file available for download alone? I don&#039;t want to go through this exercise of finding one, commenting out, restarting, to see if there&#039;s another one duplicated. It might be as simple as going to the first duplicate instance and deleting everything beneath it.</p><p>Also, the script goes to rules.emergingthreats.net to dl update files. That site is blocked by Norton connectsafe, which is running as a DNS filter on my router. Shield would never get to the site to dl a new ruleset.</p><p>Further update....</p><p>I walked through the snort.rules file and found where it looked like the original fileset had duplicated itself on top. I selected what appeared to be the duplicates and deleted them from the file, effectively the top half of the file&#039;s data.</p><p>I then went to the router and cleared rules.emergingthreats.net to allow it to pass the DNS filter - basically changed filter providers to Yandex and then navigated to rules.emergingthreats.net to ensure it would pass.</p><p>I then restarted Snort. Everything came back up and I had internet access.</p><p>I then SSH&#039;d into Shield and manually kicked off fw_upgrade. Everything processed, the system log didn&#039;t list a fatal exception. It appears to be running as expected now, except I still received a couple of errors on the script:</p><p>rm: can&#039;t remove &#039;/tmp/ads.tmp&#039; : No such file or directory<br />rm: can&#039;t remove &#039;/tmp/malicious.tmp&#039; : No such file or directory</p><p>Even though it works fine with those errors, I would expect those to exist as I looked through the script and it tries to pull rules for them. I haven&#039;t looked at the server to confirm that there are or are not rules available for the script to pull to create those files, though. But for now, I have internet running through Shield again.</p>											<p class="post-edited">(Last edited by <strong>Wisiwyg</strong> on 31 Jan 2016, 02:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p309676">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">Wisiwyg</div>
					<div class="post-datetime">
						31 Jan 2016, 02:37					</div>
				</div>
				<div class="post-content content">
					<p>Regarding the information above, I also received a request to provide a walk-through the steps covered in the forensic review. </p><p>Disclaimer: I&#039;m not a Snort expert or an IT specialist... I dabble at this for &quot;fun with a purpose&quot;.</p><p>Prerequisite: Shield is running in Bridge mode, in place with output from modem on eth0, cable from eth1 to your network, cable from eth2 to the WAN port on your router. Shield is powered up, even though you&#039;re not getting internet. Basically, have it all set up as it should work normally.</p><p>Identify Snort Problem<br />1) In LuCI, open the System Log at Status/System Log<br />2) Use the browser&#039;s search function and look for &quot;FATAL ERROR&quot;. In Firefox it is Ctrl-F.<br />3) If Fatal Error is found, look at the log to determine whether it occurs in the Snort start-up sequence. It should look like this:<br />Sun Jan 24 10:01:38 2016 daemon.err snort[10282]: FATAL ERROR: /etc/snort/rules/snort.rules(4349) threshold (in rule): could not create threshold - only one per sig_id=2404000</p><p>Problem Found<br />4) Using WinSCP, open Shield, navigate to /etc/snort/rules and highlight snort.rules. Right click and choose Duplicate and give it a .bak extension. Keep this backup- just in case...<br />5) In WinSCP still, right click on snort.rules and choose Edit. The file will open and present you with a screen full of text. Make sure your cursor is at the top, left of the text.<br />6) In WinSCP, press Ctrl-F for Find/Search. Enter the duplicate rule number from step 3 above that generated the Fatal Error. In this case, it is 2404000.<br />7) Search for the duplicate. Note the Search has an Up and Down function. Once you find the rule once, Search again from that location. If the rule is found a 2nd time (which it should), highlight the line above the 2nd instance and select all of the text back to the top. Delete the highlighted text, leaving the line with the 2nd instance as the 1st line in the resulting list.<br />8) Save the snort.rules list and exit WinSCP.<br />9) Reboot, give about 10 minutes for everything to start and internet to come up. If internet doesn&#039;t come up, go through the process steps 1-9 above again, eliminating duplicates in the snort.rules file.</p><p>It is probably OK to actually delete everything in the rules file except 1 or 2 lines. The purpose of this is to get Snort to come up. In Bridge mode, Snort is in control of internet pass-through. If it doesn&#039;t come up properly, internet doesn&#039;t pass. Router mode is different. I believe internet will pass, but Snort won&#039;t examine traffic. I&#039;m not sure as I don&#039;t run in Router mode and have had no experience with it. By wiping everything but 1 or 2 lines, Snort would come up and the whole rules file would be rebuilt after the fw_upgrade script runs.</p><p>Other issue?<br />9) Once internet function is back, open rules.emergingthreats.net in your browser. If you are successful, then the script can get to the location for nearly all of the snort updates. If not, as in my case, you will need to figure out why that site is being blocked. In my case, my Asus router has DNS filter functions that prevented connection. By going there manually, I could see the block message from the router.&nbsp; </p><p>Finally<br />10) There are additional functions in the nightly script that update the ads and malicious website filters used for the web filter functions. While they don&#039;t appear to break Snort, you may want to make sure the sites are available for that function as well. Those sites are listed at the bottom of the fw_upgrade script. Using the steps 4 and 5 above, open /sbin/fw_upgrade with WinSCP in Edit mode. Scroll to the bottom and look through the ####Ads Update#### and ####Malware Update#### sections. Try each of those websites in your browser. If any of them are blocked for some reason, you can either put a &#039;#&#039; in the first position on the line to comment it out or ferret out the reason they&#039;re being blocked. You don&#039;t have to do this to get Snort to run and get internet back online.</p><p>Update Rules<br />11) Using SSH, log into Shield and manually start the software update by issuing the command &quot;sh /sbin/fw_upgrade&quot;. Alternatively, use the built-in LuCI function at Status/Itus Settings/Update Shield to start the upgrade process. It will take about 3-5 minutes to run the update.</p><p>Note that WinSCP has a &#039;terminal&#039; icon that you can click to get a terminal into Shield, but it does not support multiple steps. So, don&#039;t use the WinSCP terminal to run the script. There is another icon in WinSCP that will open an instance of PuTTy. If you set this up, then you *can* use the Open PuTTy icon in WinSCP to run the script.</p><p>Hope this helps....</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=62460&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=62460&amp;p=3.html">3</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>