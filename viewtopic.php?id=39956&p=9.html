<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ar9331&#039;s usb stability issue - [SOLVED]</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 23 Mar 2017 and 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 9 of 13</div><nav><ul><li><a href="viewtopic.php%3Fid=39956&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=39956&amp;p=8.html">8</a></li><li class="pagination-current"><span>9</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=10.html">10</a></li><li><a href="viewtopic.php%3Fid=39956&amp;p=11.html">11</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=13.html">13</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p220202">
				<div class="post-metadata">
					<div class="post-num">Post #201</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						17 Dec 2013, 13:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mark_V wrote:</cite><blockquote><p>Many! thanks for the work and the drive to solve this problem (from reading i understand that Atheros knows the problem but don&#039;t want to solve it)</p></blockquote></div><p>Actually, the chip has a hardware bug where spurious RF emissions affect the USB PLL. Of course, they will not aknowledge it as a critical bug as they found a software workaround for it.</p><p>This workaround is using some undocumented registers, and even the datasheet is normally under NDA only, which makes it very difficult for open source initiatives like OpenWrt to catch up. We basically just lost 2 years because of information obfuscation <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><div class="quotebox"><cite>Mark_V wrote:</cite><blockquote><p>For my understanding, this patch sets some bits from the USB controller registers (here the USB PLL) which are not set the right way at initialize (boot) but change when you switch off the WiFi?</p></blockquote></div><p>Yes, you have to tweak some USB PLL bits every time you change the WiFi (init, change, reset...).</p><p>The original macro appeared publicly in QCA&#039;s github, but the merit of applying it to OpenWrt goes to the Carambola2 developers!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220231">
				<div class="post-metadata">
					<div class="post-num">Post #202</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						17 Dec 2013, 17:48					</div>
				</div>
				<div class="post-content content">
					<p>it&#039;a early morning,cant have wait the squonk&#039;s patch,so i just apply the patch to the source 12.09,and i compile all the ar71xx device,but not yet test,if someone like do a early test but dont want do the compile which its cost me about 5 hours:(,you can have a look at:&nbsp; &nbsp;</p><p><a href="http://162.243.126.90/ar71xx/">http://162.243.126.90/ar71xx/</a></p><p>that&#039;s a really great day,and it should be change something,which squonk telled me the ar9331 is only 0.5w cost power!and with this path just look like a champ!</p><div class="quotebox"><cite>Squonk wrote:</cite><blockquote><p>The original macro appeared publicly in QCA&#039;s github, but the merit of applying it to OpenWrt goes to the Carambola2 developers!</p></blockquote></div><p>and what&#039;s the qca doing?wired name..</p>											<p class="post-edited">(Last edited by <strong>slboat</strong> on 17 Dec 2013, 17:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220232">
				<div class="post-metadata">
					<div class="post-num">Post #203</div>
					<div class="post-author">pepe2k</div>
					<div class="post-datetime">
						17 Dec 2013, 17:57					</div>
				</div>
				<div class="post-content content">
					<p>QCA = Qualcomm Atheros</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220234">
				<div class="post-metadata">
					<div class="post-num">Post #204</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						17 Dec 2013, 18:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pepe2k wrote:</cite><blockquote><p>QCA = Qualcomm Atheros</p></blockquote></div><p>wah!i dont know them doing open source too.<br />and pepe2k,i have a idea about you uboot-mod,which still i not yet have time to finish the mac mod on web,but in this idea,i suggestion the uboot can download all the flash content,and maybe compress it,so it just like the ghost on windows,you actually can backup everything with you upgrade,you change,any thing!all in the backup file.we can called it [xxxxx.2013-1218.bin]</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220239">
				<div class="post-metadata">
					<div class="post-num">Post #205</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						17 Dec 2013, 18:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>slboat wrote:</cite><blockquote><div class="quotebox"><cite>pepe2k wrote:</cite><blockquote><p>QCA = Qualcomm Atheros</p></blockquote></div><p>wah!i dont know them doing open source too.</p></blockquote></div><p>Yes they do:<br /><a href="https://github.com/qca/qcamain_open_hal_public">https://github.com/qca/qcamain_open_hal_public</a></p><p>This is where the workaround macro is originating!</p><p>The main contact there is Adrian Chadd.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p220269">
				<div class="post-metadata">
					<div class="post-num">Post #206</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						18 Dec 2013, 06:12					</div>
				</div>
				<div class="post-content content">
					<p>for the use r36088 guy,i make a bin patch for the version,my english is bad,so if you not sure what i say,i think is i made a bad doc for it.</p><p><a href="https://github.com/SLboat/Openwrt_12.09_r36088-USB11_RESET_PATCH/">https://github.com/SLboat/Openwrt_12.09 … SET_PATCH/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221570">
				<div class="post-metadata">
					<div class="post-num">Post #207</div>
					<div class="post-author">uaLion</div>
					<div class="post-datetime">
						3 Jan 2014, 17:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone! help me pleas. I want to install the patch for correct work of usb 1.1 , my router TP-LINK mr3220 v2.2 <a href="https://github.com/8devices/carambola2/commit/b08b59ceb4e7f0bad4c0b17e703e1e5c4e168923">https://github.com/8devices/carambola2/ … 5c4e168923</a>, I throw in a folder / package / <span style="color: #FF0000">Kernel</span> / mac80211 / patches / 566-ath9k_usb_hang_workaround.patch collect firmware but i have error</p><div class="codebox"><pre><code>Patch failed!  Please fix ./patches/566-ath9k_usb_hang_workaround.patch!
make[3]: *** [/home/lion/openwrt/trunk/build_dir/target-mips_34kc_uClibc-0.9.33.2/linux-ar71xx_generic/compat-wireless-2013-11-05/.prepared_adb671db036694a8948190e1b1302b5d] Error 1
make[3]: Leaving directory `/home/lion/openwrt/trunk/package/kernel/mac80211&#039;
make[2]: *** [package/kernel/mac80211/compile] Error 2
make[2]: Leaving directory `/home/lion/openwrt/trunk&#039;
make[1]: *** [/home/lion/openwrt/trunk/staging_dir/target-mips_34kc_uClibc-0.9.33.2/stamp/.package_compile] Error 2
make[1]: Leaving directory `/home/lion/openwrt/trunk&#039;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221581">
				<div class="post-metadata">
					<div class="post-num">Post #208</div>
					<div class="post-author">snowyowlster</div>
					<div class="post-datetime">
						3 Jan 2014, 20:04					</div>
				</div>
				<div class="post-content content">
					<p>This happens because the file hw.c has changed from release to release.&nbsp; What you need to do is to create a patch from your copy of hw.c. It is quite easy.&nbsp; See instructions below&nbsp; (... denotes actual text which I was too lazy to type in)</p><p>In a junk dir&nbsp; create a/drivers/net/wireless/ath/ath9k/&nbsp; and&nbsp; b/drivers/net/wireless/ath/ath9k/<br />put hw.c which was created in build_dir/target-.../linux-ar7../compat-wireless-201.../drivers/net/wireless/ath/ath9k/&nbsp; during the orignal build into both a and b directories and edit hw.c in directory b/...&nbsp; &nbsp; &nbsp;with the USB fix</p><p>To edit hw.c with the fix - review the patch and just copy the changes over to the appropriate sections in hw.c. If your version of trunk is fairly curent - then you will be off by only a few lines. </p><p>Then do <br />diff -U 2 a/drivers/net....../hw.c&nbsp; b/drivers/net/..../hw.c&nbsp; &gt; 566-usb-....patch<br />move patch to package/kernel/mac80211/patches&nbsp; directory</p><p>I don&#039;t why this has not been accepted into trunk yet - squonk submitted it on Dec 16. </p><br /><br /><br /><br /><br /><div class="quotebox"><cite>uaLion wrote:</cite><blockquote><p>Hi everyone! help me pleas. I want to install the patch for correct work of usb 1.1 , my router TP-LINK mr3220 v2.2 <a href="https://github.com/8devices/carambola2/commit/b08b59ceb4e7f0bad4c0b17e703e1e5c4e168923">https://github.com/8devices/carambola2/ … 5c4e168923</a>, I throw in a folder / package / <span style="color: #FF0000">Kernel</span> / mac80211 / patches / 566-ath9k_usb_hang_workaround.patch collect firmware but i have error</p><div class="codebox"><pre><code>Patch failed!  Please fix ./patches/566-ath9k_usb_hang_workaround.patch!
make[3]: *** [/home/lion/openwrt/trunk/build_dir/target-mips_34kc_uClibc-0.9.33.2/linux-ar71xx_generic/compat-wireless-2013-11-05/.prepared_adb671db036694a8948190e1b1302b5d] Error 1
make[3]: Leaving directory `/home/lion/openwrt/trunk/package/kernel/mac80211&#039;
make[2]: *** [package/kernel/mac80211/compile] Error 2
make[2]: Leaving directory `/home/lion/openwrt/trunk&#039;
make[1]: *** [/home/lion/openwrt/trunk/staging_dir/target-mips_34kc_uClibc-0.9.33.2/stamp/.package_compile] Error 2
make[1]: Leaving directory `/home/lion/openwrt/trunk&#039;</code></pre></div></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221630">
				<div class="post-metadata">
					<div class="post-num">Post #209</div>
					<div class="post-author">uaLion</div>
					<div class="post-datetime">
						4 Jan 2014, 15:19					</div>
				</div>
				<div class="post-content content">
					<p>I tried to edit the file &quot;<a href="https://drive.google.com/file/d/0ByLJuGhA3OA5T3JUU0FpYmFxdEk/edit?usp=sharing">566-ath9k_usb_hang workaround.patch</a>&quot; according to my file &quot;hw.c&quot; but the last line of the file 566-ath9k_usb_hang workaround.patch</p><div class="codebox"><pre><code>@@ -2052,6 +2069,8 @@
    if (AR_SREV_9565(ah) &amp;&amp; ah-&gt;shared_chain_lnadiv)
        REG_SET_BIT(ah, AR_BTCOEX_WL_LNADIV, AR_BTCOEX_WL_LNADIV_FORCE_ON);
+    WAR_USB_DISABLE_PLL_LOCK_DETECT(ah);
+
    return 0;
}
EXPORT_SYMBOL(ath9k_hw_reset);</code></pre></div><p> I do not have to in my file hw.c</p><br /><p>it&#039;s my <a href="https://drive.google.com/file/d/0ByLJuGhA3OA5M1g5UVpaSGEwalk/edit?usp=sharing">hw.c </a><br />and<br /><a href="https://drive.google.com/file/d/0ByLJuGhA3OA5T3JUU0FpYmFxdEk/edit?usp=sharing">566-ath9k_usb_hang workaround.patch</a></p><p>---<br />I&#039;m new and I am sorry for noob questions, thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221633">
				<div class="post-metadata">
					<div class="post-num">Post #210</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						4 Jan 2014, 15:52					</div>
				</div>
				<div class="post-content content">
					<p>It looks like the flag for BlueTooth antenna diversity has moved...</p><p>Just replace the &quot;ah-&gt;shared_chain_lnadiv&quot;f lag in the patch file by the &quot;common-&gt;bt_ant_diversity&quot; flag from your hw.c file and apply the patch again from the original hw.c.</p>											<p class="post-edited">(Last edited by <strong>Squonk</strong> on 4 Jan 2014, 15:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221662">
				<div class="post-metadata">
					<div class="post-num">Post #211</div>
					<div class="post-author">uaLion</div>
					<div class="post-datetime">
						4 Jan 2014, 20:18					</div>
				</div>
				<div class="post-content content">
					<p>it&#039;s a new &quot;<a href="https://drive.google.com/file/d/0ByLJuGhA3OA5OEE0YXlQTmlBMXM/edit?usp=sharing">566-ath9k_usb_hang_workaround.patch</a>&quot; but i have error<br /></p><div class="codebox"><pre><code>Applying ./patches/566-ath9k_usb_hang_workaround.patch using plaintext: 
patching file drivers/net/wireless/ath/ath9k/hw.c
/usr/bin/patch: **** malformed patch at line 4: MODULE_SUPPORTED_DEVICE(&quot;Atheros 802.11n WLAN cards&quot;);

Patch failed!  Please fix ./patches/566-ath9k_usb_hang_workaround.patch!
make[3]: *** [/home/lion/openwrt/trunk/build_dir/target-mips_34kc_uClibc-0.9.33.2/linux-ar71xx_generic/compat-wireless-2013-11-05/.prepared_adb671db036694a8948190e1b1302b5d] Error 1
make[3]: Leaving directory `/home/lion/openwrt/trunk/package/kernel/mac80211&#039;
make[2]: *** [package/kernel/mac80211/compile] Error 2
make[2]: Leaving directory `/home/lion/openwrt/trunk&#039;
make[1]: *** [/home/lion/openwrt/trunk/staging_dir/target-mips_34kc_uClibc-0.9.33.2/stamp/.package_compile] Error 2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221670">
				<div class="post-metadata">
					<div class="post-num">Post #212</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						4 Jan 2014, 22:26					</div>
				</div>
				<div class="post-content content">
					<p>Here is a patch that should apply cleanly to your version of hw.c:<br /><a href="https://drive.google.com/file/d/0B7HvhrQgpLZFM3BpZEdpUDB4eHc/edit?usp=sharing">https://drive.google.com/file/d/0B7Hvhr … sp=sharing</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221713">
				<div class="post-metadata">
					<div class="post-num">Post #213</div>
					<div class="post-author">uaLion</div>
					<div class="post-datetime">
						5 Jan 2014, 13:12					</div>
				</div>
				<div class="post-content content">
					<p>thank you so much for your help snowyowlster and Squonk )) <br />I have done many syntax errors in my patch file, so do not worked. <br />---<br />Maybe install AA version for tp-link 3220 v2.2? Or need to wait for the official release?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221959">
				<div class="post-metadata">
					<div class="post-num">Post #214</div>
					<div class="post-author">snowyowlster</div>
					<div class="post-datetime">
						7 Jan 2014, 19:43					</div>
				</div>
				<div class="post-content content">
					<p>Yes - move to AA 12.09. Several fixes have been backported to hw.c in AA 12.09&nbsp; but the USB fix has not been backported yet. Create the patch using instructions provided earlier.</p>											<p class="post-edited">(Last edited by <strong>snowyowlster</strong> on 7 Jan 2014, 19:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222148">
				<div class="post-metadata">
					<div class="post-num">Post #215</div>
					<div class="post-author">bwiseo</div>
					<div class="post-datetime">
						9 Jan 2014, 11:01					</div>
				</div>
				<div class="post-content content">
					<p>I was facing the same problem.. Thanks to all for helping me to solve this problem<a href="http://www.brainworkindia.net/content-writing.html">.</a>..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222181">
				<div class="post-metadata">
					<div class="post-num">Post #216</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						9 Jan 2014, 16:58					</div>
				</div>
				<div class="post-content content">
					<p>I submitted the patch to the dev list, but it is not yet integrated into either the BB trunk or AA branch.</p><p>It is just a matter of days before it will be integrated into BB trunk, then hopefully backported to the AA branch,.</p><p>Please be patient!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222296">
				<div class="post-metadata">
					<div class="post-num">Post #217</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						10 Jan 2014, 14:44					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://dev.openwrt.org/changeset/39212">https://dev.openwrt.org/changeset/39212</a></p><p>thanks all <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222298">
				<div class="post-metadata">
					<div class="post-num">Post #218</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						10 Jan 2014, 15:07					</div>
				</div>
				<div class="post-content content">
					<p>You&nbsp; are welcome <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222303">
				<div class="post-metadata">
					<div class="post-num">Post #219</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						10 Jan 2014, 15:45					</div>
				</div>
				<div class="post-content content">
					<p>Sweet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222623">
				<div class="post-metadata">
					<div class="post-num">Post #220</div>
					<div class="post-author">ysf.zer</div>
					<div class="post-datetime">
						13 Jan 2014, 23:57					</div>
				</div>
				<div class="post-content content">
					<p>is the tl-mr3020 have the same problem ? cause when i put&nbsp; my usb storage and left it all the night i found thaht the router has been rebouted or the usb sitck seems to be unmounted&nbsp; ? the usb storage is for extroot</p>											<p class="post-edited">(Last edited by <strong>ysf.zer</strong> on 14 Jan 2014, 00:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222627">
				<div class="post-metadata">
					<div class="post-num">Post #221</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						14 Jan 2014, 00:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ysf.zer wrote:</cite><blockquote><p>is the tl-mr3020 have the same problem ? cause when i put&nbsp; my usb storage and left it all the night i found thaht the router has been rebouted or the usb sitck seems to be unmounted&nbsp; ? the usb storage is for extroot</p></blockquote></div><p>Possibly, but this bug affects USB full-speed devices mainly, not high-speed devices like an USB stick, unless it is a very low-cost one;)</p><p>Check in the logs how it is enumerated (high or full speed).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222629">
				<div class="post-metadata">
					<div class="post-num">Post #222</div>
					<div class="post-author">ysf.zer</div>
					<div class="post-datetime">
						14 Jan 2014, 00:38					</div>
				</div>
				<div class="post-content content">
					<p>ok i will check but i think its a high speed device because when i copy a file shared using (samba) on the stick the speed is 8 mb/s ~ 10 mb/s so i dont think its detected as fullspeed (from router to cmputer)</p>											<p class="post-edited">(Last edited by <strong>ysf.zer</strong> on 14 Jan 2014, 00:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222635">
				<div class="post-metadata">
					<div class="post-num">Post #223</div>
					<div class="post-author">ysf.zer</div>
					<div class="post-datetime">
						14 Jan 2014, 00:53					</div>
				</div>
				<div class="post-content content">
					<p>[&nbsp; &nbsp; 8.380000] hub 1-0:1.0: USB hub found<br />[&nbsp; &nbsp; 8.380000] hub 1-0:1.0: 1 port detected<br />[&nbsp; &nbsp; 8.420000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />[&nbsp; &nbsp; 8.460000] uhci_hcd: USB Universal Host Controller Interface driver<br />[&nbsp; &nbsp; 8.480000] Initializing USB Mass Storage driver...<br />[&nbsp; &nbsp; 8.490000] usbcore: registered new interface driver usb-storage<br />[&nbsp; &nbsp; 8.490000] USB Mass Storage support registered.<br />[&nbsp; &nbsp; 8.720000] usb 1-1: new high-speed USB device number 2 using ehci-platform<br />[&nbsp; &nbsp; 8.870000] scsi0 : usb-storage 1-1:1.0<br />[&nbsp; &nbsp; 9.890000] scsi 0:0:0:0: Direct-Access&nbsp; &nbsp; &nbsp;Kingston DataTraveler 2.0 1.00 PQ&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 0 ANSI: 4<br />[&nbsp; &nbsp; 9.900000] sd 0:0:0:0: [sda] 7567964 512-byte logical blocks: (3.87 GB/3.60&nbsp; &nbsp; &nbsp; </p><p>its&nbsp; a high speed device <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223501">
				<div class="post-metadata">
					<div class="post-num">Post #224</div>
					<div class="post-author">Mark_V</div>
					<div class="post-datetime">
						22 Jan 2014, 21:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Squonk 2014-01-09 wrote:</cite><blockquote><p>I submitted the patch to the dev list, but it is not yet integrated into either the BB trunk or AA branch.<br />It is just a matter of days before it will be integrated into BB trunk, then hopefully backported to the AA branch,.<br />Please be patient!</p></blockquote></div><p>Sorry for my noob question as i don&#039;t really understand how this patch policy works.</p><p>When i look at AA 12.09 in the download section it still has the april 2013 date, so i think this<br />is still the original version without the USB solution.<br />How can i apply some sort of patch to this version so that it has the USB solution? ( i can&#039;t compile<br />as i still have to install a toolchain) or does this patch already excist and do i overlook something?.</p><p>At this moment i manually copy the module ath9k_hw.ko (thanks to Slboat) to /lib/module/3.3.8<br />but if i do a firstboot all is back to original...</p><p>Grtzz&nbsp; Mark</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223821">
				<div class="post-metadata">
					<div class="post-num">Post #225</div>
					<div class="post-author">rambler</div>
					<div class="post-datetime">
						26 Jan 2014, 21:04					</div>
				</div>
				<div class="post-content content">
					<p>Anybody knows why it is not backported to AA?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 9 of 13</div><nav><ul><li><a href="viewtopic.php%3Fid=39956&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=39956&amp;p=8.html">8</a></li><li class="pagination-current"><span>9</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=10.html">10</a></li><li><a href="viewtopic.php%3Fid=39956&amp;p=11.html">11</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=39956&amp;p=13.html">13</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>