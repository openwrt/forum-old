<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Porting OpenWRT to Buffalo WZR-1750-DHPD</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p242736">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ronaldoafonso</div>
					<div class="post-datetime">
						4 Aug 2014, 21:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>&nbsp; I have a Buffalo WZR-1750-DHPD and I&#039;d like the community help in order to port OpenWRT to it.</p><p>&nbsp; It&#039;s a 802.11ac router and is shipped with DD-WRT. So, I think it would be a little bit easier to do the porting.</p><p>&nbsp; I&#039;m a C programmer but don&#039;t have a good device driver programming skill.</p><p>&nbsp; Any help would be appreciated.</p><p>&nbsp; Following is the hardware specs ...</p><p>root@DD-WRT:~# cat /proc/cpuinfo <br />model name&nbsp; &nbsp; : ARMv7 Processor rev 0 (v7l)<br />processor&nbsp; &nbsp; : 0<br />BogoMIPS&nbsp; &nbsp; : 1594.16<br />Features&nbsp; &nbsp; : swp half thumb fastmult edsp tls <br />CPU implementer&nbsp; &nbsp; : 0x41<br />CPU architecture: 7<br />CPU variant&nbsp; &nbsp; : 0x3<br />CPU part&nbsp; &nbsp; : 0xc09<br />CPU revision&nbsp; &nbsp; : 0</p><p>model name&nbsp; &nbsp; : ARMv7 Processor rev 0 (v7l)<br />processor&nbsp; &nbsp; : 1<br />BogoMIPS&nbsp; &nbsp; : 1594.16<br />Features&nbsp; &nbsp; : swp half thumb fastmult edsp tls <br />CPU implementer&nbsp; &nbsp; : 0x41<br />CPU architecture: 7<br />CPU variant&nbsp; &nbsp; : 0x3<br />CPU part&nbsp; &nbsp; : 0xc09<br />CPU revision&nbsp; &nbsp; : 0</p><p>Hardware&nbsp; &nbsp; : Northstar Prototype<br />Revision&nbsp; &nbsp; : 0000<br />Serial&nbsp; &nbsp; &nbsp; &nbsp; : 0000000000000000</p><p>root@DD-WRT:~# uname -a<br />Linux DD-WRT 3.10.34-rc1 #2005 SMP Mon Mar 24 07:49:09 CET 2014 armv7l GNU/Linux</p><p>root@DD-WRT:~# cat /proc/meminfo <br />&nbsp; &nbsp; &nbsp; &nbsp; total:&nbsp; &nbsp; used:&nbsp; &nbsp; free:&nbsp; shared: buffers:&nbsp; cached:<br />Mem:&nbsp; 528314368 33550336 494764032&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; 3817472 10436608<br />Swap:&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; 0<br />MemTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;515932 kB<br />MemFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 483168 kB<br />MemShared:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />Buffers:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3728 kB<br />Cached:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10192 kB<br />SwapCached:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />Active:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5624 kB<br />Inactive:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10068 kB<br />Active(anon):&nbsp; &nbsp; &nbsp; &nbsp;1772 kB<br />Inactive(anon):&nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />Active(file):&nbsp; &nbsp; &nbsp; &nbsp;3852 kB<br />Inactive(file):&nbsp; &nbsp; 10068 kB<br />Unevictable:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />Mlocked:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />HighTotal:&nbsp; &nbsp; &nbsp; &nbsp; 393216 kB<br />HighFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;380320 kB<br />LowTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;122716 kB<br />LowFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 102848 kB<br />SwapTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />SwapFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />Dirty:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />Writeback:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />AnonPages:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1772 kB<br />Mapped:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1160 kB<br />Shmem:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />Slab:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6208 kB<br />SReclaimable:&nbsp; &nbsp; &nbsp; &nbsp;1380 kB<br />SUnreclaim:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4828 kB<br />KernelStack:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;336 kB<br />PageTables:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 196 kB<br />NFS_Unstable:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />Bounce:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />WritebackTmp:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />CommitLimit:&nbsp; &nbsp; &nbsp; 257964 kB<br />Committed_AS:&nbsp; &nbsp; &nbsp; &nbsp;4800 kB<br />VmallocTotal:&nbsp; &nbsp; &nbsp;892928 kB<br />VmallocUsed:&nbsp; &nbsp; &nbsp; &nbsp;34196 kB<br />VmallocChunk:&nbsp; &nbsp; &nbsp;584220 kB</p><p>root@DD-WRT:~# dmesg <br />Booting Linux on physical CPU 0x0<br />Linux version 3.10.34-rc1 (root@dd-wrt.buildserver) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.01 r39555) ) #2005 SMP Mon Mar 24 07:49:09 CET 2014<br />CPU: ARMv7 Processor [413fc090] revision 0 (ARMv7), cr=10c53c7d<br />CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache<br />Machine: Northstar Prototype<br />Ignoring unrecognised tag 0x00000000<br />Memory policy: ECC disabled, Data cache writealloc<br />map io<br />MPCORE found at 19020000 (VIRT d9020000) 18000000 d8000000<br />On node 0 totalpages: 131072<br />free_area_init_node: node 0, pgdat c03a6900, node_mem_map c0429000<br />&nbsp; Normal zone: 256 pages used for memmap<br />&nbsp; Normal zone: 0 pages reserved<br />&nbsp; Normal zone: 32768 pages, LIFO batch:7<br />&nbsp; HighMem zone: 4864 pages used for memmap<br />&nbsp; HighMem zone: 98304 pages, LIFO batch:31<br />PERCPU: Embedded 7 pages/cpu @c1838000 s7040 r8192 d13440 u32768<br />pcpu-alloc: s7040 r8192 d13440 u32768 alloc=8*4096<br />pcpu-alloc: [0] 0 [0] 1 <br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 130816<br />Kernel command line: console=ttyS0,115200 panic=10 root=/dev/mtdblock3 earlyprintk=1 rootfstype=squashfs,jffs2 noinitrd init=/bin/sh<br />PID hash table entries: 512 (order: -1, 2048 bytes)<br />Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)<br />Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Memory: 128MB 384MB = 512MB total<br />Memory: 515700k/515700k available, 8588k reserved, 393216K highmem<br />Virtual kernel memory layout:<br />&nbsp; &nbsp; vector&nbsp; : 0xffff0000 - 0xffff1000&nbsp; &nbsp;(&nbsp; &nbsp;4 kB)<br />&nbsp; &nbsp; fixmap&nbsp; : 0xfff00000 - 0xfffe0000&nbsp; &nbsp;( 896 kB)<br />&nbsp; &nbsp; vmalloc : 0xc8800000 - 0xff000000&nbsp; &nbsp;( 872 MB)<br />&nbsp; &nbsp; lowmem&nbsp; : 0xc0000000 - 0xc8000000&nbsp; &nbsp;( 128 MB)<br />&nbsp; &nbsp; pkmap&nbsp; &nbsp;: 0xbfe00000 - 0xc0000000&nbsp; &nbsp;(&nbsp; &nbsp;2 MB)<br />&nbsp; &nbsp; modules : 0xbf000000 - 0xbfe00000&nbsp; &nbsp;(&nbsp; 14 MB)<br />&nbsp; &nbsp; &nbsp; .text : 0xc0008000 - 0xc034fda4&nbsp; &nbsp;(3360 kB)<br />&nbsp; &nbsp; &nbsp; .init : 0xc0350000 - 0xc038ab80&nbsp; &nbsp;( 235 kB)<br />&nbsp; &nbsp; &nbsp; .data : 0xc038c000 - 0xc03c8b48&nbsp; &nbsp;( 243 kB)<br />&nbsp; &nbsp; &nbsp; &nbsp;.bss : 0xc03c8b48 - 0xc0428e64&nbsp; &nbsp;( 385 kB)<br />Hierarchical RCU implementation.<br />&nbsp; &nbsp; CONFIG_RCU_FANOUT set to non-default value of 2<br />NR_IRQS:256<br />MPCORE GIC init<br />External imprecise Data abort at addr=0x0, fsr=0x1c06 ignored.<br />MPCORE Global Timer Clock 400000000Hz on IRQ 27<br />sched_clock: 32 bits at 400MHz, resolution 2ns, wraps every 10737ms<br />register local timer<br />smp_twd: clock not found -2<br />Calibrating delay loop... 1594.16 BogoMIPS (lpj=7970816)<br />pid_max: default: 32768 minimum: 301<br />Mount-cache hash table entries: 512<br />CPU: Testing write buffer coherency: ok<br />CPU0: thread -1, cpu 0, socket 0, mpidr 80000000<br />Calibrating local timer... 399.69MHz.<br />2 cores has been found<br />Setting up static identity map for 0xc0012660 - 0xc0012694<br />L310: cache controller enabled 16 ways, CACHE_ID 0x410000c8, AUX_CTRL 0x7a130000<br />CPU1: Booted secondary processor<br />CPU1: thread -1, cpu 1, socket 0, mpidr 80000001<br />Brought up 2 CPUs<br />SMP: Total of 2 processors activated (3188.32 BogoMIPS).<br />NET: Registered protocol family 16<br />DMA: preallocated 256 KiB pool for atomic coherent allocations<br />Found a ST compatible (Marconix) serial flash with 16 64KB blocks; total size 1MB<br />found remapped nvram on sflash<br />CCA UART Clock Config: Sel=1 Ovr=1 Div=48<br />CCA UART Clock rate 100000000Hz<br />bio: create slab &lt;bio-0&gt; at 0<br />Switching to clocksource mpcore_gtimer<br />NET: Registered protocol family 2<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP: reno registered<br />UDP hash table entries: 256 (order: 1, 8192 bytes)<br />UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)<br />NET: Registered protocol family 1<br />PCI: CLS 0 bytes, default 64<br />init gpio code<br />Buffalo WZR-1750DHP<br />PCI: no core<br />PCI: no core<br />PCI: scanning bus 0<br />PCI host bridge to bus 0000:00<br />pci_bus 0000:00: root bus resource [io&nbsp; 0x0000-0xffffffff]<br />pci_bus 0000:00: root bus resource [mem 0x00000000-0xffffffff]<br />pci_bus 0000:00: root bus resource [bus 00-ff]<br />pci 0000:00:00.0: [14e4:0800] type 00 class 0x050100<br />pci 0000:00:00.0: reg 10: [mem 0x18000000-0x18000fff]<br />pci 0000:00:00.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:01.0: [14e4:050b] type 00 class 0xffffff<br />pci 0000:00:01.0: reg 10: [mem 0x18001000-0x18001fff]<br />pci 0000:00:01.0: reg 14: [mem 0x18002000-0x18002fff]<br />pci 0000:00:01.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:02.0: [14e4:0502] type 00 class 0xffffff<br />pci 0000:00:02.0: reg 10: [mem 0x1802c000-0x1802cfff]<br />pci 0000:00:02.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:03.0: [14e4:4715] type 00 class 0x020000<br />pci 0000:00:03.0: reg 10: [mem 0x18024000-0x18024fff]<br />pci 0000:00:03.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:04.0: [14e4:4715] type 00 class 0x020000<br />pci 0000:00:04.0: reg 10: [mem 0x18025000-0x18025fff]<br />pci 0000:00:04.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:05.0: [14e4:4715] type 00 class 0x020000<br />pci 0000:00:05.0: reg 10: [mem 0x18026000-0x18026fff]<br />pci 0000:00:05.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:06.0: [14e4:4715] type 00 class 0x020000<br />pci 0000:00:06.0: reg 10: [mem 0x18027000-0x18027fff]<br />pci 0000:00:06.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:07.0: [14e4:0501] type 00 class 0xffffff<br />pci 0000:00:07.0: reg 10: [mem 0x18012000-0x18012fff]<br />pci 0000:00:07.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:08.0: [14e4:0501] type 00 class 0xffffff<br />pci 0000:00:08.0: reg 10: [mem 0x18013000-0x18013fff]<br />pci 0000:00:08.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:09.0: [14e4:0501] type 00 class 0xffffff<br />pci 0000:00:09.0: reg 10: [mem 0x18014000-0x18014fff]<br />pci 0000:00:09.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:0a.0: [14e4:0510] type 00 class 0xffffff<br />pci 0000:00:0a.0: reg 10: [mem 0x1800b000-0x1800bfff]<br />pci 0000:00:0a.0: reg 14: [mem 0x1800c000-0x1800cfff]<br />pci 0000:00:0a.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:0b.0: [14e4:471a] type 00 class 0x0c0310<br />pci 0000:00:0b.0: reg 10: [mem 0x18022000-0x18022fff]<br />pci 0000:00:0b.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:0b.1: [14e4:471a] type 00 class 0x0c0320<br />pci 0000:00:0b.1: reg 10: [mem 0x18021000-0x18021fff]<br />pci 0000:00:0b.1: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:0c.0: [14e4:472a] type 00 class 0x0c0330<br />pci 0000:00:0c.0: reg 10: [mem 0x18023000-0x18023fff]<br />pci 0000:00:0c.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:0d.0: [14e4:0503] type 00 class 0xffffff<br />pci 0000:00:0d.0: reg 10: [mem 0x18020000-0x18020fff]<br />pci 0000:00:0d.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:0e.0: [14e4:0506] type 00 class 0xffffff<br />pci 0000:00:0e.0: reg 10: [mem 0x18210000-0x1821ffff]<br />pci 0000:00:0e.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:0f.0: [14e4:0507] type 00 class 0xffffff<br />pci 0000:00:0f.0: reg 10: [mem 0x18010000-0x18010fff]<br />pci 0000:00:0f.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:10.0: [14e4:0508] type 00 class 0xffffff<br />pci 0000:00:10.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:11.0: [14e4:0509] type 00 class 0xffffff<br />pci 0000:00:11.0: reg 10: [mem 0x18028000-0x18028fff]<br />pci 0000:00:11.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />pci 0000:00:12.0: [14e4:050a] type 00 class 0xffffff<br />pci 0000:00:12.0: reg 10: [mem 0x18029000-0x18029fff]<br />pci 0000:00:12.0: reg 30: [mem 0x00000000-0x000007ff pref]<br />PCI: Fixing up bus 0<br />PCIE1 link=1<br />PCIE1 switching to GEN2<br />PCIE1 link=1<br />PCI host bridge to bus 0001:00<br />pci_bus 0001:00: root bus resource [mem 0x08000000-0x0fffffff]<br />pci_bus 0001:00: No busn resource found for root bus, will use [bus 00-ff]<br />pci 0001:00:00.0: [14e4:8011] type 01 class 0x060400<br />pci 0001:00:00.0: PME# supported from D0 D3hot D3cold<br />PCI: Fixing up bus 0<br />PCI: bus0: Fast back to back transfers disabled<br />pci 0001:01:00.0: [14e4:4360] type 00 class 0x028000<br />pci 0001:01:00.0: reg 10: [mem 0x08000000-0x08007fff 64bit]<br />pci 0001:01:00.0: supports D1 D2<br />PCI: Fixing up bus 1<br />PCI: bus1: Fast back to back transfers disabled<br />pci_bus 0001:01: busn_res: [bus 01-ff] end is updated to 01<br />pci_bus 0001:00: busn_res: [bus 00-ff] end is updated to 01<br />pci 0001:00:00.0: BAR 8: assigned [mem 0x08000000-0x080fffff]<br />pci 0001:01:00.0: BAR 0: assigned [mem 0x08000000-0x08007fff 64bit]<br />pci 0001:00:00.0: PCI bridge to [bus 01]<br />pci 0001:00:00.0:&nbsp; &nbsp;bridge window [mem 0x08000000-0x080fffff]<br />PCIE2 link=1<br />PCIE2 switching to GEN2<br />PCIE2 link=1<br />PCI host bridge to bus 0002:00<br />pci_bus 0002:00: root bus resource [mem 0x40000000-0x47ffffff]<br />pci_bus 0002:00: No busn resource found for root bus, will use [bus 00-ff]<br />pci 0002:00:00.0: [14e4:8011] type 01 class 0x060400<br />pci 0002:00:00.0: PME# supported from D0 D3hot D3cold<br />PCI: Fixing up bus 0<br />PCI: bus0: Fast back to back transfers disabled<br />pci 0002:02:00.0: [14e4:4331] type 00 class 0x028000<br />pci 0002:02:00.0: reg 10: [mem 0x00000000-0x00003fff 64bit]<br />pci 0002:02:00.0: supports D1 D2<br />PCI: Fixing up bus 2<br />PCI: bus2: Fast back to back transfers disabled<br />pci_bus 0002:02: busn_res: [bus 02-ff] end is updated to 02<br />pci_bus 0002:00: busn_res: [bus 00-ff] end is updated to 02<br />pci 0002:00:00.0: BAR 8: assigned [mem 0x40000000-0x400fffff]<br />pci 0002:02:00.0: BAR 0: assigned [mem 0x40000000-0x40003fff 64bit]<br />pci 0002:00:00.0: PCI bridge to [bus 02]<br />pci 0002:00:00.0:&nbsp; &nbsp;bridge window [mem 0x40000000-0x400fffff]<br />PCIE3 link=0<br />Error creating gpio class<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />msgmni has been set to 239<br />alg: No test for stdrng (krng)<br />io scheduler noop registered (default)<br />io scheduler cfq registered<br />Serial: 8250/16550 driver, 3 ports, IRQ sharing disabled<br />serial8250.0: ttyS0 at MMIO 0x18000300 (irq = 117) is a 16550<br />console [ttyS0] enabled<br />serial8250.0: ttyS1 at MMIO 0x18000400 (irq = 117) is a 16550<br />brd: module loaded<br />loop: module loaded<br />Boot partition size = 262144(0x40000)<br />Creating 3 MTD partitions on &quot;bcmsflash&quot;:<br />0x000000000000-0x000000040000 : &quot;boot&quot;<br />0x0000000f0000-0x000000100000 : &quot;nvram_cfe&quot;<br />0x0000000e0000-0x0000000f0000 : &quot;nvram&quot;<br />Found a Esmt NAND flash:<br />Total size:&nbsp; 128MB<br />Block size:&nbsp; 128KB<br />Page Size:&nbsp; &nbsp;2048B<br />OOB Size:&nbsp; &nbsp; 64B<br />Sector size: 512B<br />Spare size:&nbsp; 16B<br />ECC level:&nbsp; &nbsp;8 (8-bit)<br />Device ID: 0x92 0xf1 0x80 0x95 0x40 0x7f<br />lookup_nflash_rootfs_offset: offset = 0x0, 0x20000<br />found TRX Header on nflash!<br />nflash: squash filesystem with lzma found at block 11<br />Creating 2 MTD partitions on &quot;nflash&quot;:<br />0x000000000000-0x000002000000 : &quot;linux&quot;<br />0x000000160000-0x000002000000 : &quot;rootfs&quot;<br />tun: Universal TUN/TAP device driver, 1.6<br />tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;<br />PPP generic driver version 2.4.2<br />PPP BSD Compression module registered<br />PPP Deflate Compression module registered<br />PPP MPPE Compression module registered<br />NET: Registered protocol family 24<br />GACT probability NOT on<br />Mirror/redirect action on<br />Failed to load ipt action<br />Simple TC action Loaded<br />netem: version 1.3<br />u32 classifier<br />&nbsp; &nbsp; Performance counters on<br />&nbsp; &nbsp; input device check on<br />&nbsp; &nbsp; Actions configured<br />Netfilter messages via NETLINK v0.30.<br />nf_conntrack version 0.5.0 (8057 buckets, 32228 max)<br />nf_conntrack_rtsp v0.6.21 loading<br />xt_time: kernel timezone is -0000<br />ip_set: protocol 6<br />gre: GRE over IPv4 demultiplexor driver<br />nf_nat_rtsp v0.6.21 loading<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />TCP: bic registered<br />TCP: cubic registered<br />TCP: westwood registered<br />TCP: highspeed registered<br />TCP: hybla registered<br />TCP: htcp registered<br />TCP: vegas registered<br />TCP: veno registered<br />TCP: scalable registered<br />TCP: lp registered<br />TCP: yeah registered<br />TCP: illinois registered<br />NET: Registered protocol family 17<br />Bridge firewalling registered<br />8021q: 802.1Q VLAN Support v1.8<br />found cfe nvram<br />Key type encrypted registered<br />Northstar brcmnand NAND Flash Controller driver, Version 0.1 (c) Broadcom Inc. 2012<br />NAND device: Manufacturer ID: 0x92, Chip ID: 0xf1 (Eon NAND 128MiB 3,3V 8-bit), 128MiB, page size: 2048, OOB size: 64<br />Spare area=64 eccbytes 56, ecc bytes located at:<br /> 2 3 4 5 6 7 8 9 10 11 12 13 14 15 18 19 20 21 22 23 24 25 26 27 28 29 30 31 34 35 36 37 38 39 40 41 42 43 44 45 46 47 50 51 52 53 54 55 56 57 58 59 60 61 62 63<br />Available 7 bytes at (off,len):<br />(1,1) (16,2) (32,2) (48,2) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) (0,0) <br />Driver must set ecc.strength when using hardware ECC<br />Scanning device for bad blocks<br />Bad eraseblock 1023 at 0x000007fe0000<br />Options: NO_SUBPAGE_WRITE,<br />Creating 1 MTD partitions on &quot;brcmnand&quot;:<br />0x000002000000-0x000008000000 : &quot;ddwrt&quot;<br />VFS: Mounted root (squashfs filesystem) readonly on device 31:4.<br />Freeing unused kernel memory: 232K (c0350000 - c038a000)<br />softdog: Software Watchdog Timer: 0.08 initialized. soft_noboot=0 soft_margin=60 sec soft_panic=0 (nowayout=1)<br />et: module license &#039;Proprietary&#039; taints kernel.<br />Disabling lock debugging due to kernel taint<br />et_module_init: passivemode set to 0x0<br />et_module_init: txworkq set to 0x0<br />et_module_init: et_txq_thresh set to 0x400<br />et0: online cpus 2<br />eth0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 6.37.14.86 (r456083)<br />roboswitch: Probing device &#039;eth0&#039;<br />roboswitch: trying a 53011! at eth0<br />roboswitch: found a 53011! at eth0<br />PCI: Enabling device 0002:02:00.0 (0140 -&gt; 0142)<br />eth0: mixed HW and IP checksum settings.</p><p>root@DD-WRT:~# cat /proc/mtd <br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 00040000 00010000 &quot;boot&quot;<br />mtd1: 00010000 00010000 &quot;nvram_cfe&quot;<br />mtd2: 00010000 00010000 &quot;nvram&quot;<br />mtd3: 02000000 00020000 &quot;linux&quot;<br />mtd4: 01ea0000 00020000 &quot;rootfs&quot;<br />mtd5: 06000000 00020000 &quot;ddwrt&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242763">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						5 Aug 2014, 01:44					</div>
				</div>
				<div class="post-content content">
					<p>you don&#039;t need to write the device driver, just add support for this model pointing to the right drivers. If there is no source for the drivers from the manufacturer, then forget it. I don&#039;t think there is any such support from Broadcom for their AC radios. DD-WRT has access to Broadcom source that others do not (i.e. it&#039;s not truly open source).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242828">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ronaldoafonso</div>
					<div class="post-datetime">
						5 Aug 2014, 14:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi Drawz,</p><p>&nbsp; First of all, thank you for your reply.</p><p>&nbsp; Well, I&#039;m very interested in running OpenWRT in that hardware even if it&#039;s not possible for me to use the WiFi interface.</p><p>&nbsp; I understood you concern about the drivers, but I&#039;m little bit lost about how to do the porting itself. Do you know any OpenWRT documentation (tutorial) that explains how to port a new hardware to OpenWRT?</p><p>&nbsp; It&#039;s kind of new topic for me and any help would be appreciated.</p><p>&nbsp; Thanks ...</p><p>[]s<br />Ronaldo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242838">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">yapoo</div>
					<div class="post-datetime">
						5 Aug 2014, 16:26					</div>
				</div>
				<div class="post-content content">
					<p>Hi, Ronaldo.</p><p>1. Have you built openwrt image for bcm53xx on your own?<br /><a href="https://dev.openwrt.org/browser/trunk/target/linux/bcm53xx/Makefile">https://dev.openwrt.org/browser/trunk/t â€¦ x/Makefile</a></p><p>2. Can you install openwrt image into WZR-1750-DHPD via bootloader(u-boot?) ?</p><p>If both 1 and 2 are &#039;yes&#039;, why don&#039;t you try to install latest image ?<br />Then you should report the result to the maintainer and cooperate with him.</p><p>&quot;Linux Device Drivers&quot;<br /><a href="http://shop.oreilly.com/product/9780596005900.do">http://shop.oreilly.com/product/9780596005900.do</a></p><p>good luck.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242912">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						6 Aug 2014, 05:34					</div>
				</div>
				<div class="post-content content">
					<p>Give this a try: <br /><a href="http://wiki.openwrt.org/doc/devel/add.new.device">http://wiki.openwrt.org/doc/devel/add.new.device</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242921">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						6 Aug 2014, 08:08					</div>
				</div>
				<div class="post-content content">
					<p>@ronaldoafonso: just boot bcm53xx, see what is not working and develop needed drivers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245904">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ronaldoafonso</div>
					<div class="post-datetime">
						3 Sep 2014, 23:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi Guys,</p><p>&nbsp; Well, after some studying about WZR-1750-DHPD, I have reached the following conclusions:</p><p>&nbsp; 1) It&#039;s bootloader is CFE and not U-Boot. The good news is that I have console access to that device:</p><p>Welcome to minicom 2.6.1</p><p>OPTIONS: I18n <br />Compiled on Feb 11 2012, 18:56:01.<br />Port /dev/ttyUSB0</p><p>Press CTRL-A Z for help on special keys</p><br /><br /><p>BUFFALO CFE Version 1.00&nbsp; [DDRCLK:400]<br />Memory Test start(0x07E00000) end(0x08000000) size(2097152)<br />Data line test start:0x07e00000 pattern 0x00000001 0x00000003 0x00000007 0x0000000F 0x00000005 0x00000015 0x00000055 0xAAAAAAAA <br />Address line test start:0x07e00000 len:0x200000 pattern 0xAAAAAAAA 0x55555555&nbsp; <br />Fill test patnum:2 <br />fill Pattern 5555AAAA&nbsp; Writing...&nbsp; &nbsp;Reading...<br />fill Pattern AAAA5555&nbsp; Writing...&nbsp; &nbsp;Reading...<br />decompressing<br />Decompressing...done<br />Found a ST compatible (Marconix) serial flash with 16 64KB blocks; total size 1MB<br />et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 6.30.163.18 (r377098)</p><p>&nbsp; 2) I have compiled the latest trunck version of OpenWRT (revision 42418) and it produced the following file:</p><p>&nbsp; &nbsp; bin/bcm53xx/openwrt-bcm4708-netgear-r6250-squashfs.chk</p><p>&nbsp; So, now I have the following question:</p><p>&nbsp; &nbsp;1) How I can use that &quot;.chk&quot; file?</p><p>&nbsp; I don&#039;t have any idea about how to flash the router using that file.</p><p>&nbsp; Thanks for you reply ...</p><p>[]s<br />Ronaldo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p252913">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">klirichek</div>
					<div class="post-datetime">
						3 Nov 2014, 04:41					</div>
				</div>
				<div class="post-content content">
					<p>Where the dd-wrt for this router could be accessible?<br />If it works, I just try to guess if it&#039;s arch is based on dtb, or on hard-coded definitions.<br />If dtb - it would be more glue to try this (and other) systems &#039;northstar prototype&#039;.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>