<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Can&#039;t build 12.09</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p218161">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nosp4mer</div>
					<div class="post-datetime">
						21 Nov 2013, 19:27					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m trying to&nbsp; build the latest Version of 12.09. I get every time this error:</p><div class="codebox"><pre><code>make[2]: Leaving directory `/OpenWrtBuildRoot/12.09&#039;
make[1]: *** [/OpenWrtBuildRoot/12.09/staging_dir/target-mips_r2_uClibc-0.9.33.2/stamp/.tools_install_nnnnn] Error 2
make[1]: Leaving directory `/OpenWrtBuildRoot/12.09&#039;
make: *** [world] Error 2</code></pre></div><p>I&#039;ve tried it on different systems with the same error...</p><p>I use the latest git version of 12.09.</p><p>Any advice?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218411">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">tl71</div>
					<div class="post-datetime">
						25 Nov 2013, 11:42					</div>
				</div>
				<div class="post-content content">
					<p>Please show more of the log after doing &quot;make V=s&quot;<br />With you current message, it is not visible, which tool fails to compile.</p>											<p class="post-edited">(Last edited by <strong>tl71</strong> on 25 Nov 2013, 11:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218414">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						25 Nov 2013, 11:48					</div>
				</div>
				<div class="post-content content">
					<p>Please state which Linux Distribution you are running because one might be able to replicate your problem and compare your environment to a working one.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218509">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nosp4mer</div>
					<div class="post-datetime">
						26 Nov 2013, 10:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>the first test machine&nbsp; is a VPS with Debian 7 (stable), 64Bit Intel CPU and 4Gb Ram. The second machine is a i3 Notebook with 8gb Ram and Debian 8 (testing) also 64Bit.</p><p>On both systems I have built several images with the ImageBuilder.</p><p>My last status is, that I can build a firmware with these steps:</p><p>1. make distclean<br />2. no feeds<br />3. make menuconfig -&gt; set Target -&gt; exit (save)<br />4. make defconfig -&gt; no dependencies error<br />5. make prereq<br />6. make -j 3 -&gt; no error, basic firmeware<br />7. NO CLEAN<br />8. make menuconfig<br />9. install feeds<br />10. choose packets<br />11. make -j 3<br />12. no error + desired firmware</p><p>I don&#039;t know why I need all these steps. If I try to skip the pre-build I get the error...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222095">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">stone8936</div>
					<div class="post-datetime">
						8 Jan 2014, 18:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi, </p><p>I installed all the packages required according to <a href="http://wiki.openwrt.org/doc/howto/buildroot.exigence.">http://wiki.openwrt.org/doc/howto/buildroot.exigence.</a> Also, I follow nosp4mer&#039;s steps.<br />I have the same error.<br />I am using Ubuntu 13.10, and I can build OpenWrt 10.03 image on the same machine.</p>											<p class="post-edited">(Last edited by <strong>stone8936</strong> on 9 Jan 2014, 11:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222379">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">docbee</div>
					<div class="post-datetime">
						11 Jan 2014, 02:31					</div>
				</div>
				<div class="post-content content">
					<p>me too. Build chain seems seriously broken somehow...<br /></p><div class="codebox"><pre><code>make[7]: Nothing to be done for `install-exec-am&#039;.
 /usr/bin/mkdir -p &#039;/home/boris/openwrt.3g/trunk-aa/staging_dir/host/share/aclocal&#039;
 /usr/bin/install -c -m 644 m4/bison-i18n.m4 &#039;/home/boris/openwrt.3g/trunk-aa/staging_dir/host/share/aclocal&#039;
make[7]: Leaving directory `/home/boris/openwrt.3g/trunk-aa/build_dir/host/bison-2.7&#039;
make[6]: Leaving directory `/home/boris/openwrt.3g/trunk-aa/build_dir/host/bison-2.7&#039;
make[5]: Leaving directory `/home/boris/openwrt.3g/trunk-aa/build_dir/host/bison-2.7&#039;
make[4]: Leaving directory `/home/boris/openwrt.3g/trunk-aa/build_dir/host/bison-2.7&#039;
mkdir -p /home/boris/openwrt.3g/trunk-aa/staging_dir/host/stamp
touch /home/boris/openwrt.3g/trunk-aa/staging_dir/host/stamp/.bison_installed
make[3]: Leaving directory `/home/boris/openwrt.3g/trunk-aa/tools/bison&#039;
make[2]: Leaving directory `/home/boris/openwrt.3g/trunk-aa&#039;
make[1]: *** [/home/boris/openwrt.3g/trunk-aa/staging_dir/target-mips_r2_uClibc-0.9.33.2/stamp/.tools_install_nnnnn] Error 2
make[1]: Leaving directory `/home/boris/openwrt.3g/trunk-aa&#039;
make: *** [world] Error 2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222419">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						11 Jan 2014, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>None of the posted logs actually contains the error, you need to post more context, look for the first line containing *** and run without -j.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222809">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Reflected_God</div>
					<div class="post-datetime">
						15 Jan 2014, 13:59					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m having same problem building rev34686 for BT home hub 2.0 type B.<br />I&#039;m asking ebilan, who compile this same version for this same router time ago (<a href="http://openwrt.ebilan.co.uk/viewtopic.php?f=4&amp;t=4">http://openwrt.ebilan.co.uk/viewtopic.php?f=4&amp;t=4</a>)<br />I&#039;m using linux puppy precise 5.7.1 with devx installed.<br />I&#039;m using a non-root in console.<br />Here you have my log:<br /></p><div class="codebox"><pre><code># make V=s
make[1]: Entering directory `/root/spot/trunk&#039;
make[2]: Entering directory `/root/spot/trunk&#039;
+ mkdir -p /root/spot/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2
+ cd /root/spot/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2
+ mkdir -p bin lib include stamp
mkdir -p /root/spot/trunk/build_dir/target-mips_r2_uClibc-0.9.33.2/stamp
touch /root/spot/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/.prepared
+ mkdir -p /root/spot/trunk/staging_dir/host
+ cd /root/spot/trunk/staging_dir/host
+ mkdir -p bin lib include stamp
mkdir -p /root/spot/trunk/build_dir/host/stamp /root/spot/trunk/staging_dir/host/include/sys
install -m0644 /root/spot/trunk/tools/include/*.h /root/spot/trunk/staging_dir/host/include/
install -m0644 /root/spot/trunk/tools/include/sys/*.h /root/spot/trunk/staging_dir/host/include/sys/
ln -sf lib /root/spot/trunk/staging_dir/host/lib64
touch /root/spot/trunk/staging_dir/host/.prepared
make[3]: Entering directory `/root/spot/trunk/tools/m4&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/m4&#039;
make[3]: Entering directory `/root/spot/trunk/tools/m4&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/m4&#039;
make[3]: Entering directory `/root/spot/trunk/tools/sed&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/sed&#039;
make[3]: Entering directory `/root/spot/trunk/tools/sed&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/sed&#039;
make[3]: Entering directory `/root/spot/trunk/tools/libtool&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/libtool&#039;
make[3]: Entering directory `/root/spot/trunk/tools/libtool&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/libtool&#039;
make[3]: Entering directory `/root/spot/trunk/tools/autoconf&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/autoconf&#039;
make[3]: Entering directory `/root/spot/trunk/tools/autoconf&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/autoconf&#039;
make[3]: Entering directory `/root/spot/trunk/tools/pkg-config&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/pkg-config&#039;
make[3]: Entering directory `/root/spot/trunk/tools/pkg-config&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/pkg-config&#039;
make[3]: Entering directory `/root/spot/trunk/tools/xz&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/xz&#039;
make[3]: Entering directory `/root/spot/trunk/tools/xz&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/xz&#039;
make[3]: Entering directory `/root/spot/trunk/tools/automake&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/automake&#039;
make[3]: Entering directory `/root/spot/trunk/tools/automake&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/automake&#039;
make[3]: Entering directory `/root/spot/trunk/tools/gmp&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/gmp&#039;
make[3]: Entering directory `/root/spot/trunk/tools/gmp&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/gmp&#039;
make[3]: Entering directory `/root/spot/trunk/tools/mpfr&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/mpfr&#039;
make[3]: Entering directory `/root/spot/trunk/tools/mpfr&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/mpfr&#039;
make[3]: Entering directory `/root/spot/trunk/tools/mpc&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/mpc&#039;
make[3]: Entering directory `/root/spot/trunk/tools/mpc&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/mpc&#039;
make[3]: Entering directory `/root/spot/trunk/tools/libelf&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/libelf&#039;
make[3]: Entering directory `/root/spot/trunk/tools/libelf&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/libelf&#039;
make[3]: Entering directory `/root/spot/trunk/tools/flex&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/flex&#039;
make[3]: Entering directory `/root/spot/trunk/tools/flex&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/flex&#039;
make[3]: Entering directory `/root/spot/trunk/tools/bison&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/bison&#039;
make[3]: Entering directory `/root/spot/trunk/tools/bison&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/bison&#039;
make[3]: Entering directory `/root/spot/trunk/tools/mklibs&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/mklibs&#039;
make[3]: Entering directory `/root/spot/trunk/tools/mklibs&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/mklibs&#039;
make[3]: Entering directory `/root/spot/trunk/tools/sstrip&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/sstrip&#039;
make[3]: Entering directory `/root/spot/trunk/tools/sstrip&#039;
make[3]: Leaving directory `/root/spot/trunk/tools/sstrip&#039;
make[3]: Entering directory `/root/spot/trunk/tools/ipkg-utils&#039;
make -j1 -C /root/spot/trunk/build_dir/host/ipkg-utils-1.7  
make[4]: Entering directory `/root/spot/trunk/build_dir/host/ipkg-utils-1.7&#039;
python setup.py build
/usr/lib/python2.7/distutils/distutils/dist.py:251: UserWarning: &#039;licence&#039; distribution option is deprecated; use &#039;license&#039;
  warnings.warn(msg)
Traceback (most recent call last):
  File &quot;setup.py&quot;, line 21, in &lt;module&gt;
    scripts = [&#039;ipkg-compare-indexes&#039;, &#039;ipkg-make-index&#039;, &#039;ipkg-update-index&#039;]
  File &quot;/usr/lib/python2.7/distutils/core.py&quot;, line 138, in setup
    ok = dist.parse_command_line()
  File &quot;/usr/lib/python2.7/distutils/distutils/dist.py&quot;, line 467, in parse_command_line
    args = self._parse_command_opts(parser, args)
  File &quot;/usr/lib/python2.7/distutils/distutils/dist.py&quot;, line 531, in _parse_command_opts
    &quot;command class %s must subclass Command&quot; % cmd_class
distutils.errors.DistutilsClassError: command class distutils.command.build.build must subclass Command
make[4]: *** [build] Error 1
make[4]: Leaving directory `/root/spot/trunk/build_dir/host/ipkg-utils-1.7&#039;
make[3]: *** [/root/spot/trunk/build_dir/host/ipkg-utils-1.7/.built] Error 2
make[3]: Leaving directory `/root/spot/trunk/tools/ipkg-utils&#039;
make[2]: *** [tools/ipkg-utils/compile] Error 2
make[2]: Leaving directory `/root/spot/trunk&#039;
make[1]: *** [/root/spot/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/stamp/.tools_install_nnnnn] Error 2
make[1]: Leaving directory `/root/spot/trunk&#039;
make: *** [world] Error 2
# </code></pre></div><p>What&#039;s wrong?</p><p>Thank you</p>											<p class="post-edited">(Last edited by <strong>Reflected_God</strong> on 15 Jan 2014, 14:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222813">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						15 Jan 2014, 15:24					</div>
				</div>
				<div class="post-content content">
					<p>Looks to me like the python stuff on the host system is too new.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222817">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">stone8936</div>
					<div class="post-datetime">
						15 Jan 2014, 15:39					</div>
				</div>
				<div class="post-content content">
					<p>I solved this problem finally.<br />It seems some packages are lost, on my laptop. I just install all the required packages for all versions of the systems, no matter which one I use.<br />A hint from <a href="http://foro.seguridadwireless.net/openwrt/compilar-openwrt-a-nuestro-gusto/240/?imode.">http://foro.seguridadwireless.net/openw â€¦ 40/?imode.</a><br />And also, as jow said, some times make it without &quot;-j 3&quot;. But some times I can build with &quot;-j 3&quot; also. It is little strange.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222819">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Reflected_God</div>
					<div class="post-datetime">
						15 Jan 2014, 15:53					</div>
				</div>
				<div class="post-content content">
					<p>Could you please post which packages have you installed?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222820">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">stone8936</div>
					<div class="post-datetime">
						15 Jan 2014, 16:06					</div>
				</div>
				<div class="post-content content">
					<p>I didn&#039;t exactly check. But I use Ubuntu 13.10,<br />besides:<br />build-essential subversion git-core libncurses5-dev zlib1g-dev gawk flex quilt xsltproc<br />which are mentioned in the official document, I also install all the required packs for 9.10, 12.04, 64bit, there may be some overlap among them:<br />sudo apt-get install build-essential subversion libncurses5-dev zlib1g-dev gawk gcc-multilib flex git-core gettext<br />sudo apt-get install build-essential subversion git-core libncurses5-dev zlib1g-dev gawk flex quilt libssl-dev xsltproc libxml-parser-perl<br />sudo apt-get install gcc-multilib bison autoconf screen gcc g++ binutils patch bzip2 flex make gettext unzip libc6 git-core</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222894">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Reflected_God</div>
					<div class="post-datetime">
						16 Jan 2014, 12:29					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve checked all dependencies and I&#039;ve all them installed.<br />The problem is almost the same.<br /></p><div class="codebox"><pre><code>make[4]: Entering directory `/root/spot/trunk/build_dir/host/ipkg-utils-1.7&#039;
cc  -o ipkg-compare-versions ipkg-compare-versions.c
python setup.py build
/usr/lib/python2.7/distutils/distutils/dist.py:251: UserWarning: &#039;licence&#039; distribution option is deprecated; use &#039;license&#039;
  warnings.warn(msg)
Traceback (most recent call last):
  File &quot;setup.py&quot;, line 21, in &lt;module&gt;
    scripts = [&#039;ipkg-compare-indexes&#039;, &#039;ipkg-make-index&#039;, &#039;ipkg-update-index&#039;]
  File &quot;/usr/lib/python2.7/distutils/core.py&quot;, line 138, in setup
    ok = dist.parse_command_line()
  File &quot;/usr/lib/python2.7/distutils/distutils/dist.py&quot;, line 467, in parse_command_line
    args = self._parse_command_opts(parser, args)
  File &quot;/usr/lib/python2.7/distutils/distutils/dist.py&quot;, line 531, in _parse_command_opts
    &quot;command class %s must subclass Command&quot; % cmd_class
distutils.errors.DistutilsClassError: command class distutils.command.build.build must subclass Command
make[4]: *** [build] Error 1
make[4]: Leaving directory `/root/spot/trunk/build_dir/host/ipkg-utils-1.7&#039;
make[3]: *** [/root/spot/trunk/build_dir/host/ipkg-utils-1.7/.built] Error 2
make[3]: Leaving directory `/root/spot/trunk/tools/ipkg-utils&#039;
make[2]: *** [tools/ipkg-utils/compile] Error 2
make[2]: Leaving directory `/root/spot/trunk&#039;
make[1]: *** [/root/spot/trunk/staging_dir/target-mips_r2_uClibc-0.9.33.2/stamp/.tools_install_nnnnn] Error 2
make[1]: Leaving directory `/root/spot/trunk&#039;
make: *** [world] Error 2</code></pre></div><p>Now I can see problems with ipkg or pyhton... Am I right?<br />How can I solve them?</p>											<p class="post-edited">(Last edited by <strong>Reflected_God</strong> on 16 Jan 2014, 12:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222897">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						16 Jan 2014, 12:55					</div>
				</div>
				<div class="post-content content">
					<p>As I said, the python stuff on your system is likely too new. See if you can install a 2.4 or 2.6 version.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222969">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Reflected_God</div>
					<div class="post-datetime">
						17 Jan 2014, 11:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>As I said, the python stuff on your system is likely too new. See if you can install a 2.4 or 2.6 version.</p></blockquote></div><p>You were absolutely right.<br />I&#039;ve solved installing python 2.6.9 this way (as root):<br /></p><div class="codebox"><pre><code>wget http://www.python.org/ftp/python/2.6.9/Python-2.6.9.tgz
tar -xvf Python-2.6.9.tgz
cd Python-2.6.9
./configure
make
make altinstall
ln -sf /usr/loca/bin/python2.6 /usr/bin/python</code></pre></div><p>Now I&#039;ve my own compiled image of openwrt.</p><p>Thank you <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>Reflected_God</strong> on 23 Jan 2014, 10:46)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>